<!------------------------- Options Start ------------------------->
<input type="hidden" name="attr_new_character_flag" value="1" />
<!-------------------------  Options End  ------------------------->

<div class="sheet-layout">
<!-- Hidden Edit Mode Toggle Controller -->
<input type="hidden" class="sheet-edit-controller" name="attr_edit_mode" value="off" />
<!-- Hidden Edit Mode Toggle Controller -->	
	<!-- Top Section -->
	<div class="sheet-top">
			<!-- 2 Cols (50/50): Investigator Info + Characteristics -->
			<div class="sheet-top-2col">
				<div class="sheet-section">
					<h4 class="sheet-section-head" data-i18n="investigatorinfo-u">Investigator Info</h4>
					<div class="sheet-grid-investigatorinfo">
						<div class="sheet-info-label" data-i18n="name-u">Name</div>
						<input class="sheet-attr-input-long" type="text" name="attr_name">
						<div class="sheet-info-label" data-i18n="player-u">Player</div>
						<input class="sheet-attr-input-long" type="text" name="attr_player">
						<div class="sheet-info-label" data-i18n="occupation-u">Occupation</div>
						<input class="sheet-attr-input-long" type="text" name="attr_occupation">
						<div class="sheet-info-label" data-i18n="age-u">Age</div>
						<div class="sheet-grid-age-sex">
							<input class="sheet-attr-input-long" type="text" name="attr_age">
							<div class="sheet-info-label" data-i18n="sex-u">Sex</div>
							<input class="sheet-attr-input-long" type="text" name="attr_sex">
						</div>
						<div class="sheet-info-label" data-i18n="residence-u">Residence</div>
						<input class="sheet-attr-input-long" type="text" name="attr_residence">
						<div class="sheet-info-label" data-i18n="birthplace-u">Birthplace</div>
						<input class="sheet-attr-input-long" type="text" name="attr_birthplace">
					</div>
				</div>	
				<div class="sheet-section">
					<h4 class="sheet-section-head" data-i18n="characteristics-u">Characteristics</h4>
					<!-- Row 1: STR / DEX / POW / VITALITY -->
					<div class="sheet-grid-characteristics">
						<!-- STR -->
						<div class="sheet-attr-label" data-i18n="STR-u">STR</div>
						<div class="sheet-str-wrapper sheet-input-roll-wrapper">
							<input class="sheet-attr-input sheet-edit-toggle-field" name="attr_str" type="text" />
							<button class="sheet-str-roll" type="roll" name="roll_str_check" value="&{template:coc-1} {{name=@{str_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{str}]]}} {{hard=[[floor(@{str}/2)]]}} {{extreme=[[floor(@{str}/5)]]}} {{roll1=[[1d100]]}}"></button>
						</div>

						<!-- DEX -->
						<div class="sheet-attr-label" data-i18n="DEX-u">DEX</div>
						<div class="sheet-dex-wrapper sheet-input-roll-wrapper">
							<input class="sheet-attr-input sheet-edit-toggle-field" name="attr_dex" type="text" />
							<button class="sheet-dex-roll" type="roll" name="roll_dex_check" value="&{template:coc-1} {{name=@{dex_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{dex}]]}} {{hard=[[floor(@{dex}/2)]]}} {{extreme=[[floor(@{dex}/5)]]}} {{roll1=[[1d100]]}}"></button>
						</div>

						<!-- POW -->
						<div class="sheet-attr-label" data-i18n="POW-u">POW</div>
						<div class="sheet-pow-wrapper sheet-input-roll-wrapper">
							<input class="sheet-attr-input sheet-edit-toggle-field" name="attr_pow" type="text" />
							<button class="sheet-pow-roll" type="roll" name="roll_pow_check" value="&{template:coc-1} {{name=@{pow_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{pow}]]}} {{hard=[[floor(@{pow}/2)]]}} {{extreme=[[floor(@{pow}/5)]]}} {{roll1=[[1d100]]}}"></button>
						</div>
						<div class="sheet-vertical-divider"></div>

						<!-- VITALITY -->
						<div class="sheet-attr-label" data-i18n="vitality-u">Vitality</div>
						<input class="sheet-attr-input sheet-edit-toggle-field" type="text" name="attr_vitality" placeholder="current" data-i18n-placeholder="current" />
						<div class="sheet-vitality-slash">/</div>
						<input class="sheet-attr-input" type="text" name="attr_vitality_max" placeholder="max" readonly />

						<!-- Row 2: CON / APP / EDU / STRAIN -->
						<!-- CON -->
						<div class="sheet-attr-label" data-i18n="CON-u">CON</div>
						<div class="sheet-con-wrapper sheet-input-roll-wrapper">
							<input class="sheet-attr-input sheet-edit-toggle-field" name="attr_con" type="text" />
							<button class="sheet-con-roll" type="roll" name="roll_con_check" value="&{template:coc-1} {{name=@{con_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{con}]]}} {{hard=[[floor(@{con}/2)]]}} {{extreme=[[floor(@{con}/5)]]}} {{roll1=[[1d100]]}}"></button>
						</div>

						<!-- APP -->
						<div class="sheet-attr-label" data-i18n="APP-u">APP</div>
						<div class="sheet-app-wrapper sheet-input-roll-wrapper">
							<input class="sheet-attr-input sheet-edit-toggle-field" name="attr_app" type="text" />
							<button class="sheet-app-roll" type="roll" name="roll_app_check" value="&{template:coc-1} {{name=@{app_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{app}]]}} {{hard=[[floor(@{app}/2)]]}} {{extreme=[[floor(@{app}/5)]]}} {{roll1=[[1d100]]}}"></button>
						</div>

						<!-- EDU -->
						<div class="sheet-attr-label" data-i18n="EDU-u">EDU</div>
						<div class="sheet-edu-wrapper sheet-input-roll-wrapper">
							<input class="sheet-attr-input sheet-edit-toggle-field" name="attr_edu" type="text" />
							<button class="sheet-edu-roll" type="roll" name="roll_edu_check" value="&{template:coc-1} {{name=@{edu_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{edu}]]}} {{hard=[[floor(@{edu}/2)]]}} {{extreme=[[floor(@{edu}/5)]]}} {{roll1=[[1d100]]}}"></button>
						</div>
						<div class="sheet-vertical-divider"></div>
						
						<!-- STRAIN -->
 						<div class="sheet-attr-label" data-i18n="strain-u">Strain</div>
						<input class="sheet-attr-input sheet-edit-toggle-field" type="text" name="attr_strain" placeholder="current" data-i18n-placeholder="current" />
						<div class="sheet-strain-slash">/</div>
						<input class="sheet-attr-input" type="text" name="attr_strain_max" placeholder="max" readonly />

						<!-- Row 3: SIZ / INT / MAG / HP -->
						<!-- SIZ -->
 						<div class="sheet-attr-label" data-i18n="SIZ-u">SIZ</div>
						<div class="sheet-siz-wrapper sheet-input-roll-wrapper">
							<input class="sheet-attr-input sheet-edit-toggle-field" name="attr_siz" type="text" />
							<button class="sheet-siz-roll" type="roll" name="roll_siz_check" value="&{template:coc-1} {{name=@{siz_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{siz}]]}} {{hard=[[floor(@{siz}/2)]]}} {{extreme=[[floor(@{siz}/5)]]}} {{roll1=[[1d100]]}}"></button>
						</div>

						<!-- INT -->
						<div class="sheet-attr-label" data-i18n="INT-u">INT</div>
  						<div class="sheet-int-wrapper sheet-input-roll-wrapper">
							<input class="sheet-attr-input sheet-edit-toggle-field" name="attr_int" type="text" />
							<button class="sheet-int-roll" type="roll" name="roll_int_check" value="&{template:coc-1} {{name=@{int_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{int}]]}} {{hard=[[floor(@{int}/2)]]}} {{extreme=[[floor(@{int}/5)]]}} {{roll1=[[1d100]]}}"></button>
 						</div>

 						<!-- MAG -->
						<div class="sheet-attr-label" data-i18n="MAG-u">MAG</div>
						<div class="sheet-mag-wrapper sheet-input-roll-wrapper">
							<input class="sheet-attr-input sheet-edit-toggle-field" name="attr_mag" type="text" />
							<button class="sheet-mag-roll" type="roll" name="roll_mag_check" value="&{template:coc-1} {{name=@{mag_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{mag}]]}} {{hard=[[floor(@{mag}/2)]]}} {{extreme=[[floor(@{mag}/5)]]}} {{roll1=[[1d100]]}}"></button>
						</div>
						<div class="sheet-vertical-divider"></div>
						
						<!-- HP -->
						<div class="sheet-attr-label" data-i18n="HP-u">Hit Points</div>
						<input class="sheet-attr-input sheet-edit-toggle-field" type="text" name="attr_hp" placeholder="current" data-i18n-placeholder="current" />
						<div class="sheet-hp-slash">/</div>
						<input class="sheet-attr-input" type="text" name="attr_pulphp_max" placeholder="max" readonly />
					</div>
					 <!-- Separator -->
					<div class="sheet-attr-separator"></div> 
					
					<!-- Row 4: BUILD / MOVE / AC / Init / Luck -->
					<div class="sheet-grid-characteristics-lower">
						<div class="sheet-grid-inline">
							<label class="sheet-attr-label" data-i18n="build-u">Build</label>
							<input class="sheet-attr-input" type="text" name="attr_build" readonly />
						</div>
						<div class="sheet-grid-inline sheet-move-wrapper">
							<label class="sheet-attr-label" data-i18n="Move rate-u">Move rate</label>
							<div class="sheet-grid-move">
								<input class="sheet-attr-input sheet-edit-toggle-field" type="text" name="attr_mov" />
								<button class="sheet-move-roll" type="roll" name="roll_mov_check" value="&{template:default} {{name=Initiative (Chase)}} {{result=[[1d10 + @{mov} &{tracker}]]}}"></button>
							</div>
						</div>

						<div class="sheet-grid-inline">
							<label class="sheet-attr-label" data-i18n="arcane_capacity-u">Arc. Cap.</label>
							<input class="sheet-attr-input" type="text" name="attr_ac" readonly />
						</div>

						<div class="sheet-vertical-divider"></div>	
					
						<div class="sheet-grid-inline sheet-init-wrapper">
							<label class="sheet-attr-label" data-i18n="initiative-u">Init</label>
							<div class="sheet-grid-initiative">
								<input class="sheet-attr-input sheet-edit-toggle-field" type="text" name="attr_dex" />
								<button class="sheet-init-roll-button" type="roll" name="roll_initdex" value="!initdex" ></button>
							</div>
						</div>

						<div class="sheet-grid-inline sheet-luck-wrapper">
							<label class="sheet-attr-label" data-i18n="luck-u">Luck</label>
							<div class="sheet-grid-luck">
								<input class="sheet-attr-input sheet-edit-toggle-field" type="text" name="attr_luck" />
								<button class="sheet-luck-roll" type="roll" name="roll_luck_check" value="&{template:coc-1} {{name=@{luck_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{luck}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{luck}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{luck}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}"></button>
							</div>
						</div>
					</div>
                </div>
			</div>

			<!-- 4 Cols (25/25/25/25): Race / Spenders / Damage Bonus / Build -->
			<div class="sheet-top-4col">
				<div class="sheet-section">
					<div class="sheet-race">
						<h4 class="sheet-section-head" data-i18n="race-u">Race</h4>
						<select class="sheet-selection-full" name="attr_showracials">
							<option value="0" selected>-- Choose Race --</option>
							<option value="alteri">Alteri</option>
							<option value="draevi">Draevi</option>
							<option value="feran">Feran</option>
							<option value="human">Human</option>
							<option value="khadra">Khadra</option>
							<option value="kitsu">Kitsu</option>
							<option value="lyranni">Lyranni</option>
							<option value="veyra">Veyra</option>
						</select>
					</div>
				</div>
				<div class="sheet-section">
					<div class="sheet-damage_bonus">
						<h4 class="sheet-section-head" data-i18n="damagebonus-u">Damage Bonus</h4>
						<select class="sheet-select-full" name="attr_damage_bonus">
							<option value="-2">-2</option>
							<option value="-1">-1</option>
							<option value="0" selected data-i18n="None">None</option>
							<option value="1d4">+1d4</option>
							<option value="1d6">+1d6</option>
							<option value="2d6">+2d6</option>
							<option value="3d6">+3d6</option>
							<option value="4d6">+4d6</option>
							<option value="5d6">+5d6</option>
							<option value="6d6">+6d6</option>
							<option value="7d6">+7d6</option>
							<option value="8d6">+8d6</option>
							<option value="9d6">+9d6</option>
							<option value="10d6">+10d6</option>
						</select>
					</div>
				</div>
                <div class="sheet-section">
                    <div class="sheet-spenders">
                        <h4 class="sheet-section-head" data-i18n="spenders-u">Spenders</h4>
                        <div class="sheet-grid-spenders">
                            <div class="sheet-info-label-small" data-i18n="total_attr_points_spent-u">AS</div>
                            <input class="sheet-attr-input-small" type="text" name="attr_total_attr_points_spent" readonly>
                            <div></div>
                            <div class="sheet-info-label-small" data-i18n="total_skill_points_spent-u">SPS</div>
                            <input class="sheet-attr-input-small" type="text" name="attr_total_skill_points_spent" readonly>
                        </div>
                    </div>
                </div>				
				<div class="sheet-section">
					<div class="sheet-edit-toggle">
						<h4 class="sheet-section-head" data-i18n="editmode-u">Edit Mode</h4>
						<input type="hidden" class="sheet-edit-controller" name="attr_edit_mode" value="off" />
						<button type="action" name="act_edit_mode">Edit Mode</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Middle Section -->
	<div class="sheet-middle">
		<!-- Combined 3-Column Layout: Dice Rolls (40%), Modifiers (20%), Logo (40%) -->
		<div class="sheet-middle-3col">
			<!-- Dice Rolls (40%) -->
			<div class="sheet-dice">
			<h4 class="sheet-section-head" data-i18n="dicerolls-u">Dice Rolls</h4>
				<div class="sheet-dice-roll-grid">
					<div class="sheet-dice-roll-wrapper"><span>1D3</span><button type="roll" name="roll_1D3" value="&{template:coc-dice-roll} {{name=Rolling 1D3}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{diceroll=[[1D3+@{dice_modifier_checkbox}]]}}"></button></div>
					<div class="sheet-dice-roll-wrapper"><span>1D4</span><button type="roll" name="roll_1D4" value="&{template:coc-dice-roll} {{name=Rolling 1D4}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{diceroll=[[1D4+@{dice_modifier_checkbox}]]}}"></button></div>
					<div class="sheet-dice-roll-wrapper"><span>1D5</span><button type="roll" name="roll_1D5" value="&{template:coc-dice-roll} {{name=Rolling 1D5}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{diceroll=[[1D5+@{dice_modifier_checkbox}]]}}"></button></div>
					<div class="sheet-dice-roll-wrapper"><span>1D6</span><button type="roll" name="roll_1D6" value="&{template:coc-dice-roll} {{name=Rolling 1D6}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{diceroll=[[1D6+@{dice_modifier_checkbox}]]}}"></button></div>
					<div class="sheet-dice-roll-wrapper"><span>1D7</span><button type="roll" name="roll_1D7" value="&{template:coc-dice-roll} {{name=Rolling 1D7}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{diceroll=[[1D7+@{dice_modifier_checkbox}]]}}"></button></div>
					<div class="sheet-dice-roll-wrapper"><span>1D8</span><button type="roll" name="roll_1D8" value="&{template:coc-dice-roll} {{name=Rolling 1D8}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{diceroll=[[1D8+@{dice_modifier_checkbox}]]}}"></button></div>
					<div class="sheet-dice-roll-wrapper"><span>1D10</span><button type="roll" name="roll_1D10" value="&{template:coc-dice-roll} {{name=Rolling 1D10}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{diceroll=[[1D10+@{dice_modifier_checkbox}]]}}"></button></div>
					<div class="sheet-dice-roll-wrapper"><span>1D12</span><button type="roll" name="roll_1D12" value="&{template:coc-dice-roll} {{name=Rolling 1D12}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{diceroll=[[1D12+@{dice_modifier_checkbox}]]}}"></button></div>
					<div class="sheet-dice-roll-wrapper"><span>1D20</span><button type="roll" name="roll_1D20" value="&{template:coc-dice-roll} {{name=Rolling 1D20}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{diceroll=[[1D20+@{dice_modifier_checkbox}]]}}"></button></div>
					<div class="sheet-dice-roll-wrapper"><span data-i18n="body-hit-location">Hit Loc.</span><button type="roll" name="roll_body_hit_loc" value="&{template:coc-body-hit-loc} {{roll1=[[1D20]]}}"></button></div>
					<div class="sheet-dice-custom">
						<input type="text" name="attr_dice_roll" class="dice-roll-input" placeholder="Custom" data-i18n-placeholder="custom-u" />
						<button type="roll" name="roll_custom_roll" value="&{template:coc-dice-roll} {{name=Rolling @{dice_roll}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{diceroll=[[@{dice_roll}+@{dice_modifier_checkbox}]]}}"></button>
					</div>
				</div>
			</div>
			<!-- Dice Modifiers (20%) -->

			<div class="sheet-dice_modifiers">
				<div class="sheet-dice-modifier-tabs">
					<h4 class="sheet-section-head" data-i18n="dicemodifiers-u">Dice Modifiers</h4>
					
					<input type="hidden" name="attr_dice_modifier_checkbox" value="0" />
					
					<button type="action" name="act_20">+20 target number</button>
					<button type="action" name="act_10">+10 target number</button>
					<button type="action" name="act_-10">-10 target number</button>
					<button type="action" name="act_-20">-20 target number</button>
				</div>
			</div>
			<!-- Logo (40%) -->
			<div class="sheet-logo">
				<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Ghost Logo" style="max-width: 100%; height: 115px;" />
			</div>
		</div>
	</div>


	<!-- Bottom Section -->
	<div class="sheet-bottom">
		<!-- Hidden tab value controller -->
		<input type="hidden" class="sheet-tab-controller" name="attr_selected_tab" value="skills" />
			<!-- Tab Buttons -->
		<div class="sheet-tab-buttons">
			<button type="action" name="act_skills">Skills</button>
			<button type="action" name="act_background">Background</button>
			<button type="action" name="act_talents">Talents</button>
			<button type="action" name="act_combat">Combat</button>	
			<button type="action" name="act_spells">Spells</button>
			<button type="action" name="act_inventory">Inventory</button>
			<button type="action" name="act_backstory">Backstory</button>
			<button type="action" name="act_npcs">NPCs</button>
			<button type="action" name="act_vehicles">Vehicles</button>
		</div>

		<!-- ------------------- SKILLS -------------------- -->
		<div class="sheet-tab-content sheet-skills">
			<div class="sheet-3colrow">
				<h4 class="section-head" data-i18n="investigatorskills-u">Skills</h4>
				<div class="sheet-skill-columns">
					<div class="sheet-skill-column">
						<div class="sheet-skill-grid-header">
							<div class="sheet-skill-col">T</div>
							<div class="sheet-skill-col">Combat</div>
							<div class="sheet-skill-col">SP</div>
							<div class="sheet-skill-col">Val</div>
						</div>
						<div class="sheet-skill-grid">
							<div><input type="checkbox" name="attr_archery_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_archery_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="archery-u">Archery(10%)</span></div>
							<div><input class="skill-input" type="text" name="attr_archery_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_archery_mdr" readonly />
								<button type="roll" name="roll_archery_mdr_check" value="&{template:coc-1} {{name=@{archery_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{archery_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{archery_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{archery_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_dodge_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_dodge_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="dodge-u">Dodge(DEX/2)</span></div>
							<div><input class="skill-input" type="text" name="attr_dodge_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="skill-input" type="text" name="attr_dodge_mdr" readonly />
								<button type="roll" name="roll_dodge_mdr_check" value="&{template:coc-1} {{name=@{dodge_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{dodge_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{dodge_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{dodge_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_gunnery_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_gunnery_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="gunnery-u">Gunnery(10%)</span></div>
							<div><input class="skill-input" type="text" name="attr_gunnery_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_gunnery_mdr" readonly />
								<button type="roll" name="roll_gunnery_mdr_check" value="&{template:coc-1} {{name=@{gunnery_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{gunnery_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{gunnery_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{gunnery_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_heavy_weapons_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_heavy_weapons_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="heavy_weapons-u">Heavy Weapons(10%)</span></div>
							<div><input class="skill-input" type="text" name="attr_heavy_weapons_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_heavy_weapons_mdr" readonly />
								<button type="roll" name="roll_heavy_weapons_mdr_check" value="&{template:coc-1} {{name=@{heavy_weapons_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{heavy_weapons_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{heavy_weapons_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{heavy_weapons_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_melee_weapons_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_melee_weapons_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="melee_weapons-u">Melee Weapon(20%)</span></div>
							<div><input class="skill-input" type="text" name="attr_melee_weapons_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_melee_weapons_mdr" readonly />
								<button type="roll" name="roll_melee_weapons_mdr_check" value="&{template:coc-1} {{name=@{melee_weapons_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{melee_weapons_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{melee_weapons_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{melee_weapons_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_firearms_handgun_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_firearms_handgun_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="firearms(hg)-u">Pistols(20%)</span></div>
							<div><input class="skill-input" type="text" name="attr_firearms_handgun_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_firearms_handgun_mdr" readonly />
								<button type="roll" name="roll_firearms_handgun_mdr_check" value="&{template:coc-1} {{name=@{firearms_hg_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{firearms_handgun_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{firearms_handgun_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{firearms_handgun_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_firearms_rifle_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_firearms_rifle_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="firearms_rifle-u">Rifle/Shotgun(25%)</span></div>
							<div><input class="skill-input" type="text" name="attr_firearms_rifle_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_firearms_rifle_mdr" readonly />
								<button type="roll" name="roll_firearms_rifle_mdr_check" value="&{template:coc-1} {{name=@{firearms_rifle_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{firearms_rifle_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{firearms_rifle_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{firearms_rifle_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_firearms_smg_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_firearms_s_m_g_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="firearms_s_m_g-u">Submachine Guns(15%)</span></div>
							<div><input class="skill-input" type="text" name="attr_firearms_smg_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_firearms_smg_mdr" readonly />
								<button type="roll" name="roll_firearms_smg_mdr_check" value="&{template:coc-1} {{name=@{firearms_smg_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{firearms_smg_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{firearms_smg_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{firearms_smg_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_throw_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_throw_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="throw-u">Throw(20%)</span></div>
							<div><input class="skill-input" type="text" name="attr_throw_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_throw_mdr" readonly />
								<button type="roll" name="roll_throw_mdr_check" value="&{template:coc-1} {{name=@{throw_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{throw_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{throw_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{throw_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_unarmed_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_unarmed_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="unarmed-u">Unarmed(25%)</span></div>
							<div><input class="skill-input" type="text" name="attr_unarmed_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_unarmed_mdr" readonly />
								<button type="roll" name="roll_unarmed_mdr_check" value="&{template:coc-1} {{name=@{unarmed_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{unarmed_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{unarmed_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{unarmed_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_otherskill1_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_otherskill1_improved_label" class="sheet-improved-indicator" readonly /><input class="sheet-skill-name-input" type="text" name="attr_otherskill1_mdr_name" /></div>
							<div><input class="skill-input" type="text" name="attr_otherskill1_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_otherskill1_mdr" readonly />
								<button type="roll" name="roll_otherskill1_mdr_check" value="&{template:coc-1} {{name=@{otherskill1_mdr_name} Roll}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{otherskill1_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{otherskill1_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{otherskill1_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
						</div>
						<div class="sheet-skill-spacer"></div>
						<div class="sheet-skill-grid-header">
							<div class="sheet-skill-col">T</div>
							<div class="sheet-skill-col">Magic</div>
							<div class="sheet-skill-col">SP</div>
							<div class="sheet-skill-col">Val</div>
						</div>
						<div class="sheet-skill-grid">
							<div><input type="checkbox" name="attr_magic_alteration_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_magic_alteration_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="magic_alteration-u">Alteration(0%)</span></div>
							<div><input class="skill-input" type="text" name="attr_magic_alteration_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_magic_alteration_mdr" readonly />
								<button type="roll" name="roll_magic_alteration_mdr_check" value="&{template:coc-1} {{name=@{magic_alteration_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{magic_alteration_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{magic_alteration_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{magic_alteration_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_magic_elemental_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_magic_elemental_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="magic_elemental-u">Elemental(0%)</span></div>
							<div><input class="skill-input" type="text" name="attr_magic_elemental_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_magic_elemental_mdr" readonly />
								<button type="roll" name="roll_magic_elemental_mdr_check" value="&{template:coc-1} {{name=@{magic_elemental_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{magic_elemental_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{magic_elemental_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{magic_elemental_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_magic_enchantment_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_magic_enchantment_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="magic_enchantment-u">Enchantment(0%)</span></div>
							<div><input class="skill-input" type="text" name="attr_magic_enchantment_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_magic_enchantment_mdr" readonly />
								<button type="roll" name="roll_magic_enchantment_mdr_check" value="&{template:coc-1} {{name=@{magic_enchantment_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{magic_enchantment_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{magic_enchantment_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{magic_enchantment_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_magic_illusion_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_magic_illusion_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="magic_illusion-u">Illusion(0%)</span></div>
							<div><input class="skill-input" type="text" name="attr_magic_illusion_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_magic_illusion_mdr" readonly />
								<button type="roll" name="roll_magic_illusion_mdr_check" value="&{template:coc-1} {{name=@{magic_illusion_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{magic_illusion_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{magic_illusion_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{magic_illusion_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_magic_necromancy_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_magic_necromancy_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="magic_necromancy-u">Necromancy(0%)</span></div>
							<div><input class="skill-input" type="text" name="attr_magic_necromancy_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_magic_necromancy_mdr" readonly />
								<button type="roll" name="roll_magic_necromancy_mdr_check" value="&{template:coc-1} {{name=@{magic_necromancy_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{magic_necromancy_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{magic_necromancy_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{magic_necromancy_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_magic_restoration_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_magic_restoration_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="magic_restoration-u">Restoration(0%)</span></div>
							<div><input class="skill-input" type="text" name="attr_magic_restoration_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_magic_restoration_mdr" readonly />
								<button type="roll" name="roll_magic_restoration_mdr_check" value="&{template:coc-1} {{name=@{magic_restoration_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{magic_restoration_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{magic_restoration_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{magic_restoration_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_magic_summoning_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_magic_summoning_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="magic_summoning-u">Summoning(0%)</span></div>
							<div><input class="skill-input" type="text" name="attr_magic_summoning_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_magic_summoning_mdr" readonly />
								<button type="roll" name="roll_magic_summoning_mdr_check" value="&{template:coc-1} {{name=@{magic_summoning_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{magic_summoning_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{magic_summoning_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{magic_summoning_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_magic_technomancy_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_magic_technomancy_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="magic_technomancy-u">Technomancy(0%)</span></div>
							<div><input class="skill-input" type="text" name="attr_magic_technomancy_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_magic_technomancy_mdr" readonly />
								<button type="roll" name="roll_magic_technomancy_mdr_check" value="&{template:coc-1} {{name=@{magic_technomancy_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{magic_technomancy_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{magic_technomancy_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{magic_technomancy_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_magic_warding_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_magic_warding_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="magic_warding-u">Warding(0%)</span></div>
							<div><input class="skill-input" type="text" name="attr_magic_warding_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_magic_warding_mdr" readonly />
								<button type="roll" name="roll_magic_warding_mdr_check" value="&{template:coc-1} {{name=@{magic_warding_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{magic_warding_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{magic_warding_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{magic_warding_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_magic_universal_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_magic_universal_improved_label" class="sheet-improved-indicator" readonly /><span class="skill-label" data-i18n="magic_universal-u">Universal(0%)</span></div>
							<div><input class="skill-input" type="text" name="attr_magic_universal_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_magic_universal_mdr" readonly />
								<button type="roll" name="roll_magic_universal_mdr_check" value="&{template:coc-1} {{name=@{magic_universal_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{magic_universal_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{magic_universal_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{magic_universal_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_otherskill2_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_otherskill2_improved_label" class="sheet-improved-indicator" readonly /><input class="sheet-skill-name-input" type="text" name="attr_otherskill2_mdr_name" /></div>
							<div><input class="skill-input" type="text" name="attr_otherskill2_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_otherskill2_mdr" readonly />
								<button type="roll" name="roll_otherskill2_mdr_check" value="&{template:coc-1} {{name=@{otherskill2_mdr_name} Roll}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{otherskill2_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{otherskill2_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{otherskill2_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
						</div>
						<div class="sheet-skill-spacer"></div>
						<div class="sheet-skill-grid-header">
							<div class="sheet-skill-col">T</div>
							<div class="sheet-skill-col">Language</div>
							<div class="sheet-skill-col">SP</div>
							<div class="sheet-skill-col">Val</div>
						</div>
						<div class="sheet-skill-grid">
							<div><input type="checkbox" name="attr_language_own_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_language_own_improved_label" class="sheet-improved-indicator" readonly /><div class="skill-label"><span name="attr_language_own_txt"></span></div></div>
							<div><input class="skill-input" type="text" name="attr_language_own_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_language_own_mdr" readonly />
								<button type="roll" name="roll_language_own_mdr_check" value="&{template:coc-1} {{name=@{language_own_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{language_own_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{language_own_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{language_own_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_language_caltheran_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_language_caltheran_improved_label" class="sheet-improved-indicator" readonly /><div class="skill-label"><span name="attr_language_caltheran_txt"></span></div></div>
							<div><input class="skill-input" type="text" name="attr_language_caltheran_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_language_caltheran_mdr" readonly />
								<button type="roll" name="roll_language_caltheran_mdr_check" value="&{template:coc-1} {{name=@{language_caltheran_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{language_caltheran_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{language_caltheran_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{language_caltheran_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_otherskill3_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_otherskill3_improved_label" class="sheet-improved-indicator" readonly /><input class="sheet-skill-name-input" type="text" name="attr_otherskill3_mdr_name" /></div>
							<div><input class="skill-input" type="text" name="attr_otherskill3_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_otherskill3_mdr" readonly />
								<button type="roll" name="roll_otherskill3_mdr_check" value="&{template:coc-1} {{name=@{otherskill3_mdr_name} Roll}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{otherskill3_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{otherskill3_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{otherskill3_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
						</div>	
						<div class="sheet-spacer-row"></div>
						<div class="sheet-skill-grid-header">
							<div class="sheet-skill-col">T</div>
							<div class="sheet-skill-col">Other</div>
							<div class="sheet-skill-col">SP</div>
							<div class="sheet-skill-col">Val</div>
						</div>
						<div class="sheet-skill-grid">
							<div><input type="checkbox" name="attr_otherskill10_mdr_checkbox" /></div>
							<div class="skill-label-wrapper"><input type="text" name="attr_otherskill10_improved_label" class="sheet-improved-indicator" readonly /><input class="sheet-skill-name-input" type="text" name="attr_otherskill10_mdr_name" /></div>
							<div><input class="skill-input" type="text" name="attr_otherskill10_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="skill-input" type="text" name="attr_otherskill10_mdr" readonly />
								<button type="roll" name="roll_otherskill10_mdr_check" value="&{template:coc-1} {{name=@{otherskill10_mdr_name} Roll}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{otherskill10_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{otherskill10_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{otherskill10_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
						</div>
						<fieldset class="repeating_skillsmdr">
							<div class="sheet-skill-grid">
								<div><input type="checkbox" name="attr_checkbox_mdr" /></div>
								<div class="skill-label"><input class="sheet-skill-name-input" type="text" name="attr_skillname_mdr" /></div>
								<div><input class="skill-input" type="text" name="attr_skill_mdr" /></div>
								<div class="sheet-val-roll-static">
									<input class="skill-input" type="text" name="attr_skill_mdr" readonly />
									<button type="roll" name="roll_skill_mdr_check" value="&{template:coc-1} {{name=@{skillname_mdr} Roll}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{skill_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{skill_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{skill_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
								</div>
							</div>
						</fieldset>
					</div>
					<div class="sheet-skill-column">
						<div class="sheet-skill-grid-header">
							<div class="sheet-skill-col">T</div>
							<div class="sheet-skill-col">Physical</div>
							<div class="sheet-skill-col">SP</div>
							<div class="sheet-skill-col">Val</div>
						</div>
						<div class="sheet-skill-grid">
							<div><input type="checkbox" name="attr_athletics_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="athletics-u">Athletics(20%)</div>
							<div><input class="skill-input" type="text" name="attr_athletics_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_athletics_mdr" readonly />
								<button type="roll" name="roll_athletics_mdr_check" value="&{template:coc-1} {{name=@{athletics_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{athletics_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{athletics_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{athletics_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_coordination_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="coordination-u">Coordination(20%)</div>
							<div><input class="skill-input" type="text" name="attr_coordination_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_coordination_mdr" readonly />
								<button type="roll" name="roll_coordination_mdr_check" value="&{template:coc-1} {{name=@{coordination_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{coordination_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{coordination_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{coordination_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_swim_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="swim-u">Swim(20%)</div>
							<div><input class="skill-input" type="text" name="attr_swim_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_swim_mdr" readonly />
								<button type="roll" name="roll_swim_mdr_check" value="&{template:coc-1} {{name=@{swim_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{swim_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{swim_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{swim_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
						</div>
						<div class="sheet-skill-grid">
							<div><input type="checkbox" name="attr_otherskill4_mdr_checkbox" /></div>
							<div class="skill-label"><input class="sheet-skill-name-input" type="text" name="attr_otherskill4_mdr_name" /></div>
							<div><input class="skill-input" type="text" name="attr_otherskill4_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_otherskill4_mdr" readonly />
								<button type="roll" name="roll_otherskill4_mdr_check" value="&{template:coc-1} {{name=@{otherskill4_mdr_name} Roll}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{otherskill4_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{otherskill4_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{otherskill4_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
						</div>
						<div class="sheet-skill-spacer"></div>
						<div class="sheet-skill-grid-header">
							<div class="sheet-skill-col">T</div>
							<div class="sheet-skill-col">Pilot</div>
							<div class="sheet-skill-col">SP</div>
							<div class="sheet-skill-col">Val</div>
						</div>
						<div class="sheet-skill-grid">
							<div><input type="checkbox" name="attr_drive_auto_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="driveauto-u">Drive Auto(20%)</div>
							<div><input class="skill-input" type="text" name="attr_drive_auto_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_drive_auto_mdr" readonly />
								<button type="roll" name="roll_drive_auto_mdr_check" value="&{template:coc-1} {{name=@{driveauto_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{drive_auto_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{drive_auto_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{drive_auto_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_drone_operation_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="drone_operation-u">Drone Operation(10%)</div>
							<div><input class="skill-input" type="text" name="attr_drone_operation_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_drone_operation_mdr" readonly />
								<button type="roll" name="roll_drone_operation_mdr_check" value="&{template:coc-1} {{name=@{drone_operation_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{drone_operation_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{drone_operation_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{drone_operation_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_pilotaircraft_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="pilotaircraft-u">Pilot Aircraft(01%)</div>
							<div><input class="skill-input" type="text" name="attr_pilotaircraft_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_pilotaircraft_mdr" readonly />
								<button type="roll" name="roll_pilotaircraft_mdr_check" value="&{template:coc-1} {{name=@{pilotaircraft_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{pilotaircraft_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{pilotaircraft_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{pilotaircraft_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_pilotarc_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="pilotarc-u">Pilot Arc(05%)</div>
							<div><input class="skill-input" type="text" name="attr_pilotarc_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_pilotarc_mdr" readonly />
								<button type="roll" name="roll_pilotarc_mdr_check" value="&{template:coc-1} {{name=@{pilotarc_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{pilotarc_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{pilotarc_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{pilotarc_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_pilotboat_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="pilotboat-u">Pilot Boat(01%)</div>
							<div><input class="skill-input" type="text" name="attr_pilotboat_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_pilotboat_mdr" readonly />
								<button type="roll" name="roll_pilotboat_mdr_check" value="&{template:coc-1} {{name=@{pilotboat_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{pilotboat_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{pilotboat_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{pilotboat_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
						</div>
						<div class="sheet-skill-grid">
							<div><input type="checkbox" name="attr_otherskill5_mdr_checkbox" /></div>
							<div class="skill-label"><input class="sheet-skill-name-input" type="text" name="attr_otherskill5_mdr_name" /></div>
							<div><input class="skill-input" type="text" name="attr_otherskill5_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_otherskill5_mdr" readonly />
								<button type="roll" name="roll_otherskill5_mdr_check" value="&{template:coc-1} {{name=@{otherskill5_mdr_name} Roll}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{otherskill5_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{otherskill5_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{otherskill5_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
						</div>
						<div class="sheet-skill-spacer"></div>
						<div class="sheet-skill-grid-header">
							<div class="sheet-skill-col">T</div>
							<div class="sheet-skill-col">Science/Knowledge</div>
							<div class="sheet-skill-col">SP</div>
							<div class="sheet-skill-col">Val</div>
						</div>
						<div class="sheet-skill-grid">
							<div><input type="checkbox" name="attr_alchemy_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="alchemy-u">Alchemy(01%)</div>
							<div><input class="skill-input" type="text" name="attr_alchemy_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_alchemy_mdr" readonly />
								<button type="roll" name="roll_alchemy_mdr_check" value="&{template:coc-1} {{name=@{alchemy_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{alchemy_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{alchemy_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{alchemy_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_anthropology_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="anthropology-u">Anthropology(01%)</div>
							<div><input class="skill-input" type="text" name="attr_anthropology_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_anthropology_mdr" readonly />
								<button type="roll" name="roll_anthropology_mdr_check" value="&{template:coc-1} {{name=@{anthropology_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{anthropology_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{anthropology_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{anthropology_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_arcana_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="arcana-u">Arcana(05%)</div>
							<div><input class="skill-input" type="text" name="attr_arcana_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_arcana_mdr" readonly />
								<button type="roll" name="roll_arcana_mdr_check" value="&{template:coc-1} {{name=@{arcana_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{arcana_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{arcana_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{arcana_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_archaeology_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="archaeology-u">Archaeology(01%)</div>
							<div><input class="skill-input" type="text" name="attr_archaeology_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_archaeology_mdr" readonly />
								<button type="roll" name="roll_archaeology_mdr_check" value="&{template:coc-1} {{name=@{archaeology_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{archaeology_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{archaeology_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{archaeology_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_architecture_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="architecture-u">Architecture(01%)</div>
							<div><input class="skill-input" type="text" name="attr_architecture_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_architecture_mdr" readonly />
								<button type="roll" name="roll_architecture_mdr_check" value="&{template:coc-1} {{name=@{architecture_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{architecture_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{architecture_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{architecture_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_biology_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="biology-u">Biology(01%)</div>
							<div><input class="skill-input" type="text" name="attr_biology_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_biology_mdr" readonly />
								<button type="roll" name="roll_biology_mdr_check" value="&{template:coc-1} {{name=@{biology_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{biology_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{biology_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{biology_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_chemistry_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="chemistry-u">Chemistry(01%)</div>
							<div><input class="skill-input" type="text" name="attr_chemistry_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_chemistry_mdr" readonly />
								<button type="roll" name="roll_chemistry_mdr_check" value="&{template:coc-1} {{name=@{chemistry_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{chemistry_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{chemistry_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{chemistry_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_engineering_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="engineering-u">Engineering(01%)</div>
							<div><input class="skill-input" type="text" name="attr_engineering_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_engineering_mdr" readonly />
								<button type="roll" name="roll_engineering_mdr_check" value="&{template:coc-1} {{name=@{engineering_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{engineering_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{engineering_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{engineering_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_forbidden_lore_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="forbidden_lore-u">Forbidden Lore(0%)</div>
							<div><input class="skill-input" type="text" name="attr_forbidden_lore_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_forbidden_lore_mdr" readonly />
								<button type="roll" name="roll_forbidden_lore_mdr_check" value="&{template:coc-1} {{name=@{forbidden_lore_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{forbidden_lore_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{forbidden_lore_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{forbidden_lore_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_history_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="history-u">History(05%)</div>
							<div><input class="skill-input" type="text" name="attr_history_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_history_mdr" readonly />
								<button type="roll" name="roll_history_mdr_check" value="&{template:coc-1} {{name=@{history_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{history_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{history_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{history_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_investigation_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="investigation-u">Investigation(10%)</div>
							<div><input class="skill-input" type="text" name="attr_investigation_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_investigation_mdr" readonly />
								<button type="roll" name="roll_investigation_mdr_check" value="&{template:coc-1} {{name=@{investigation_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{investigation_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{investigation_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{investigation_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_law_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="law-u">Law(05%)</div>
							<div><input class="skill-input" type="text" name="attr_law_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_law_mdr" readonly />
								<button type="roll" name="roll_law_mdr_check" value="&{template:coc-1} {{name=@{law_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{law_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{law_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{law_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_medicine_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="medicine-u">Medicine(01%)</div>
							<div><input class="skill-input" type="text" name="attr_medicine_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_medicine_mdr" readonly />
								<button type="roll" name="roll_medicine_mdr_check" value="&{template:coc-1} {{name=@{medicine_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{medicine_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{medicine_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{medicine_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_natural_world_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="naturalworld-u">Natural World(10%)</div>
							<div><input class="skill-input" type="text" name="attr_natural_world_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_natural_world_mdr" readonly />
								<button type="roll" name="roll_natural_world_mdr_check" value="&{template:coc-1} {{name=@{naturalworld_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{natural_world_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{natural_world_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{natural_world_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_occult_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="occult-u">Occult Lore(05%)</div>
							<div><input class="skill-input" type="text" name="attr_occult_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_occult_mdr" readonly />
								<button type="roll" name="roll_occult_mdr_check" value="&{template:coc-1} {{name=@{occult_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{occult_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{occult_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{occult_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_physics_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="physics-u">Physics(01%)</div>
							<div><input class="skill-input" type="text" name="attr_physics_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_physics_mdr" readonly />
								<button type="roll" name="roll_physics_mdr_check" value="&{template:coc-1} {{name=@{physics_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{physics_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{physics_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{physics_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_spirit_lore_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="spirit_lore-u">Spirit Lore(05%)</div>
							<div><input class="skill-input" type="text" name="attr_spirit_lore_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_spirit_lore_mdr" readonly />
								<button type="roll" name="roll_spirit_lore_mdr_check" value="&{template:coc-1} {{name=@{spirit_lore_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{spirit_lore_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{spirit_lore_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{spirit_lore_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_veil_lore_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="veil_lore-u">Veil Lore(5%)</div>
							<div><input class="skill-input" type="text" name="attr_veil_lore_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_veil_lore_mdr" readonly />
								<button type="roll" name="roll_veil_lore_mdr_check" value="&{template:coc-1} {{name=@{veil_lore_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{veil_lore_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{veil_lore_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{veil_lore_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_otherskill6_mdr_checkbox" /></div>
							<div class="skill-label"><input class="sheet-skill-name-input" type="text" name="attr_otherskill6_mdr_name" /></div>
							<div><input class="skill-input" type="text" name="attr_otherskill6_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_otherskill6_mdr" readonly />
								<button type="roll" name="roll_otherskill6_mdr_check" value="&{template:coc-1} {{name=@{otherskill6_mdr_name} Roll}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{otherskill6_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{otherskill6_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{otherskill6_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
						</div>
					</div>
					<div class="sheet-skill-column">
						<div class="sheet-skill-grid-header">
							<div class="sheet-skill-col">T</div>
							<div class="sheet-skill-col">Social</div>
							<div class="sheet-skill-col">SP</div>
							<div class="sheet-skill-col">Val</div>
						</div>
						<div class="sheet-skill-grid">
							<div><input type="checkbox" name="attr_bureaucracy_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="bureaucracy-u">Bureaucracy(05%)</div>
							<div><input class="skill-input" type="text" name="attr_bureaucracy_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_bureaucracy_mdr" readonly />
								<button type="roll" name="roll_bureaucracy_mdr_check" value="&{template:coc-1} {{name=@{bureaucracy_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{bureaucracy_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{bureaucracy_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{bureaucracy_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_charm_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="charm-u">Charm(15%)</div>
							<div><input class="skill-input" type="text" name="attr_charm_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_charm_mdr" readonly />
								<button type="roll" name="roll_charm_mdr_check" value="&{template:coc-1} {{name=@{charm_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{charm_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{charm_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{charm_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_dance_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="dance-u">Dance(05%)</div>
							<div><input class="skill-input" type="text" name="attr_dance_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_dance_mdr" readonly />
								<button type="roll" name="roll_dance_mdr_check" value="&{template:coc-1} {{name=@{dance_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{dance_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{dance_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{dance_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_deception_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="deception-u">Deception(05%)</div>
							<div><input class="skill-input" type="text" name="attr_deception_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_deception_mdr" readonly />
								<button type="roll" name="roll_deception_mdr_check" value="&{template:coc-1} {{name=@{deception_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{deception_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{deception_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{deception_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_disguise_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="disguise-u">Disguise(05%)</div>
							<div><input class="skill-input" type="text" name="attr_disguise_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_disguise_mdr" readonly />
								<button type="roll" name="roll_disguise_mdr_check" value="&{template:coc-1} {{name=@{disguise_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{disguise_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{disguise_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{disguise_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_etiquette_high_society_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="etiquette_high_society-u">Etiquette(H. Soc.)(10%)</div>
							<div><input class="skill-input" type="text" name="attr_etiquette_high_society_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_etiquette_high_society_mdr" readonly />
								<button type="roll" name="roll_etiquette_high_society_mdr_check" value="&{template:coc-1} {{name=@{etiquette_high_society_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{etiquette_high_society_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{etiquette_high_society_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{etiquette_high_society_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_etiquette_lyranni_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="etiquette_lyranni-u">Etiquette(Lyranni)(10%)</div>
							<div><input class="skill-input" type="text" name="attr_etiquette_lyranni_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_etiquette_lyranni_mdr" readonly />
								<button type="roll" name="roll_etiquette_lyranni_mdr_check" value="&{template:coc-1} {{name=@{etiquette_lyranni_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{etiquette_lyranni_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{etiquette_lyranni_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{etiquette_lyranni_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_etiquette_other_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="etiquette_other-u">Etiquette(Other)(10%)</div>
							<div><input class="skill-input" type="text" name="attr_etiquette_other_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_etiquette_other_mdr" readonly />
								<button type="roll" name="roll_etiquette_other_mdr_check" value="&{template:coc-1} {{name=@{etiquette_other_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{etiquette_other_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{etiquette_other_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{etiquette_other_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_forgery_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="forgery-u">Forgery(01%)</div>
							<div><input class="skill-input" type="text" name="attr_forgery_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_forgery_mdr" readonly />
								<button type="roll" name="roll_forgery_mdr_check" value="&{template:coc-1} {{name=@{forgery_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{forgery_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{forgery_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{forgery_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_impersonation_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="impersonation-u">Impersonation(05%)</div>
							<div><input class="skill-input" type="text" name="attr_impersonation_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_impersonation_mdr" readonly />
								<button type="roll" name="roll_impersonation_mdr_check" value="&{template:coc-1} {{name=@{impersonation_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{impersonation_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{impersonation_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{impersonation_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_insight_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="insight-u">Insight(10%)</div>
							<div><input class="skill-input" type="text" name="attr_insight_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_insight_mdr" readonly />
								<button type="roll" name="roll_insight_mdr_check" value="&{template:coc-1} {{name=@{insight_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{insight_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{insight_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{insight_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_instrument_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="instrument-u">Instrument(05%)</div>
							<div><input class="skill-input" type="text" name="attr_instrument_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_instrument_mdr" readonly />
								<button type="roll" name="roll_instrument_mdr_check" value="&{template:coc-1} {{name=@{instrument_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{instrument_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{instrument_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{instrument_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_intimidate_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="intimidate-u">Intimidate(15%)</div>
							<div><input class="skill-input" type="text" name="attr_intimidate_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_intimidate_mdr" readonly />
								<button type="roll" name="roll_intimidate_mdr_check" value="&{template:coc-1} {{name=@{intimidate_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{intimidate_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{intimidate_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{intimidate_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_interrogation_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="interrogation-u">Interrogation(05%)</div>
							<div><input class="skill-input" type="text" name="attr_interrogation_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_interrogation_mdr" readonly />
								<button type="roll" name="roll_interrogation_mdr_check" value="&{template:coc-1} {{name=@{interrogation_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{interrogation_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{interrogation_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{interrogation_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_persuade_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="persuade-u">Persuade(10%)</div>
							<div><input class="skill-input" type="text" name="attr_persuade_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_persuade_mdr" readonly />
								<button type="roll" name="roll_persuade_mdr_check" value="&{template:coc-1} {{name=@{persuade_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{persuade_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{persuade_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{persuade_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_singing_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="singing-u">Singing(05%)</div>
							<div><input class="skill-input" type="text" name="attr_singing_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_singing_mdr" readonly />
								<button type="roll" name="roll_singing_mdr_check" value="&{template:coc-1} {{name=@{singing_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{singing_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{singing_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{singing_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_streetwise_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="streetwise-u">Streetwise(10%)</div>
							<div><input class="skill-input" type="text" name="attr_streetwise_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_streetwise_mdr" readonly />
								<button type="roll" name="roll_streetwise_mdr_check" value="&{template:coc-1} {{name=@{streetwise_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{streetwise_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{streetwise_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{streetwise_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_otherskill7_mdr_checkbox" /></div>
							<div class="skill-label"><input class="sheet-skill-name-input" type="text" name="attr_otherskill7_mdr_name" /></div>
							<div><input class="skill-input" type="text" name="attr_otherskill7_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_otherskill7_mdr" readonly />
								<button type="roll" name="roll_otherskill7_mdr_check" value="&{template:coc-1} {{name=@{otherskill7_mdr_name} Roll}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{otherskill7_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{otherskill7_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{otherskill7_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
						</div>
						<div class="sheet-skill-spacer"></div>
						<div class="sheet-skill-grid-header">
							<div class="sheet-skill-col">T</div>
							<div class="sheet-skill-col">Survival</div>
							<div class="sheet-skill-col">SP</div>
							<div class="sheet-skill-col">Val</div>
						</div>
						<div class="sheet-skill-grid">
							<div><input type="checkbox" name="attr_animalhandling_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="animalhandling_mdr-u">Animal Handling(05%)</div>
							<div><input class="skill-input" type="text" name="attr_animalhandling_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_animalhandling_mdr" readonly />
								<button type="roll" name="roll_animalhandling_mdr_check" value="&{template:coc-1} {{name=@{animalhandling_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{animalhandling_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{animalhandling_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{animalhandling_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_first_aid_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="firstaid-u">First Aid(30%)</div>
							<div><input class="skill-input" type="text" name="attr_first_aid_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_first_aid_mdr" readonly />
								<button type="roll" name="roll_first_aid_mdr_check" value="&{template:coc-1} {{name=@{firstaid_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{first_aid_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{first_aid_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{first_aid_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_listen_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="listen_mdr-u">Listen(20%)</div>
							<div><input class="skill-input" type="text" name="attr_listen_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_listen_mdr" readonly />
								<button type="roll" name="roll_listen_mdr_check" value="&{template:coc-1} {{name=@{listen_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{listen_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{listen_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{listen_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_navigate_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="navigate-u">Navigate(10%)</div>
							<div><input class="skill-input" type="text" name="attr_navigate_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_navigate_mdr" readonly />
								<button type="roll" name="roll_navigate_mdr_check" value="&{template:coc-1} {{name=@{navigate_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{navigate_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{navigate_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{navigate_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_perception_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="perception-u">Perception(25%)</div>
							<div><input class="skill-input" type="text" name="attr_perception_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_perception_mdr" readonly />
								<button type="roll" name="roll_perception_mdr_check" value="&{template:coc-1} {{name=@{perception_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{perception_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{perception_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{perception_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_sleight_of_hand_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="sleightofhand-u">Sleight of Hand(10%)</div>
							<div><input class="skill-input" type="text" name="attr_sleight_of_hand_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_sleight_of_hand_mdr" readonly />
								<button type="roll" name="roll_sleight_of_hand_mdr_check" value="&{template:coc-1} {{name=@{sleightofhand_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{sleight_of_hand_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{sleight_of_hand_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{sleight_of_hand_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_stealth_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="stealth-u">Stealth(20%)</div>
							<div><input class="skill-input" type="text" name="attr_stealth_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_stealth_mdr" readonly />
								<button type="roll" name="roll_stealth_mdr_check" value="&{template:coc-1} {{name=@{stealth_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{stealth_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{stealth_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{stealth_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_survival_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="survival-u">Survival(Wild)(10%)</div>
							<div><input class="skill-input" type="text" name="attr_survival_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_survival_mdr" readonly />
								<button type="roll" name="roll_survival_mdr_check" value="&{template:coc-1} {{name=@{survival_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{survival_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{survival_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{survival_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_track_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="track-u">Track (10%)</div>
							<div><input class="skill-input" type="text" name="attr_track_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_track_mdr" readonly />
								<button type="roll" name="roll_track_mdr_check" value="&{template:coc-1} {{name=@{track_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{track_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{track_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{track_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_otherskill8_mdr_checkbox" /></div>
							<div class="skill-label"><input class="sheet-skill-name-input" type="text" name="attr_otherskill8_mdr_name" /></div>
							<div><input class="skill-input" type="text" name="attr_otherskill8_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_otherskill8_mdr" readonly />
								<button type="roll" name="roll_otherskill8_mdr_check" value="&{template:coc-1} {{name=@{otherskill8_mdr_name} Roll}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{otherskill8_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{otherskill8_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{otherskill8_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
						</div>
						<div class="sheet-skill-spacer"></div>
							<div class="sheet-skill-grid-header">
							<div class="sheet-skill-col">T</div>
							<div class="sheet-skill-col">Tech/Cyber</div>
							<div class="sheet-skill-col">SP</div>
							<div class="sheet-skill-col">Val</div>
						</div>
						<div class="sheet-skill-grid">
							<div><input type="checkbox" name="attr_archanotech_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="archanotech-u">Archanotech(01%)</div>
							<div><input class="skill-input" type="text" name="attr_archanotech_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_archanotech_mdr" readonly />
								<button type="roll" name="roll_archanotech_mdr_check" value="&{template:coc-1} {{name=@{archanotech_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{archanotech_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{archanotech_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{archanotech_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_computer_use_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="computeruse-u">Computer Use(10%)</div>
							<div><input class="skill-input" type="text" name="attr_computer_use_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_computer_use_mdr" readonly />
								<button type="roll" name="roll_computer_use_mdr_check" value="&{template:coc-1} {{name=@{computeruse_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{computer_use_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{computer_use_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{computer_use_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_cybernetics_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="cybernetics-u">Cybernetics(01%)</div>
							<div><input class="skill-input" type="text" name="attr_cybernetics_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_cybernetics_mdr" readonly />
								<button type="roll" name="roll_cybernetics_mdr_check" value="&{template:coc-1} {{name=@{cybernetics_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{cybernetics_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{cybernetics_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{cybernetics_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_demolitions_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="demolitions-u">Demolitions(01%)</div>
							<div><input class="skill-input" type="text" name="attr_demolitions_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_demolitions_mdr" readonly />
								<button type="roll" name="roll_demolitions_mdr_check" value="&{template:coc-1} {{name=@{demolitions_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{demolitions_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{demolitions_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{demolitions_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_electronics_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="electronics-u">Electronics(10%)</div>
							<div><input class="skill-input" type="text" name="attr_electronics_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_electronics_mdr" readonly />
								<button type="roll" name="roll_electronics_mdr_check" value="&{template:coc-1} {{name=@{electronics_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{electronics_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{electronics_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{electronics_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_mechanics_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="mechanics-u">Mechanics(10%)</div>
							<div><input class="skill-input" type="text" name="attr_mechanics_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_mechanics_mdr" readonly />
								<button type="roll" name="roll_mechanics_mdr_check" value="&{template:coc-1} {{name=@{mechanics_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{mechanics_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{mechanics_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{mechanics_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_security_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="security-u">Security(01%)</div>
							<div><input class="skill-input" type="text" name="attr_security_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_security_mdr" readonly />
								<button type="roll" name="roll_security_mdr_check" value="&{template:coc-1} {{name=@{security_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{security_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{security_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{security_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_slicing_mdr_checkbox" /></div>
							<div class="skill-label" data-i18n="slicing-u">Slicing(05%)</div>
							<div><input class="skill-input" type="text" name="attr_slicing_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_slicing_mdr" readonly />
								<button type="roll" name="roll_slicing_mdr_check" value="&{template:coc-1} {{name=@{slicing_txt}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{slicing_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{slicing_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{slicing_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
							<div><input type="checkbox" name="attr_otherskill9_mdr_checkbox" /></div>
							<div class="skill-label"><input class="sheet-skill-name-input" type="text" name="attr_otherskill9_mdr_name" /></div>
							<div><input class="skill-input" type="text" name="attr_otherskill9_skill_mdr" /></div>
							<div class="sheet-val-roll-static">
								<input class="sheet-skill-input" type="text" name="attr_otherskill9_mdr" readonly />
								<button type="roll" name="roll_otherskill9_mdr_check" value="&{template:coc-1} {{name=@{otherskill9_mdr_name} Roll}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{otherskill9_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{otherskill9_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{otherskill9_mdr}+@{dice_modifier_checkbox})/5)]]}} {{roll1=[[1d100]]}}" />
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	
		<!-- ------------------- Backgrounds -------------------- -->	
		<div class="sheet-tab-content sheet-background">
			<!-- Controls which racial section is shown -->
			<input type="hidden" name="attr_showracials" class="sheet-tab-controller">
			<h4 class="section-head" data-i18n="backgrounds-u">Backgrounds</h4>
			<!-- Alteri Backgrounds -->
			<div class="sheet-racials1">
				<div class="sheet-section">
					<!-- Alteri Background Tab Controller -->
					<input type="hidden" name="attr_alteri_background_choice" class="sheet-tab-controller">
					<!-- Tab Buttons -->
					<div class="sheet-tab-buttons">
						<button type="action" name="act_break_faced_radical">Break-Faced Radical</button>
						<button type="action" name="act_ghostline_runner">Ghostline Runner</button>
						<button type="action" name="act_legacy_bearer">Legacy-Bearer</button>
						<button type="action" name="act_soft_year_drifter">Soft-Year Drifter</button>
						<button type="action" name="act_veilhaven_attendant">Veilhaven Attendant</button>
					</div>

					<!-- Break-Faced Radical Content -->
					<div class="sheet-bgblock sheet-bg-break_faced_radical">
						<div class="sheet-bgblock-flex">
							<!-- Left column -->
							<div class="sheet-bg-content-left">
								<h3 class="section-head sheet-background-section-head talent-center">Break-Faced Radical</h3>
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_alteri_mdr_checkbox" value="deception">
										</div>
										<div class="col-benefit">Deception +5%</div>
										<div class="col-desc">Gain +5% Deception Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_alteri_deception_bonus_mdr" readonly>
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_alteri_mdr_checkbox" value="persuade">
										</div>
										<div class="col-benefit">Persuade +5%</div>
										<div class="col-desc">Gain +5% Persuade Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_alteri_persuade_bonus_mdr" readonly>
										</div>
									</div>
								</div>
							</div>
							<!-- Right column (Image) -->
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Break-Faced Radical Logo">
							</div>
						</div>
					</div>
				<!-- Ghostline Runner -->
					<div class="sheet-bgblock sheet-bg-ghostline_runner">
						<div class="sheet-bgblock-flex">
							<!-- Left column -->
							<div class="sheet-bg-content-left">
								<h3 class="section-head sheet-background-section-head talent-center">Ghostline Runner</h3>
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_alteri_mdr_checkbox" value="slicing">
										</div>
										<div class="col-benefit">Slicing +5%</div>
										<div class="col-desc">Gain +5% Slicing Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_alteri_slicing_bonus_mdr" readonly>
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_alteri_mdr_checkbox" value="streetwise">
										</div>
										<div class="col-benefit">Streetwise +5%</div>
										<div class="col-desc">Gain +5% Streetwise Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_alteri_streetwise_bonus_mdr" readonly>
										</div>
									</div>
								</div>
							</div>
							<!-- Right column (Image) -->
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Ghostline Runner Logo">
							</div>
	  					</div>
					</div> 
					<!-- Legacy-Bearer -->
					<div class="sheet-bgblock sheet-bg-legacy_bearer">
						<div class="sheet-bgblock-flex">
							<!-- Left column -->
							<div class="sheet-bg-content-left">
								<h3 class="section-head sheet-background-section-head talent-center">Legacy-Bearer</h3>
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_alteri_mdr_checkbox" value="history">
										</div>
										<div class="col-benefit">History +5%</div>
										<div class="col-desc">Gain +5% History Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_alteri_history_bonus_mdr" readonly>
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_alteri_mdr_checkbox" value="impersonation">
										</div>
										<div class="col-benefit">Impersonation +5%</div>
										<div class="col-desc">Gain +5% Impersonation Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_alteri_impersonation_bonus_mdr" readonly>
										</div>
									</div>
								</div>
							</div>
							<!-- Right column (Image) -->
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Legacy-Bearer Logo">
							</div>
						</div>
					</div>
					<!-- Soft-Year Drifter -->
					<div class="sheet-bgblock sheet-bg-soft_year_drifter">
						<div class="sheet-bgblock-flex">
							<!-- Left column -->
							<div class="sheet-bg-content-left">
								<h3 class="section-head sheet-background-section-head talent-center">Soft-Year Drifter</h3>
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_alteri_mdr_checkbox" value="insight">
										</div>
										<div class="col-benefit">Insight +5%</div>
										<div class="col-desc">Gain +5% Insight Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_alteri_insight_bonus_mdr" readonly>
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_alteri_mdr_checkbox" value="stealth">
										</div>
										<div class="col-benefit">Stealth +5%</div>
										<div class="col-desc">Gain +5% Stealth Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_alteri_stealth_bonus_mdr" readonly>
										</div>
									</div>
								</div>
							</div>
							<!-- Right column (Image) -->
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Soft-Year Drifter Logo">
							</div>
						</div>
					</div>
					<!-- Veilhaven Attendant -->
					<div class="sheet-bgblock sheet-bg-veilhaven_attendant">
						<div class="sheet-bgblock-flex">
							<!-- Left column -->
							<div class="sheet-bg-content-left">
								<h3 class="section-head sheet-background-section-head talent-center">Veilhaven Attendant</h3>
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_alteri_mdr_checkbox" value="arcana">
										</div>
										<div class="col-benefit">Arcana +5%</div>
										<div class="col-desc">Gain +5% Arcana Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_alteri_arcana_bonus_mdr" readonly>
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_alteri_mdr_checkbox" value="disguise">
										</div>
										<div class="col-benefit">Disguise +5%</div>
										<div class="col-desc">Gain +5% Disguise Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_alteri_disguise_bonus_mdr" readonly>
										</div>
									</div>
								</div>
							</div>
							<!-- Right column (Image) -->
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Veilhaven Attendant Logo">
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Draevi Backgrounds -->
			<div class="sheet-racials2">
				<div class="sheet-section">
					<!-- Draevi Background Tab Controller -->
					<input type="hidden" name="attr_draevi_background_choice" class="sheet-tab-controller">
					<!-- Tab Buttons -->
					<div class="sheet-tab-buttons">
						<button type="action" name="act_forgeblood_scavenger">Forgeblood Scavenger</button>
						<button type="action" name="act_horn_carved_wanderer">Horn-Carved Wanderer</button>
						<button type="action" name="act_spiritbound_techshaper">Spiritbound Techshaper</button>
						<button type="action" name="act_tradition_keeper">Tradition Keeper</button>
					</div>
					<!-- Forgeblood Scavenger -->
					<div class="sheet-bgblock sheet-bg-forgeblood_scavenger">
						<div class="sheet-bgblock-flex">
							<!-- Left column -->
							<div class="sheet-bg-content-left">
								<h3 class="section-head sheet-background-section-head talent-center">Forgeblood Scavenger</h3>
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_draevi_mdr_checkbox" value="electronics">
										</div>
										<div class="col-benefit">Electronics +5%</div>
										<div class="col-desc">Gain +5% Electronics Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_draevi_electronics_bonus_mdr" readonly>
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_draevi_mdr_checkbox" value="mechanics">
										</div>
										<div class="col-benefit">Mechanics +5%</div>
										<div class="col-desc">Gain +5% Mechanics Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_draevi_mechanics_bonus_mdr" readonly>
										</div>
									</div>
								</div>
							</div>
							<!-- Right column (Image) -->
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Forgeblood Scavenger Logo">
							</div>
						</div>
					</div>
					<!-- Horn-Carved Wanderer -->
					<div class="sheet-bgblock sheet-bg-horn_carved_wanderer">
						<div class="sheet-bgblock-flex">
							<!-- Left column -->
							<div class="sheet-bg-content-left">
								<h3 class="section-head sheet-background-section-head talent-center">Horn-Carved Wanderer</h3>
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_draevi_mdr_checkbox" value="navigate">
										</div>
										<div class="col-benefit">Navigate +5%</div>
										<div class="col-desc">Gain +5% Navigate Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_draevi_navigate_bonus_mdr" readonly>
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_draevi_mdr_checkbox" value="survival">
										</div>
										<div class="col-benefit">Survival +5%</div>
										<div class="col-desc">Gain +5% Survival Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_draevi_survival_bonus_mdr" readonly>
										</div>
									</div>
								</div>
							</div>
							<!-- Right column (Image) -->
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Horn-Carved Wanderer Logo">
							</div>
						</div>
					</div>
					<!-- Spiritbound Techshaper -->
					<div class="sheet-bgblock sheet-bg-spiritbound_techshaper">
						<div class="sheet-bgblock-flex">
							<!-- Left column -->
							<div class="sheet-bg-content-left">
								<h3 class="section-head sheet-background-section-head talent-center">Spiritbound Techshaper</h3>
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
									<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_draevi_mdr_checkbox" value="slicing">
										</div>
										<div class="col-benefit">Slicing +5%</div>
										<div class="col-desc">Gain +5% Slicing Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_draevi_slicing_bonus_mdr" readonly>
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_draevi_mdr_checkbox" value="spirit_lore">
										</div>
										<div class="col-benefit">Spirit Lore +5%</div>
										<div class="col-desc">Gain +5% Spirit Lore Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_draevi_spirit_lore_bonus_mdr" readonly>
										</div>
									</div>
								</div>
							</div>
							<!-- Right column (Image) -->
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Spiritbound Techshaper Logo">
							</div>
						</div>
					</div>
					<!-- Tradition Keeper -->
					<div class="sheet-bgblock sheet-bg-tradition_keeper">
						<div class="sheet-bgblock-flex">
							<!-- Left column -->
							<div class="sheet-bg-content-left">
								<h3 class="section-head sheet-background-section-head talent-center">Tradition Keeper</h3>
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_draevi_mdr_checkbox" value="occult">
										</div>
										<div class="col-benefit">Occult Lore +5%</div>
										<div class="col-desc">Gain +5% Occult Lore Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_draevi_occult_bonus_mdr" readonly>
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_draevi_mdr_checkbox" value="veil_lore">
										</div>
										<div class="col-benefit">Veil Lore +5%</div>
										<div class="col-desc">Gain +5% Veil Lore Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_draevi_veil_lore_bonus_mdr" readonly>
										</div>
									</div>
								</div>
							</div>
							<!-- Right column (Image) -->
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Tradition Keeper Logo">
							</div>
						</div>
					</div>

				</div>
			</div>
			<!--  Feran Background -->
			<div class="sheet-racials3">
				<div class="sheet-section">
					<!-- Feran Background Tab Controller -->
					<input type="hidden" name="attr_feran_background_choice" class="sheet-tab-controller">
				</div>
			</div>
			<!-- Human Background -->
			<div class="sheet-racials4">
				<div class="sheet-section">
					<!-- Human Background Tab Controller -->
					<input type="hidden" name="attr_human_background_choice" class="sheet-tab-controller" />

					<!-- Tab Buttons -->
					<div class="sheet-tab-buttons">
						<button type="action" name="act_ash_war_refugee">Ash War Refugee</button>
						<button type="action" name="act_data_hatched">Data-Hatched</button>
						<button type="action" name="act_enclave_born">Enclave Born</button>
						<button type="action" name="act_gutter_fire_youth">Gutterfire Youth</button>
						<button type="action" name="act_outpost_raised">Outpost Raised</button>
						<button type="action" name="act_scavsteel_whelp">Scavsteel Whelp</button>
					</div>
					<!-- Ash War Refugee -->
					<div class="sheet-bgblock sheet-bg-ashwar">
						<h3 class="section-head sheet-background-section-head talent-center">Ash War Refugee</h3>
						<div class="sheet-bgblock-flex">
							<div class="sheet-bg-content-left">
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_human_mdr_checkbox" value="first_aid">
										</div>
										<div class="col-benefit">First Aid +5%</div>
										<div class="col-desc">Gain +5% First Aid Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_human_first_aid_bonus_mdr" readonly>
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_human_mdr_checkbox" value="insight">
										</div>
										<div class="col-benefit">Insight +5%</div>
										<div class="col-desc">Gain +5% Insight Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_human_insight_bonus_mdr" readonly>
										</div>
									</div>
								</div>
							</div>
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Ash War Refugee Logo" />
							</div>
						</div>
					</div>
					<!-- Data-Hatched -->
					<div class="sheet-bgblock sheet-bg-datahatched">
						<h3 class="section-head sheet-background-section-head talent-center">Data-Hatched</h3>
						<div class="sheet-bgblock-flex">
							<div class="sheet-bg-content-left">
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a"><input type="checkbox" name="attr_human_mdr_checkbox" value="alchemy" /></div>
										<div class="col-benefit">Alchemy +5%</div>
										<div class="col-desc">Gain +5% Alchemy Skill</div>
										<div class="col-val"><input class="skill-input-small" type="text" name="attr_human_alchemy_bonus_mdr" readonly /></div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a"><input type="checkbox" name="attr_human_mdr_checkbox" value="anthropology" /></div>
										<div class="col-benefit">Anthropology +5%</div>
										<div class="col-desc">Gain +5% Anthropology Skill</div>
										<div class="col-val"><input class="skill-input-small" type="text" name="attr_human_anthropology_bonus_mdr" readonly /></div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a"><input type="checkbox" name="attr_human_mdr_checkbox" value="archaeology" /></div>
										<div class="col-benefit">Archaeology +5%</div>
										<div class="col-desc">Gain +5% Archaeology Skill</div>
										<div class="col-val"><input class="skill-input-small" type="text" name="attr_human_archaeology_bonus_mdr" readonly /></div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a"><input type="checkbox" name="attr_human_mdr_checkbox" value="architecture" /></div>
										<div class="col-benefit">Architecture +5%</div>
										<div class="col-desc">Gain +5% Architecture Skill</div>
										<div class="col-val"><input class="skill-input-small" type="text" name="attr_human_architecture_bonus_mdr" readonly /></div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a"><input type="checkbox" name="attr_human_mdr_checkbox" value="biology" /></div>
										<div class="col-benefit">Biology +5%</div>
										<div class="col-desc">Gain +5% Biology Skill</div>
										<div class="col-val"><input class="skill-input-small" type="text" name="attr_human_biology_bonus_mdr" readonly /></div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a"><input type="checkbox" name="attr_human_mdr_checkbox" value="chemistry" /></div>
										<div class="col-benefit">Chemistry +5%</div>
										<div class="col-desc">Gain +5% Chemistry Skill</div>
										<div class="col-val"><input class="skill-input-small" type="text" name="attr_human_chemistry_bonus_mdr" readonly /></div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a"><input type="checkbox" name="attr_human_mdr_checkbox" value="engineering" /></div>
										<div class="col-benefit">Engineering +5%</div>
										<div class="col-desc">Gain +5% Engineering Skill</div>
										<div class="col-val"><input class="skill-input-small" type="text" name="attr_human_engineering_bonus_mdr" readonly /></div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a"><input type="checkbox" name="attr_human_mdr_checkbox" value="medicine" /></div>
										<div class="col-benefit">Medicine +5%</div>
										<div class="col-desc">Gain +5% Medicine Skill</div>
										<div class="col-val"><input class="skill-input-small" type="text" name="attr_human_medicine_bonus_mdr" readonly /></div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a"><input type="checkbox" name="attr_human_mdr_checkbox" value="physics" /></div>
										<div class="col-benefit">Physics +5%</div>
										<div class="col-desc">Gain +5% Physics Skill</div>
										<div class="col-val"><input class="skill-input-small" type="text" name="attr_human_physics_bonus_mdr" readonly /></div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a"><input type="checkbox" name="attr_human_mdr_checkbox" value="slicing" /></div>
										<div class="col-benefit">Slicing +5%</div>
										<div class="col-desc">Gain +5% Slicing Skill</div>
										<div class="col-val"><input class="skill-input-small" type="text" name="attr_human_slicing_bonus_mdr" readonly /></div>
									</div>
								</div>
							</div>
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Data-Hatched Logo" />
							</div>
						</div>
					</div>
					<!-- Enclave Born -->
					<div class="sheet-bgblock sheet-bg-enclave">
						<h3 class="section-head sheet-background-section-head talent-center">Enclave Born</h3>
						<div class="sheet-bgblock-flex">
							<div class="sheet-bg-content-left">
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_human_mdr_checkbox" value="etiquette_high_society" />
										</div>
										<div class="col-benefit">Etiquette(H. Soc.) +5%</div>
										<div class="col-desc">Gain +5% Etiquette (High Society) Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_human_etiquette_high_society_bonus_mdr" readonly />
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_human_mdr_checkbox" value="persuade" />
										</div>
										<div class="col-benefit">Persuade +5%</div>
										<div class="col-desc">Gain +5% Persuade Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_human_persuade_bonus_mdr" readonly />
										</div>
									</div>
								</div>
							</div>
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Enclave Born Logo" />
							</div>
						</div>
					</div>
					<!-- Gutterfire -->
					<div class="sheet-bgblock sheet-bg-gutterfire">
						<h3 class="section-head sheet-background-section-head talent-center">Gutterfire Youth</h3>
						<div class="sheet-bgblock-flex">
							<div class="sheet-bg-content-left">
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_human_mdr_checkbox" value="stealth" />
										</div>
										<div class="col-benefit">Stealth +5%</div>
										<div class="col-desc">Gain +5% Stealth Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_human_stealth_bonus_mdr" readonly />
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_human_mdr_checkbox" value="streetwise" />
										</div>
										<div class="col-benefit">Streetwise +5%</div>
										<div class="col-desc">Gain +5% Streetwise Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_human_streetwise_bonus_mdr" readonly />
										</div>
									</div>
								</div>
							</div>
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Gutterfire Youth Logo" />
							</div>
						</div>
					</div>
					<!-- Outpost Raised -->
					<div class="sheet-bgblock sheet-bg-outpost">
						<h3 class="section-head sheet-background-section-head talent-center">Outpost Raised</h3>
						<div class="sheet-bgblock-flex">
							<div class="sheet-bg-content-left">
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_human_mdr_checkbox" value="survival" />
										</div>
										<div class="col-benefit">Survival +5%</div>
										<div class="col-desc">Gain +5% Survival Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_human_survival_bonus_mdr" readonly />
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_human_mdr_checkbox" value="firearms_rifle" />
										</div>
										<div class="col-benefit">Rifle/Shotgun +5%</div>
										<div class="col-desc">Gain +5% Rifle/Shotgun Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_human_firearms_rifle_bonus_mdr" readonly />
										</div>
									</div>
								</div>
							</div>
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Outpost Raised Logo" />
							</div>
						</div>
					</div>
					<!-- Scavsteel -->
					<div class="sheet-bgblock sheet-bg-scavsteel">
						<h3 class="section-head sheet-background-section-head talent-center">Scavsteel Whelp</h3>
						<div class="sheet-bgblock-flex">
							<div class="sheet-bg-content-left">
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_human_mdr_checkbox" value="electronics" />
										</div>
										<div class="col-benefit">Electronics +5%</div>
										<div class="col-desc">Gain +5% Electronics Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_human_electronics_bonus_mdr" readonly />
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_human_mdr_checkbox" value="mechanics" />
										</div>
										<div class="col-benefit">Mechanics +5%</div>
										<div class="col-desc">Gain +5% Mechanics Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_human_mechanics_bonus_mdr" readonly />
										</div>
									</div>
								</div>
							</div>
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Scavsteel Whelp Logo" />
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Khadra Background -->
			<div class="sheet-racials5">
				<div class="sheet-section">
					<!-- Khadra Background Tab Controller -->
					<input type="hidden" name="attr_khadra_background_choice" class="sheet-tab-controller">
				</div>
			</div>
			<!-- Kitsu Background -->
			<div class="sheet-racials6">
				<div class="sheet-section">
					<!-- Kitsu Background Tab Controller -->
					<input type="hidden" name="attr_kitsu_background_choice" class="sheet-tab-controller">
					<!-- Placeholder for tab buttons and content -->
				</div>
			</div>
			<!-- Lyranni Background -->
			<div class="sheet-racials7">
				<div class="sheet-section">
					<!-- Lyranni Background Tab Controller -->
					<input type="hidden" name="attr_lyranni_background_choice" class="sheet-tab-controller">
					<!-- Lyranni Background Tab Buttons -->
					<div class="sheet-tab-buttons">
						<button type="action" name="act_aelvareth_devotee">AelVareth Devotee</button>
						<button type="action" name="act_echoborne">Echoborne</button>
						<button type="action" name="act_glide_spire_scion">Glide-Spire Scion</button>
						<button type="action" name="act_whisper_walker">Whisper-Walker</button>
						<button type="action" name="act_zurethkai_flameborn">ZurethKai Flameborn</button>
					</div>
					<!-- AelVareth Devotee -->
					<div class="sheet-bgblock sheet-bg-aelvareth">
						<h3 class="section-head sheet-background-section-head talent-center">AelVareth Devotee</h3>
						<div class="sheet-bgblock-flex">
							<div class="sheet-bg-content-left">
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_lyranni_mdr_checkbox" value="etiquette_lyranni">
										</div>
										<div class="col-benefit">Etiquette (Lyranni) +5%</div>
										<div class="col-desc">Gain +5% Etiquette (Lyranni) Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_lyranni_etiquette_lyranni_bonus_mdr" readonly>
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_lyranni_mdr_checkbox" value="occult">
										</div>
										<div class="col-benefit">Occult Lore +5%</div>
										<div class="col-desc">Gain +5% Occult Lore Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_lyranni_occult_bonus_mdr" readonly>
										</div>
									</div>
								</div>
							</div>
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="AelVareth Devotee Logo" />
							</div>
						</div>
					</div>
					<!-- Echoborne -->
					<div class="sheet-bgblock sheet-bg-echoborne">
						<h3 class="section-head sheet-background-section-head talent-center">Echoborne</h3>
						<div class="sheet-bgblock-flex">
							<div class="sheet-bg-content-left">
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_lyranni_mdr_checkbox" value="arcana">
										</div>
										<div class="col-benefit">Arcana +5%</div>
										<div class="col-desc">Gain +5% Arcana Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_lyranni_arcana_bonus_mdr" readonly>
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_lyranni_mdr_checkbox" value="etiquette_lyranni">
										</div>
										<div class="col-benefit">Etiquette (Lyranni) +5%</div>
										<div class="col-desc">Gain +5% Etiquette (Lyranni) Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_lyranni_etiquette_lyranni_bonus_mdr" readonly>
										</div>
									</div>
								</div>
							</div>
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Echoborne Logo" />
							</div>
						</div>
					</div>
					<!-- Glide-Spire Scion -->
					<div class="sheet-bgblock sheet-bg-glide">
						<h3 class="section-head sheet-background-section-head talent-center">Glide-Spire Scion</h3>
						<div class="sheet-bgblock-flex">
							<div class="sheet-bg-content-left">
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_lyranni_mdr_checkbox" value="persuade">
										</div>
										<div class="col-benefit">Persuade +5%</div>
										<div class="col-desc">Gain +5% Persuade Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_lyranni_persuade_bonus_mdr" readonly>
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_lyranni_mdr_checkbox" value="streetwise">
										</div>
										<div class="col-benefit">Streetwise +5%</div>
										<div class="col-desc">Gain +5% Streetwise Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_lyranni_streetwise_bonus_mdr" readonly>
										</div>
									</div>
								</div>
							</div>
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Glide-Spire Scion Logo" />
							</div>
						</div>
					</div>
					<!-- Whisper-Walker -->
					<div class="sheet-bgblock sheet-bg-whisper">
						<h3 class="section-head sheet-background-section-head talent-center">Whisper-Walker</h3>
						<div class="sheet-bgblock-flex">
							<div class="sheet-bg-content-left">
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_lyranni_mdr_checkbox" value="occult">
										</div>
										<div class="col-benefit">Occult Lore +5%</div>
										<div class="col-desc">Gain +5% Occult Lore Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_lyranni_occult_bonus_mdr" readonly>
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_lyranni_mdr_checkbox" value="perception">
										</div>
										<div class="col-benefit">Perception +5%</div>
										<div class="col-desc">Gain +5% Perception Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_lyranni_perception_bonus_mdr" readonly>
										</div>
									</div>
								</div>
							</div>
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Whisper-Walker Logo" />
							</div>
						</div>
					</div>
					<!-- ZurethKai Flameborn -->
					<div class="sheet-bgblock sheet-bg-zureth">
						<h3 class="section-head sheet-background-section-head talent-center">ZurethKai Flameborn</h3>
						<div class="sheet-bgblock-flex">
							<div class="sheet-bg-content-left">
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_lyranni_mdr_checkbox" value="magic_technomancy">
										</div>
										<div class="col-benefit">Technomancy +5%</div>
										<div class="col-desc">Gain +5% Technomancy Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_lyranni_magic_technomancy_bonus_mdr" readonly>
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_lyranni_mdr_checkbox" value="slicing">
										</div>
										<div class="col-benefit">Slicing +5%</div>
										<div class="col-desc">Gain +5% Slicing Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_lyranni_slicing_bonus_mdr" readonly>
										</div>
									</div>
								</div>
							</div>
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="ZurethKai Flameborn Logo" />
							</div>
						</div>
					</div>				
				</div>
			</div>
			<!-- Veyra Background -->
			<div class="sheet-racials8">
				<div class="sheet-section">
					<!-- Veyra Background Tab Controller -->
					<input type="hidden" name="attr_veyra_background_choice" class="sheet-tab-controller">
				</div>
			</div>		
		</div>

		<!-- ------------------- Talents  -------------------- -->
		<div class="sheet-tab-content sheet-talents">
			<input type="hidden" name="attr_showracials" class="sheet-tab-controller">
			<h4 class="section-head" data-i18n="talents-u">Talents</h4>
			
			<!-- Alteri Talents -->
			<div class="sheet-racials1">
				<input type="checkbox" style="display:none" class="sheet-showracials" name="attr_showracials"/>
                <div class="sheet-section">
					<!-- Alteri Talent Tab Controller -->
                    <input type="hidden" name="attr_alteri_talent_tab" class="sheet-tab-controller" value="maskwrights_grace" />
						<!-- Alteri Talent Tab Buttons -->
					<div class="sheet-tab-buttons">
						<button type="action" name="act_maskwrights_grace">Maskwright's Grace</button>
                        <button type="action" name="act_shaped_for_subtlety">Shaped for Subtlety</button>
                    </div>
                    <!-- Maskwright's Grace -->
                    <div class="sheet-bgblock sheet-talent-maskwrights_grace">
						<h3 class="section-head sheet-background-section-head talent-center">Maskwright's Grace</h3>
						<div class="sheet-bgblock-flex">
							<div class="sheet-bg-content-left">
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_alteri_maskwrights_grace_mdr_checkbox" value="talent_disguise" />
										</div>
										<div class="col-benefit">Disguise +10%</div>
										<div class="col-desc">Gain +10% Disguise Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_alteri_talent_disguise_bonus_mdr" readonly />
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_alteri_maskwrights_grace_mdr_checkbox" value="talent_impersonation" />
										</div>
										<div class="col-benefit">Impersonation +10%</div>
										<div class="col-desc">Gain +10% Impersonation Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_alteri_talent_impersonation_bonus_mdr" readonly />
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_alteri_maskwrights_grace_mdr_checkbox" value="talent_insight" />
										</div>
										<div class="col-benefit">Insight +10%</div>
										<div class="col-desc">Gain +10% Insight Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_alteri_talent_insight_bonus_mdr" readonly />
										</div>
									</div>
								</div>
							</div>
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Maskwright's Grace Logo" />
							</div>
						</div>
					</div>
					<!-- Shaped for Subtlety -->
					<div class="sheet-bgblock sheet-talent-shaped_for_subtlety">
						<h3 class="section-head sheet-background-section-head talent-center">Shaped for Subtlety</h3>
						<div class="sheet-bgblock-flex">
							<div class="sheet-bg-content-left">
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-a">A</div>
										<div class="col-benefit">Benefit</div>
										<div class="col-desc">Description</div>
										<div class="col-val">Val</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_alteri_shaped_for_subtlety_mdr_checkbox" value="talent_insight" />
										</div>
										<div class="col-benefit">Insight +10%</div>
										<div class="col-desc">Gain +10% Insight Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_alteri_talent_insight_bonus_mdr" readonly />
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_alteri_shaped_for_subtlety_mdr_checkbox" value="talent_slicing" />
										</div>
										<div class="col-benefit">Slicing +10%</div>
										<div class="col-desc">Gain +10% Slicing Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_alteri_talent_slicing_bonus_mdr" readonly />
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-a">
											<input type="checkbox" name="attr_alteri_shaped_for_subtlety_mdr_checkbox" value="talent_stealth" />
										</div>
										<div class="col-benefit">Stealth +10%</div>
										<div class="col-desc">Gain +10% Stealth Skill</div>
										<div class="col-val">
											<input class="skill-input-small" type="text" name="attr_alteri_talent_stealth_bonus_mdr" readonly />
										</div>
									</div>
								</div>
							</div>
							<div class="sheet-bg-content-right">
								<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Shaped for Subtlety Logo" />
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Draevi Talents -->
			<div class="sheet-racials2">
			    <input type="checkbox" style="display:none" class="sheet-showracials" name="attr_showracials" />
    			<div class="sheet-section">
        			<!-- Draevi Talent Tab Controller -->
        			<input type="hidden" name="attr_draevi_talent_tab" class="sheet-tab-controller" value="clan_blooded" />
        			<!-- Draevi Talent Tab Buttons -->
        			<div class="sheet-tab-buttons">
            			<button type="action" name="act_clan_blooded">Clan-Blooded</button>
            			<button type="action" name="act_scavengers_edge">Scavenger's Edge</button>
        			</div>
        			<!-- Clan-Blooded -->
        			<div class="sheet-bgblock sheet-talent-clan_blooded">
            			<h3 class="section-head sheet-background-section-head talent-center">Clan-Blooded</h3>
            			<div class="sheet-bgblock-flex">
                			<div class="sheet-bg-content-left">
                    			<div class="sheet-talent-grid">
                        			<div class="sheet-talent-header-row">
                            			<div class="col-a">A</div>
                            			<div class="col-benefit">Benefit</div>
                            			<div class="col-desc">Description</div>
                            			<div class="col-val">Val</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_draevi_clan_blooded_mdr_checkbox" value="talent_intimidate" />
                            			</div>
                            			<div class="col-benefit">Intimidate +10%</div>
                            			<div class="col-desc">Gain +10% Intimidate Skill</div>
                            			<div class="col-val">
                                			<input class="skill-input-small" type="text" name="attr_draevi_talent_intimidate_bonus_mdr" readonly />
                            			</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_draevi_clan_blooded_mdr_checkbox" value="talent_survival" />
                            			</div>
                            			<div class="col-benefit">Survival +10%</div>
                            			<div class="col-desc">Gain +10% Survival Skill</div>
                            			<div class="col-val">
                                			<input class="skill-input-small" type="text" name="attr_draevi_talent_survival_bonus_mdr" readonly />
                            			</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_draevi_clan_blooded_mdr_checkbox" value="talent_track" />
                            			</div>
                            			<div class="col-benefit">Track +10%</div>
                            			<div class="col-desc">Gain +10% Track Skill</div>
                            			<div class="col-val">
                                			<input class="skill-input-small" type="text" name="attr_draevi_talent_track_bonus_mdr" readonly />
                            			</div>
                        			</div>
                    			</div>
                			</div>
                			<div class="sheet-bg-content-right">
                    			<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Clan-Blooded Logo" />
                			</div>
            			</div>
        			</div>
        			<!-- Scavenger's Edge -->
        			<div class="sheet-bgblock sheet-talent-scavengers_edge">
            			<h3 class="section-head sheet-background-section-head talent-center">Scavenger's Edge</h3>
            			<div class="sheet-bgblock-flex">
                			<div class="sheet-bg-content-left">
                    			<div class="sheet-talent-grid">
                        			<div class="sheet-talent-header-row">
                            			<div class="col-a">A</div>
                            			<div class="col-benefit">Benefit</div>
                            			<div class="col-desc">Description</div>
                            			<div class="col-val">Val</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_draevi_scavengers_edge_mdr_checkbox" value="talent_electronics" />
                            			</div>
                            			<div class="col-benefit">Electronics +10%</div>
                            			<div class="col-desc">Gain +10% Electronics Skill</div>
                            			<div class="col-val">
                                			<input class="skill-input-small" type="text" name="attr_draevi_talent_electronics_bonus_mdr" readonly />
                            			</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_draevi_scavengers_edge_mdr_checkbox" value="talent_mechanics" />
                            			</div>
                            			<div class="col-benefit">Mechanics +10%</div>
                            			<div class="col-desc">Gain +10% Mechanics Skill</div>
                            			<div class="col-val">
                                			<input class="skill-input-small" type="text" name="attr_draevi_talent_mechanics_bonus_mdr" readonly />
                            			</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_draevi_scavengers_edge_mdr_checkbox" value="talent_streetwise" />
                            			</div>
                            			<div class="col-benefit">Streetwise +10%</div>
                            			<div class="col-desc">Gain +10% Streetwise Skill</div>
                            			<div class="col-val">
                                			<input class="skill-input-small" type="text" name="attr_draevi_talent_streetwise_bonus_mdr" readonly />
                            			</div>
                        			</div>
                    			</div>
                			</div>
                			<div class="sheet-bg-content-right">
                    			<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Scavenger's Edge Logo" />
                			</div>
            			</div>
        			</div>
    			</div>
			</div>
			<!-- Feran Talents -->
			<div class="sheet-racials3">
				<input type="checkbox" style="display:none" class="sheet-showracials" name="attr_showracials" />
				<div class="sheet-section">
					<input type="hidden" name="attr_feran_talent_tab" class="sheet-tab-controller" value="" />
					<div class="sheet-tab-buttons">
						<!-- Feran talent buttons go here -->
					</div>
					<!-- Feran talent blocks go here -->
				</div>
			</div>
			<!-- Human Talents -->
			<div class="sheet-racials4">
    			<input type="checkbox" style="display:none" class="sheet-showracials" name="attr_showracials" />
    			<div class="sheet-section">
        			<!-- Human Talent Tab Controller -->
        			<input type="hidden" name="attr_human_talent_tab" class="sheet-tab-controller" value="quick_fixer" />
        			<!-- Human Talent Tab Buttons -->
        			<div class="sheet-tab-buttons">
            			<button type="action" name="act_quick_fixer">Quick Fixer</button>
            			<button type="action" name="act_skilled_focus">Skilled Focus</button>
        			</div>
        			<!-- Quick Fixer Talent Block -->
        			<div class="sheet-bgblock sheet-talent-quick_fixer">
            			<h3 class="section-head sheet-background-section-head talent-center">Quick Fixer</h3>
            			<div class="sheet-bgblock-flex">
                			<div class="sheet-bg-content-left">
                    			<div class="sheet-talent-grid">
                        			<div class="sheet-talent-header-row">
                            			<div class="col-a">A</div>
                            			<div class="col-benefit">Benefit</div>
                            			<div class="col-desc">Description</div>
                            			<div class="col-val">Val</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_human_quick_fixer_mdr_checkbox" value="talent_electronics" />
                            			</div>
                            			<div class="col-benefit">Electronics +10%</div>
                            			<div class="col-desc">Gain +10% Electronics Skill</div>
                            			<div class="col-val">
                                			<input class="skill-input-small" type="text" name="attr_human_talent_electronics_bonus_mdr" readonly />
                            			</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_human_quick_fixer_mdr_checkbox" value="talent_mechanics" />
                            			</div>
                            			<div class="col-benefit">Mechanics +10%</div>
                            			<div class="col-desc">Gain +10% Mechanics Skill</div>
                            			<div class="col-val">
                                			<input class="skill-input-small" type="text" name="attr_human_talent_mechanics_bonus_mdr" readonly />
                            			</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_human_quick_fixer_mdr_checkbox" value="talent_slicing" />
                            			</div>
                            			<div class="col-benefit">Slicing +10%</div>
                            			<div class="col-desc">Gain +10% Slicing Skill</div>
                            			<div class="col-val">
                                			<input class="skill-input-small" type="text" name="attr_human_talent_slicing_bonus_mdr" readonly />
                            			</div>
                        			</div>
                    			</div>
                			</div>
                			<div class="sheet-bg-content-right">
                    			<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Quick Fixer Logo" />
                			</div>
            			</div>
        			</div>
        			<!-- Skilled Focus Talent Block -->
        			<div class="sheet-bgblock sheet-talent-skilled_focus">
            			<h3 class="section-head sheet-background-section-head talent-center">Skilled Focus</h3>
            			<div class="sheet-bgblock-flex">
                			<div class="sheet-bg-content-left">
                    			<div class="sheet-talent-grid">
                        			<div class="sheet-talent-header-row">
                            			<div class="col-a">A</div>
                            			<div class="col-benefit" colspan="3">Benefit / Description</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_skilled_focus_checkbox" value="placeholder1" />
                            			</div>
                            			<div class="col-benefit" colspan="3">Gain +10% to any non-combat, non-magic skill</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_skilled_focus_checkbox" value="placeholder2" />
                            			</div>
                            			<div class="col-benefit" colspan="3">Placeholder 2</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_skilled_focus_checkbox" value="placeholder3" />
                            			</div>
                            			<div class="col-benefit" colspan="3">Placeholder 3</div>
                        			</div>
                    			</div>
                			</div>
                			<div class="sheet-bg-content-right">
                    			<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Skilled Focus Logo" />
                			</div>
            			</div>
        			</div>
    			</div>
			</div>
			<!-- Khadra Talents -->
			<div class="sheet-racials5">
				<input type="checkbox" style="display:none" class="sheet-showracials" name="attr_showracials" />
				<div class="sheet-section">
					<input type="hidden" name="attr_khadra_talent_tab" class="sheet-tab-controller" value="" />
					<div class="sheet-tab-buttons">
						<!-- Khadra talent buttons go here -->
					</div>
					<!-- Khadra talent blocks go here -->
				</div>
			</div>
			<!-- Kitsu Talents -->
			<div class="sheet-racials6">
				<input type="checkbox" style="display:none" class="sheet-showracials" name="attr_showracials" />
				<div class="sheet-section">
					<input type="hidden" name="attr_kitsu_talent_tab" class="sheet-tab-controller" value="" />
					<div class="sheet-tab-buttons">
						<!-- Kitsu talent buttons go here -->
					</div>
					<!-- Kitsu talent blocks go here -->
				</div>
			</div>
			<!-- Lyranni Talents -->
			<div class="sheet-racials7">
    			<input type="checkbox" style="display:none" class="sheet-showracials" name="attr_showracials" />
    			<div class="sheet-section">
        			<!-- Lyranni Talent Tab Controller -->
        			<input type="hidden" name="attr_lyranni_talent_tab" class="sheet-tab-controller" value="aether_override" />
        			<!-- Lyranni Talent Tab Buttons -->
        			<div class="sheet-tab-buttons">
            			<button type="action" name="act_aether_override">Aether Override</button>
            			<button type="action" name="act_echo_in_the_veins">Echo in the Veins</button>
        			</div>
        			<!-- Aether Override Talent Block -->
        			<div class="sheet-bgblock sheet-talent-aether_override">
            			<h3 class="section-head sheet-background-section-head talent-center">Aether Override</h3>
            			<div class="sheet-bgblock-flex">
                			<div class="sheet-bg-content-left">
                    			<div class="sheet-talent-grid">
                        			<div class="sheet-talent-header-row">
                            			<div class="col-a">A</div>
                            			<div class="col-benefit">Benefit</div>
                            			<div class="col-desc">Description</div>
                            			<div class="col-val">Val</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_lyranni_aether_override_mdr_checkbox" value="talent_electronics" />
                            			</div>
                            			<div class="col-benefit">Electronics +10%</div>
                            			<div class="col-desc">Gain +10% Electronics Skill</div>
                            			<div class="col-val">
                                			<input class="skill-input-small" type="text" name="attr_lyranni_talent_electronics_bonus_mdr" readonly />
                            			</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_lyranni_aether_override_mdr_checkbox" value="talent_mechanics" />
                            			</div>
                            			<div class="col-benefit">Mechanics +10%</div>
                            			<div class="col-desc">Gain +10% Mechanics Skill</div>
                            			<div class="col-val">
                                			<input class="skill-input-small" type="text" name="attr_lyranni_talent_mechanics_bonus_mdr" readonly />
                            			</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_lyranni_aether_override_mdr_checkbox" value="talent_slicing" />
                            			</div>
                            			<div class="col-benefit">Slicing +10%</div>
                            			<div class="col-desc">Gain +10% Slicing Skill</div>
                            			<div class="col-val">
                                			<input class="skill-input-small" type="text" name="attr_lyranni_talent_slicing_bonus_mdr" readonly />
                            			</div>
                        			</div>
                    			</div>
                			</div>
                			<div class="sheet-bg-content-right">
                    			<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Aether Override Logo" />
                			</div>
            			</div>
        			</div>
        			<!-- Echo in the Veins Talent Block -->
        			<div class="sheet-bgblock sheet-talent-echo_in_the_veins">
            			<h3 class="section-head sheet-background-section-head talent-center">Echo in the Veins</h3>
            			<div class="sheet-bgblock-flex">
                			<div class="sheet-bg-content-left">
                    			<div class="sheet-talent-grid">
                        			<div class="sheet-talent-header-row">
                            			<div class="col-a">A</div>
                            			<div class="col-benefit">Benefit</div>
                            			<div class="col-desc">Description</div>
                            			<div class="col-val">Val</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_lyranni_echo_in_the_veins_mdr_checkbox" value="talent_dance" />
                            			</div>
                            			<div class="col-benefit">Dance +5%</div>
                            			<div class="col-desc">Gain +5% Dance Skill</div>
                            			<div class="col-val">
                                			<input class="skill-input-small" type="text" name="attr_lyranni_talent_dance_bonus_mdr" readonly />
                            			</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_lyranni_echo_in_the_veins_mdr_checkbox" value="talent_impersonation" />
                            			</div>
                            			<div class="col-benefit">Impersonation +5%</div>
                            			<div class="col-desc">Gain +5% Impersonation Skill</div>
                            			<div class="col-val">
                                			<input class="skill-input-small" type="text" name="attr_lyranni_talent_impersonation_bonus_mdr" readonly />
                            			</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_lyranni_echo_in_the_veins_mdr_checkbox" value="talent_instrument" />
                            			</div>
                            			<div class="col-benefit">Instrument +5%</div>
                            			<div class="col-desc">Gain +5% Instrument Skill</div>
                            			<div class="col-val">
                                			<input class="skill-input-small" type="text" name="attr_lyranni_talent_instrument_bonus_mdr" readonly />
                            			</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_lyranni_echo_in_the_veins_mdr_checkbox" value="talent_singing" />
                            			</div>
                            			<div class="col-benefit">Singing +5%</div>
                            			<div class="col-desc">Gain +5% Singing Skill</div>
                            			<div class="col-val">
                                			<input class="skill-input-small" type="text" name="attr_lyranni_talent_singing_bonus_mdr" readonly />
                            			</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_lyranni_echo_in_the_veins_mdr_checkbox" value="talent_insight" />
                            			</div>
                            			<div class="col-benefit">Insight +10%</div>
                            			<div class="col-desc">Gain +10% Insight Skill</div>
                            			<div class="col-val">
                                			<input class="skill-input-small" type="text" name="attr_lyranni_talent_insight_bonus_mdr" readonly />
                            			</div>
                        			</div>
                        			<div class="sheet-talent-row">
                            			<div class="col-a">
                                			<input type="checkbox" name="attr_lyranni_echo_in_the_veins_mdr_checkbox" value="talent_slicing" />
                            			</div>
                            			<div class="col-benefit">Slicing +5%</div>
                            			<div class="col-desc">Gain +5% Slicing Skill</div>
                            			<div class="col-val">
                                			<input class="skill-input-small" type="text" name="attr_lyranni_talent_slicing_bonus_mdr" readonly />
                            			</div>
                        			</div>
                    			</div>
                			</div>
                			<div class="sheet-bg-content-right">
                    			<img src="https://raw.githubusercontent.com/Tetsemi/Ghost/refs/heads/main/Ghost_Logo.png" alt="Echo in the Veins Logo" />
                			</div>
            			</div>
        			</div>
    			</div>
			</div>			
			<!-- Veyra Talents -->
			<div class="sheet-racials8">
				<input type="checkbox" style="display:none" class="sheet-showracials" name="attr_showracials" />
				<div class="sheet-section">
					<input type="hidden" name="attr_veyra_talent_tab" class="sheet-tab-controller" value="" />
					<div class="sheet-tab-buttons">
						<!-- Veyra talent buttons go here -->
					</div>
					<!-- Veyra talent blocks go here -->
				</div>
			</div>		
		</div>
		
		<!-- -------------------------- Modern Combat -------------------------- -->
		<div class="sheet-tab-content sheet-combat">
			<div class='sheet-colrow'>
				<h4 class="section-head" data-i18n="combat-u">Combat</h4>
				<input type="checkbox" style="display:none" class="sheet-hide" name="attr_sheet-hide">
				<div class="section">
					<!-- Header -->
					<div class="sheet-weapon-header">
						<div class="flex-row">
							<div class="flex-cell weapon-name"><span data-i18n="weaponname-u">Weapon</span></div>
							<div class="flex-cell weapon-roll"><!-- Empty for roll --></div>
							<div class="flex-cell weapon-skill"><span data-i18n="skill-u">Skill</span></div>
							<div class="flex-cell weapon-damage"><span data-i18n="damage-u">Damage</span></div>
							<div class="flex-cell weapon-damage-bonus"><span>DB</span></div>
							<div class="flex-cell weapon-range"><span data-i18n="range-u">Range</span></div>
							<div class="flex-cell weapon-attacks"><span data-i18n="attacks-u">Attacks</span></div>
							<div class="flex-cell weapon-ammo"><span data-i18n="ammo-u">Ammo</span></div>
							<div class="flex-cell weapon-malf"><span data-i18n="malf-u">Malf</span></div>
							<div class="flex-cell weapon-strain"><span data-i18n="strain-u">Strain</span></div>
						</div>
					</div>
					<!-- Default Row (Unarmed) -->
					<div class="sheet-weapon-default">
						<div class="flex-row">
							<div class="flex-cell weapon-name"><input type="text" placeholder="Unarmed" data-i18n-placeholder="unarmed-z" disabled="true"></div>
							<div class="flex-cell weapon-roll"><button type="roll" class="new-roll" disabled="true"></button></div>
							<div class="flex-cell weapon-skill"><input type="text" placeholder="Unarmed" data-i18n-placeholder="unarmed-u" disabled="true"></div>
							<div class="flex-cell weapon-damage"><input type="text" value="1d3" disabled="true"></div>
							<div class="flex-cell weapon-damage-bonus"><input type="text" value="+db" disabled="true"></div>
							<div class="flex-cell weapon-range"><input type="text" value="-" disabled="true"></div>
							<div class="flex-cell weapon-attacks"><input type="text" value="1" disabled="true"></div>
							<div class="flex-cell weapon-ammo"><input type="text" value="-" disabled="true"></div>
							<div class="flex-cell weapon-malf"><input type="text" value="-" disabled="true"></div>
							<div class="flex-cell weapon-strain"><input type="text" value="-" disabled="true"></div>
						</div>
					</div>
					<!-- Fixed Weapon 1 -->
					<div class="sheet-weapon-block">
						<div class="flex-row">
							<div class="flex-cell weapon-name"><input type="text" name="attr_weapon1_mdr_name" placeholder="Weapon Name"></div>
								<div class="flex-cell weapon-roll">
									<button type="roll" class="new-roll" name="roll_weapon1_mdr_attack" value="&{template:coc-attack-1} {{name=@{weapon1_mdr_name}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{weapon1_skill_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{weapon1_skill_mdr} + @{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{weapon1_skill_mdr} + @{dice_modifier_checkbox})/5)]]}} {{malf=@{weapon1_mdr_malf}}} {{roll1=[[1d100]]}} {{damage=[[@{weapon1_mdr_damage}@{weapon1_mdr_db}]]}} {{extremedamage=[[(@{weapon1_mdr_damage_numdice}*@{weapon1_mdr_damage_dicesize})+@{weapon1_mdr_damage_bonus}]]}} {{strain=[[ @{weapon1_mdr_strain} + 0 ]]}}">
								</button>
							</div>
							<div class="flex-cell weapon-skill">
								<select name="attr_weapon1_skill_mdr">
									<option value="@{unarmed_mdr}" data-i18n="unarmed-u">Unarmed</option>
									<option value="@{archery_mdr}" data-i18n="archery-u">Archery</option>
									<option value="@{gunnery_mdr}" data-i18n="gunnery-u">Gunnery</option>
									<option value="@{heavy_weapons_mdr}" data-i18n="heavy_weapons-u">Heavy Weapons</option>
									<option value="@{melee_weapons_mdr}" data-i18n="melee_weapons-u">Melee Weapons</option>
									<option value="@{firearms_handgun_mdr}" data-i18n="firearms(hg)-u">Pistol</option>
									<option value="@{firearms_rifle_mdr}" data-i18n="firearms_rifle-u">Rifle/Shotgun</option>
									<option value="@{firearms_smg_mdr}" data-i18n="firearms_s_m_g-u">Submachine Gun</option>
									<option value="@{throw_mdr}" data-i18n="throw-u">Throw</option>
									<option value="@{magic_universal_mdr}" data-i18n="magic_universal-u">Magic</option>
   							   </select>
							</div>
							<div class="flex-cell weapon-damage"><input type="text" name="attr_weapon1_mdr_damage" placeholder="Damage"></div>
								<div class="flex-cell weapon-damage-bonus">
									<select name="attr_weapon1_mdr_db">
										<option value="+0">+0</option>
										<option value="+round((@{damage_bonus})/2)">+db</option>
										<option value="+@{damage_bonus}">+db</option>
									</select>
								</div>
								<div class="flex-cell weapon-range"><input type="text" name="attr_weapon1_mdr_range" placeholder="Range"></div>
								<div class="flex-cell weapon-attacks"><input type="text" name="attr_weapon1_mdr_attacks" placeholder="Attacks"></div>
								<div class="flex-cell weapon-ammo"><input type="text" name="attr_weapon1_mdr_ammo" placeholder="Ammo"></div>
								<div class="flex-cell weapon-malf"><input type="text" name="attr_weapon1_mdr_malf" placeholder="Malf"></div>
								<div class="flex-cell weapon-strain"><input type="text" name="attr_weapon1_mdr_strain" placeholder="Strain"></div>
							</div>
						</div>
						<!-- Hidden parsing fields for Weapon 1 -->
					<input type="hidden" name="attr_weapon1_mdr_damage_numdice" value="0">
					<input type="hidden" name="attr_weapon1_mdr_damage_dicesize" value="0">
					<input type="hidden" name="attr_weapon1_mdr_damage_bonus" value="0">
					<input type="hidden" name="attr_weapon1_mdr_strain" value="0">
					<fieldset class="repeating_weaponsmdr">
						<div class="flex-row">
							<input type="hidden" name="attr_damage_numdice" value="0">
							<input type="hidden" name="attr_damage_dicesize" value="0">
							<input type="hidden" name="attr_damage_bonus" value="0">
							<input type="hidden" name="attr_weaponstrain_mdr" value="0">
							<div class="flex-cell weapon-name"><input type="text" name="attr_weaponname_mdr"></div>
							<div class="flex-cell weapon-roll">
								<button type="roll" class="new-roll" name="roll_weaponskill_mdr_check" value="&{template:coc-attack-1} {{name=@{weaponname_mdr}}} {{modifier=[[@{dice_modifier_checkbox} + 0]]}} {{success=[[@{weaponskill_mdr}+@{dice_modifier_checkbox}]]}} {{hard=[[floor((@{weaponskill_mdr}+@{dice_modifier_checkbox})/2)]]}} {{extreme=[[floor((@{weaponskill_mdr}+@{dice_modifier_checkbox})/5)]]}} {{malf=@{weaponmalf_mdr}}} {{roll1=[[1d100]]}} {{damage=[[@{weapondamage_mdr}@{weapondb_mdr}]]}} {{extremedamage=[[(@{damage_numdice}*@{damage_dicesize})+@{damage_bonus}]]}} {{strain=[[ @{weaponstrain_mdr} + 0 ]]}}"></button>
							</div>
							<div class="flex-cell weapon-skill">
								<select name="attr_weaponskill_mdr">
									<option value="@{unarmed_mdr}" data-i18n="unarmed-u">Unarmed</option>
									<option value="@{archery_mdr}" data-i18n="archery-u">Archery</option>
									<option value="@{gunnery_mdr}" data-i18n="gunnery-u">Gunnery</option>
									<option value="@{heavy_weapons_mdr}" data-i18n="heavy_weapons-u">Heavy Weapons</option>
									<option value="@{melee_weapons_mdr}" data-i18n="melee_weapons-u">Melee Weapons</option>
									<option value="@{firearms_handgun_mdr}" data-i18n="firearms(hg)-u">Pistol</option>
									<option value="@{firearms_rifle_mdr}" data-i18n="firearms_rifle-u">Rifle/Shotgun</option>
									<option value="@{firearms_smg_mdr}" data-i18n="firearms_s_m_g-u">Submachine Gun</option>
									<option value="@{throw_mdr}" data-i18n="throw-u">Throw</option>
									<option value="@{magic_universal_mdr}" data-i18n="magic_universal-u">Magic</option>
								</select>
							</div>
							<div class="flex-cell weapon-damage"><input type="text" name="attr_weapondamage_mdr"></div>
							<div class="flex-cell weapon-damage-bonus">
								<select name="attr_weapondb_mdr">
									<option value="+0">+0</option>
									<option value="+round((@{damage_bonus})/2)">+db</option>
									<option value="+@{damage_bonus}">+db</option>
								</select>
							</div>
							<div class="flex-cell weapon-range"><input type="text" name="attr_weaponrange_mdr"></div>
							<div class="flex-cell weapon-attacks"><input type="text" name="attr_weaponattacks_mdr"></div>
							<div class="flex-cell weapon-ammo"><input type="text" name="attr_weaponammo_mdr"></div>
							<div class="flex-cell weapon-malf"><input type="text" name="attr_weaponmalf_mdr"></div>
							<div class="flex-cell weapon-strain"><input type="text" name="attr_weaponstrain_mdr"></div>
						</div>
					</fieldset>
				</div>
			</div>
		</div>
		
		<!-- Spells -->
		<div class="sheet-tab-content sheet-spells">
			<h4 class="section-head" data-i18n="spells-u">Spells</h4>
			<!-- Prep Spell Cost / Arcane Capacity Tracker -->
			<div class="sheet-section">
				<div class="sheet-bgblock-flex">
					<div class="sheet-bg-content-left">
						<h4 class="section-head">Prep Spell Cost / Arcane Capacity</h4>
						<div class="sheet-talent-grid">
							<div class="sheet-talent-row">
								<div class="col-benefit">Cost</div>
								<div class="col-val">
									<input type="hidden" class="sheet-overflow-mirror" name="attr_spellcost_overflow" />
									<input class="secondary-attr-input sheet-overflow-sensitive" type="text" name="attr_total_spellcost" placeholder="current" data-i18n-placeholder="current" min="0" />
								</div>
							</div>
							<div class="sheet-talent-row">
								<div class="col-benefit">Capacity</div>
								<div class="col-val">
									<input class="secondary-attr-input" type="text" name="attr_ac" placeholder="max" data-i18n-placeholder="max" min="0" />
								</div>
							</div>
						</div>
					</div>
				</div>
				<hr />
				<!-- Repeating Spells Block -->
				<fieldset class="repeating_spells">
					<div class="sheet-bgblock-flex">
						<!-- Left Column -->
						<div class="sheet-bg-content-left">
							<div class="sheet-talent-grid">
								<div class="sheet-talent-header-row">
									<div class="col-benefit" data-i18n="spellname-u">Spell Name</div>
									<div class="col-val"><input class="sheet-wide-input" type="text" name="attr_spellname" /></div>
								</div>
								<div class="sheet-talent-row">
									<div class="col-benefit" data-i18n="cost-u">Cost</div>
									<div class="col-val"><input class="sheet-wide-input" type="text" name="attr_spellcost" /></div>
								</div>
								<div class="sheet-talent-row">
									<div class="col-benefit" data-i18n="castime-u">Casting Time</div>
									<div class="col-val"><input class="sheet-wide-input" type="text" name="attr_spellcastime" /></div>
								</div>
								<div class="sheet-talent-row">
									<div class="col-benefit" data-i18n="prepared-u">Prepared</div>
									<div class="col-val">
										<input type="hidden" class="sheet-prepared-mirror" name="attr_spellprepared_mirror" />
										<select name="attr_spellprepared" class="sheet-prepared-toggle">
											<option value="0" selected>Off</option>
											<option value="1">On</option>
										</select>
									</div>
								</div>
							</div>
						</div>
						<!-- Right Column -->
						<div class="sheet-bg-content-right">
							<div class="sheet-spell-label" data-i18n="description-u"><b>Description</b></div>
							<textarea name="attr_spelldescription" class="sheet-spell-textarea"></textarea>
						</div>
					</div>
					<hr />
				</fieldset>
			</div>
		</div>
		
		<!-- ------------------------- Gear and Possessions ------------------------- -->
		<div class="sheet-tab-content sheet-inventory">
			<div class="sheet-2colrow">
				<!-- Gear & Possessions Column -->
				<div class="sheet-col">
					<h4 class="section-head" data-i18n="gearandpossessions-u">Gear and Possessions</h4>
					<div class="sheet-section sheet-gear-flex">
						<textarea name="attr_gear_and_posessions"></textarea>
						<textarea name="attr_gear_and_posessions1"></textarea>
					</div>
				</div>
				<!-- Cash & Assets Column -->
				<div class="sheet-col">
					<h4 class="section-head" data-i18n="cashandassets-u">Cash and Assets</h4>
					<div class="sheet-section sheet-cash-grid">
						<label data-i18n="spendinglevel-u">Spending Level</label>
						<input type="text" name="attr_spending_level" />
						<label data-i18n="cash-u">Cash</label>
						<input type="text" name="attr_cash" />
						<label data-i18n="assets-u">Assets</label>
						<textarea name="attr_assets"></textarea>
					</div>
				</div>
			</div>
		</div>
		
		<!-- ------------------------- Backstory ------------------------- -->
		<div class="sheet-tab-content sheet-backstory">
			<input type="checkbox" style="display:none" class="sheet-showpulp" name="attr_showpulp" value="1" />
			<h4 class="section-head" data-i18n="backstory-u">Backstory</h4>
			<div class="sheet-section sheet-backstory-grid">
				<!-- Column 1 -->
				<div class="sheet-backstory-col">
					<label data-i18n="Personal Description">Personal Description</label>
					<textarea name="attr_personal_description"></textarea>
					<label data-i18n="Ideology/Beliefs">Ideology/Beliefs</label>
					<textarea name="attr_ideaology_beliefs"></textarea>
					<label data-i18n="Significant People">Significant People</label>
					<textarea name="attr_significant_people"></textarea>
					<label data-i18n="Meaningful Locations">Meaningful Locations</label>
					<textarea name="attr_meaningful_locations"></textarea>
					<label data-i18n="Treasured Possessions">Treasured Possessions</label>
					<textarea name="attr_treasured_posessions"></textarea>
				</div>
				<!-- Column 2 -->
				<div class="sheet-backstory-col">
					<label data-i18n="Traits">Traits</label>
					<textarea name="attr_traits"></textarea>
					<label data-i18n="Injuries & Scars">Injuries & Scars</label>
					<textarea name="attr_injuries_scars"></textarea>
					<label data-i18n="Phobias/Manias">Phobias/Manias</label>
					<textarea name="attr_phobias_manias"></textarea>
					<label data-i18n="Tomes, Spells and Artifacts">Tomes, Spells and Artifacts</label>
					<textarea name="attr_tomes_spells_artifacts"></textarea>
					<label data-i18n="Encounters with Strange Entities-z">Encounters with Strange Entities</label>
					<textarea name="attr_encounters_with_strange_entities"></textarea>
				</div>
			</div>
		</div>
		
<!-- NPC Companions (Converted to Grid/Flex Layout) -->
<div class="sheet-tab-content sheet-npcs">
  <input type="checkbox" class="sheet-togglecompanions" style="display:none" name="attr_togglecompanions" value="1">
  <div class="sheet-companions">
    <h4 class="section-head" data-i18n="companions&mounts-u">NPCs</h4>
    <div class="sheet-section">
      <fieldset class="repeating_minion">
        <div class="sheet-bgblock-flex">
          <!-- Left Column: Identity, Stats, Attributes, Skills -->
          <div class="sheet-bg-content-left">
            <div class="sheet-talent-grid">
              <div class="sheet-talent-header-row">
                <div class="col-benefit" data-i18n="name-u">Name</div>
                <div class="col-val">
                  <input type="text" name="attr_minion_name" class="sheet-wide-input" placeholder="Name" />
                </div>
              </div>
              <div class="sheet-talent-row">
                <div class="col-benefit" data-i18n="san-u">SAN</div>
                <div class="col-val">
                  <input type="text" name="attr_minion_san_roll" class="sheet-wide-input" placeholder="SAN" />
                  <button type="roll" class="smallbutton-roll" name="roll_minion_san_roll_check" value="&{template:coc-1} {{name=@{minion_name} Rolling SAN}} {{success=[[@{minion_san_roll}]]}} {{hard=[[floor(@{minion_san_roll}/2)]]}} {{extreme=[[floor(@{minion_san_roll}/5)]]}} {{roll1=[[1d100]]}}"></button>
                </div>
              </div>
              <div class="sheet-talent-row">
                <div class="col-benefit" data-i18n="generalinfo-u">General Info</div>
                <div class="col-val">
                  <textarea name="attr_minion_stats_info" class="sheet-spell-textarea" placeholder="General Info"></textarea>
                </div>
              </div>
              <!-- Health & Movement -->
              <div class="sheet-talent-row">
                <div class="col-benefit">HP / Strain</div>
                <div class="col-val">
                  <input type="text" name="attr_minionhp" class="sheet-narrow-input" placeholder="HP" /> / 
                  <input type="text" name="attr_minionmp" class="sheet-narrow-input" placeholder="Strain" />
                </div>
              </div>
              <div class="sheet-talent-row">
                <div class="col-benefit">MOV</div>
                <div class="col-val">
                  <input type="text" name="attr_minionmove" class="sheet-wide-input" placeholder="Movement" />
                </div>
              </div>
              <!-- Build / DB -->
              <div class="sheet-talent-row">
                <div class="col-benefit">B / DB</div>
                <div class="col-val">
                  <input type="text" name="attr_minionbuild" class="sheet-narrow-input" placeholder="Build" /> / 
                  <input type="text" name="attr_miniondb" class="sheet-narrow-input" placeholder="DB" />
                </div>
              </div>
              <!-- Armor -->
              <div class="sheet-talent-row">
                <div class="col-benefit" data-i18n="armor-z">Armor</div>
                <div class="col-val">
                  <input type="text" name="attr_minionarmorname" class="sheet-wide-input" placeholder="Armor Name" />
                  <input type="text" name="attr_minionarmor" class="sheet-narrow-input" placeholder="Def" />
                  <button type="roll" class="smallnonskillbutton-roll" name="roll_minionarmor" value="&{template:coc-miniondef} {{name=@{minion_name} @{minionarmorname}}} {{defence=[[@{minionarmor}]]}}"></button>
                </div>
              </div>
              <!-- Attributes (STR to EDU) -->
              <div class="sheet-talent-header-row">
                <div class="col-benefit">Attributes</div>
                <div class="col-val">&nbsp;</div>
              </div>
              <div class="sheet-talent-row">
                <div class="col-val">
                  STR <input type="text" name="attr_minionattr1" class="sheet-narrow-input" />
                  <button type="roll" class="smallbutton-roll" name="roll_minionattr1_check" value="&{template:coc-1} {{name=@{minion_name} rolling STR}} {{success=[[@{minionattr1}]]}} {{hard=[[floor(@{minionattr1}/2)]]}} {{extreme=[[floor(@{minionattr1}/5)]]}} {{roll1=[[1d100]]}}"></button>
                </div>
              </div>
              <div class="sheet-talent-row">
                <div class="col-val">
                  CON <input type="text" name="attr_minionattr2" class="sheet-narrow-input" />
                  <button type="roll" class="smallbutton-roll" name="roll_minionattr2_check" value="&{template:coc-1} {{name=@{minion_name} rolling CON}} {{success=[[@{minionattr2}]]}} {{hard=[[floor(@{minionattr2}/2)]]}} {{extreme=[[floor(@{minionattr2}/5)]]}} {{roll1=[[1d100]]}}"></button>
                </div>
              </div>
              <div class="sheet-talent-row">
                <div class="col-val">
                  SIZ <input type="text" name="attr_minionattr3" class="sheet-narrow-input" />
                  <button type="roll" class="smallbutton-roll" name="roll_minionattr3_check" value="&{template:coc-1} {{name=@{minion_name} rolling SIZ}} {{success=[[@{minionattr3}]]}} {{hard=[[floor(@{minionattr3}/2)]]}} {{extreme=[[floor(@{minionattr3}/5)]]}} {{roll1=[[1d100]]}}"></button>
                </div>
              </div>
              <div class="sheet-talent-row">
                <div class="col-val">
                  APP <input type="text" name="attr_minionattr4" class="sheet-narrow-input" />
                  <button type="roll" class="smallbutton-roll" name="roll_minionattr4_check" value="&{template:coc-1} {{name=@{minion_name} rolling APP}} {{success=[[@{minionattr4}]]}} {{hard=[[floor(@{minionattr4}/2)]]}} {{extreme=[[floor(@{minionattr4}/5)]]}} {{roll1=[[1d100]]}}"></button>
                </div>
              </div>
              <div class="sheet-talent-row">
                <div class="col-val">
                  DEX <input type="text" name="attr_minionattr5" class="sheet-narrow-input" />
                  <button type="roll" class="smallbutton-roll" name="roll_minionattr5_check" value="&{template:coc-1} {{name=@{minion_name} rolling DEX}} {{success=[[@{minionattr5}]]}} {{hard=[[floor(@{minionattr5}/2)]]}} {{extreme=[[floor(@{minionattr5}/5)]]}} {{roll1=[[1d100]]}}"></button>
                </div>
              </div>
              <div class="sheet-talent-row">
                <div class="col-val">
                  INT <input type="text" name="attr_minionattr6" class="sheet-narrow-input" />
                  <button type="roll" class="smallbutton-roll" name="roll_minionattr6_check" value="&{template:coc-1} {{name=@{minion_name} rolling INT}} {{success=[[@{minionattr6}]]}} {{hard=[[floor(@{minionattr6}/2)]]}} {{extreme=[[floor(@{minionattr6}/5)]]}} {{roll1=[[1d100]]}}"></button>
                </div>
              </div>
              <div class="sheet-talent-row">
                <div class="col-val">
                  POW <input type="text" name="attr_minionattr7" class="sheet-narrow-input" />
                  <button type="roll" class="smallbutton-roll" name="roll_minionattr7_check" value="&{template:coc-1} {{name=@{minion_name} rolling POW}} {{success=[[@{minionattr7}]]}} {{hard=[[floor(@{minionattr7}/2)]]}} {{extreme=[[floor(@{minionattr7}/5)]]}} {{roll1=[[1d100]]}}"></button>
                </div>
              </div>
              <div class="sheet-talent-row">
                <div class="col-val">
                  EDU <input type="text" name="attr_minionattr8" class="sheet-narrow-input" />
                  <button type="roll" class="smallbutton-roll" name="roll_minionattr8_check" value="&{template:coc-1} {{name=@{minion_name} rolling EDU}} {{success=[[@{minionattr8}]]}} {{hard=[[floor(@{minionattr8}/2)]]}} {{extreme=[[floor(@{minionattr8}/5)]]}} {{roll1=[[1d100]]}}"></button>
                </div>
              </div>
            </div>
          </div>

          <!-- Right Column: Weapons -->
          <div class="sheet-bg-content-right">
            <div class="sheet-talent-grid">
              <div class="sheet-talent-header-row">
                <div class="col-benefit">Weapons</div>
                <div class="col-val">&nbsp;</div>
              </div>
              <div class="sheet-talent-row">
                <div class="col-val">
                  <input type="text" name="attr_minionweapon1" class="sheet-wide-input" placeholder="Weapon 1 (Skill 6)" />
                  <input type="text" name="attr_miniondamage1" class="sheet-narrow-input" placeholder="Dam+DB" />
                  <button type="roll" class="smallbutton-roll" name="roll_miniondamage1" value="&{template:coc-minionattack} {{name=@{minion_name} attacking with @{minionweapon1}}} {{success=[[@{minionskill6}]]}} {{hard=[[floor(@{minionskill6}/2)]]}} {{extreme=[[floor(@{minionskill6}/5)]]}} {{roll1=[[1d100]]}} {{damage=[[@{miniondamage1}]]}}"></button>
                </div>
              </div>
              <div class="sheet-talent-row">
                <div class="col-val">
                  <input type="text" name="attr_minionweapon2" class="sheet-wide-input" placeholder="Weapon 2 (Skill 7)" />
                  <input type="text" name="attr_miniondamage2" class="sheet-narrow-input" placeholder="Dam+DB" />
                  <button type="roll" class="smallbutton-roll" name="roll_miniondamage2" value="&{template:coc-minionattack} {{name=@{minion_name} attacking with @{minionweapon2}}} {{success=[[@{minionskill7}]]}} {{hard=[[floor(@{minionskill7}/2)]]}} {{extreme=[[floor(@{minionskill7}/5)]]}} {{roll1=[[1d100]]}} {{damage=[[@{miniondamage2}]]}}"></button>
                </div>
              </div>
              <div class="sheet-talent-row">
                <div class="col-val">
                  <input type="text" name="attr_minionweapon3" class="sheet-wide-input" placeholder="Weapon 3 (Skill 8)" />
                  <input type="text" name="attr_miniondamage3" class="sheet-narrow-input" placeholder="Dam+DB" />
                  <button type="roll" class="smallbutton-roll" name="roll_miniondamage3" value="&{template:coc-minionattack} {{name=@{minion_name} attacking with @{minionweapon3}}} {{success=[[@{minionskill8}]]}} {{hard=[[floor(@{minionskill8}/2)]]}} {{extreme=[[floor(@{minionskill8}/5)]]}} {{roll1=[[1d100]]}} {{damage=[[@{miniondamage3}]]}}"></button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <hr />
      </fieldset>
    </div>
  </div>
</div>
		
		<!-- Vehicles -->
		<div class="sheet-tab-content sheet-vehicles">
			<input type="checkbox" class="sheet-togglevehicles" style="display:none" name="attr_togglevehicles" value="1">
			<div class="sheet-vehicles">
				<h4 class="section-head" data-i18n="vehicles-u">Vehicles</h4>
				<div class="sheet-section">
					<fieldset class="repeating_vehicle">
						<div class="sheet-bgblock-flex">
							<!-- Left Block -->
							<div class="sheet-bg-content-left">
								<div class="sheet-talent-grid">
									<div class="sheet-talent-header-row">
										<div class="col-benefit" data-i18n="name-u">Name</div>
										<div class="col-val">
											<input type="text" name="attr_vehicle_name" class="sheet-wide-input" placeholder="Name" data-i18n-placeholder="name-u" />
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-benefit" data-i18n="build-u">Build</div>
										<div class="col-val">
											<input class="sheet-wide-input" type="text" name="attr_vehiclebuild" placeholder="Current" data-i18n-placeholder="current-u" />
											<span>/</span>
											<input class="sheet-wide-input" type="text" name="attr_vehiclebuildmax" placeholder="Max" data-i18n-placeholder="max-u" />
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-benefit" data-i18n="MOV-u">MOV</div>
										<div class="col-val">
											<input class="sheet-wide-input" type="text" name="attr_vehiclemove" />
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-benefit" data-i18n="armor-z">Armor</div>
										<div class="col-val">
											<input class="sheet-wide-input" type="text" name="attr_vehiclearmor" />
											<button class="smallnonskillbutton-roll" type="roll" value="&{template:coc-miniondef} {{name=@{vehicle_name} Armor}} {{defence=[[@{vehiclearmor}]]}}" name="roll_vehiclearmor"></button>
										</div>
									</div>
									<div class="sheet-talent-row">
										<div class="col-benefit" data-i18n="cap-u">Capacity</div>
										<div class="col-val">
											<input class="sheet-wide-input" type="text" name="attr_vehiclecap" />
										</div>
									</div>
								</div>
							</div>
							<!-- Right Block -->
							<div class="sheet-bg-content-right">
								<label data-i18n="generalinfo-u">General Info</label>
								<textarea name="attr_vehicle_stats_info" class="sheet-spell-textarea" placeholder="General Info" data-i18n-placeholder="generalinfo-u"></textarea>
								<label data-i18n="cargo-u">Cargo</label>
								<textarea name="attr_vehicle_stats_info_2" class="sheet-spell-textarea" placeholder="Cargo" data-i18n-placeholder="cargo-u"></textarea>
								<label data-i18n="passengers-u">Passengers</label>
								<textarea name="attr_vehicle_stats_info_3" class="sheet-spell-textarea" placeholder="Passengers" data-i18n-placeholder="passengers-u"></textarea>
							</div>
						</div>
						<!-- Weapon & Skill Section -->
						<div class="sheet-vehicle-button-block">
							<div>
								<span data-i18n="vehicleattack-u"><b>Vehicular Impact Attack</b></span>
								<button class="smallbutton-roll" type="roll" name="roll_vehicleattack_check" value="&{template:coc-vehicleattack} {{name=@{vehicle_name} attacking with @{operatorskillname}}} {{success=[[@{operatorskill}]]}} {{hard=[[floor(@{operatorskill}/2)]]}} {{extreme=[[floor(@{operatorskill}/5)]]}} {{roll1=[[1d100]]}} {{builddam=[[@{vehiclebuild}d10/10]]}}"></button>
							</div>
							<div>
								<input class="sheet-wide-input" type="text" name="attr_operatorskillname" placeholder="Operator's Skill" data-i18n-placeholder="operatorskill" />
								<input class="sheet-wide-input" type="text" name="attr_operatorskill" />
								<button class="smallbutton-roll" type="roll" name="roll_operatorskill_check" value="&{template:coc-1} {{name=@{vehicle_name} rolling @{operatorskillname}}} {{success=[[@{operatorskill}]]}} {{hard=[[floor(@{operatorskill}/2)]]}} {{extreme=[[floor(@{operatorskill}/5)]]}} {{roll1=[[1d100]]}}"></button>
							</div>
							<div>
								<input class="sheet-wide-input" type="text" name="attr_vehicleweaponskillname" placeholder="Mounted Weapon Skill" data-i18n-placeholder="MountedWeaponSkill" />
								<input class="sheet-wide-input" type="text" name="attr_vehicleweaponskill" />
								<button class="smallbutton-roll" type="roll" name="roll_vehicleweaponskill_check" value="&{template:coc-1} {{name=@{vehicle_name} rolling @{vehicleweaponskillname}}} {{success=[[@{vehicleweaponskill}]]}} {{hard=[[floor(@{vehicleweaponskill}/2)]]}} {{extreme=[[floor(@{vehicleweaponskill}/5)]]}} {{roll1=[[1d100]]}}"></button>
							</div>
							<div>
								<input class="sheet-wide-input" type="text" name="attr_vehicleweaponname" placeholder="Mounted Weapon" />
								<input class="sheet-wide-input" type="text" name="attr_vehicleweapondamage" placeholder="Dam" data-i18n-placeholder="dam-z" />
								<button class="smallbutton-roll" type="roll" name="roll_vehicleweaponattack" value="&{template:coc-minionattack} {{name=@{vehicle_name} attacking with @{vehicleweaponname}}} {{success=[[@{vehicleweaponskill}]]}} {{hard=[[floor(@{vehicleweaponskill}/2)]]}} {{extreme=[[floor(@{vehicleweaponskill}/5)]]}} {{roll1=[[1d100]]}} {{damage=[[@{vehicleweapondamage}]]}}"></button>
							</div>
						</div>
					<hr />
					</fieldset>
				</div>
			</div>
		</div>
		
	</div>
</div>

<!------------------------- Translations? ------------------------->
<input type="hidden" name="attr_str_txt" value="STR ROLL"/>
<input type="hidden" name="attr_dex_txt" value="DEX ROLL"/>
<input type="hidden" name="attr_pow_txt" value="POW ROLL"/>
<input type="hidden" name="attr_con_txt" value="CON Roll"/>
<input type="hidden" name="attr_app_txt" value="APP Roll"/>
<input type="hidden" name="attr_edu_txt" value="EDU Roll"/>
<input type="hidden" name="attr_siz_txt" value="SIZ Roll"/>
<input type="hidden" name="attr_int_txt" value="INT Roll"/>
<input type="hidden" name="attr_mag_txt" value="MAG Roll"/>
<input type="hidden" name="attr_luck_txt" value="Luck ROLL"/>
<input type="hidden" name="attr_archanotech_txt" value="Archanotech Roll"/>
<input type="hidden" name="attr_archery_txt" value="Archery Roll"/>
<input type="hidden" name="attr_accounting_txt" value="Accounting Roll"/>
<input type="hidden" name="attr_alchemy_txt" value="Alchemy Roll"/>
<input type="hidden" name="attr_anthropology_txt" value="Anthropology Roll"/>
<input type="hidden" name="attr_animalhandling_txt" value="Animal Handling Roll"/>
<input type="hidden" name="attr_appraise_txt" value="Appraise Roll"/>
<input type="hidden" name="attr_arcana_txt" value="Arcana Roll"/>
<input type="hidden" name="attr_archaeology_txt" value="Archaeology Roll"/>
<input type="hidden" name="attr_architecture_txt" value="Architecture Roll"/>
<input type="hidden" name="attr_biology_txt" value="Biology Roll"/>
<input type="hidden" name="attr_charm_txt" value="Charm Roll"/>
<input type="hidden" name="attr_chemistry_txt" value="Chemistry Roll"/>
<input type="hidden" name="attr_climb_txt" value="Climb Roll"/>
<input type="hidden" name="attr_computeruse_txt" value="Computer Use Roll"/>
<input type="hidden" name="attr_computermaint_txt" value="Computer Maint. Roll"/>
<input type="hidden" name="attr_creditrating_txt" value="Credit Rating Roll"/>
<input type="hidden" name="attr_cthulhumythos_txt" value="Cthulhu Mythos Roll"/>
<input type="hidden" name="attr_cybernetics_txt" value="Cybernetics Roll"/>
<input type="hidden" name="attr_cybertech_txt" value="Cybertech Roll"/>
<input type="hidden" name="attr_dance_txt" value="Dance Roll"/>
<input type="hidden" name="attr_deception_txt" value="Deception Roll"/>
<input type="hidden" name="attr_demolitions_txt" value="Demolitions Roll"/>
<input type="hidden" name="attr_disguise_txt" value="Disguise Roll"/>
<input type="hidden" name="attr_dodge_txt" value="Dodge Roll"/>
<input type="hidden" name="attr_driveauto_txt" value="Drive Auto"/>
<input type="hidden" name="attr_drone_operation_txt" value="Drone Operation Roll"/>
<input type="hidden" name="attr_elecrepair_txt" value="Elec. Repair Roll"/>
<input type="hidden" name="attr_electronics_txt" value="Electronics Roll"/>
<input type="hidden" name="attr_engineering_txt" value="Engineering Roll"/>
<input type="hidden" name="attr_etiquette_high_society_txt" value="Etiquette(High Society) Roll"/>
<input type="hidden" name="attr_etiquette_other_txt" value="Etiquette(Other) Roll"/>
<input type="hidden" name="attr_fasttalk_txt" value="Fast Talk Roll"/>
<input type="hidden" name="attr_fighting_brawl_txt" value="Brawl Roll"/>
<input type="hidden" name="attr_firearms_hg_txt" value="Pistol Roll"/>
<input type="hidden" name="attr_firearms_rifle_txt" value="Rifle/Shotgun Roll"/>
<input type="hidden" name="attr_first_aid_txt" value="First Aid Roll"/>
<input type="hidden" name="attr_forbidden_lore_txt" value="Forbidden Lore Roll"/>
<input type="hidden" name="attr_gunnery_txt" value="Gunnery Roll"/>
<input type="hidden" name="attr_heavy_weapons_txt" value="Heavy Weapons Roll"/>
<input type="hidden" name="attr_history_txt" value="History Roll"/>
<input type="hidden" name="attr_impersonation_txt" value="Impersonation Roll"/>
<input type="hidden" name="attr_instrument_txt" value="Instrument Roll"/>
<input type="hidden" name="attr_intimidate_txt" value="Intimidate Roll"/>
<input type="hidden" name="attr_insight_txt" value="Insight Roll"/>
<input type="hidden" name="attr_investigation_txt" value="Investigation Roll"/>
<input type="hidden" name="attr_jump_txt" value="Jump Roll"/>
<input type="hidden" name="attr_law_txt" value="Law Roll"/>
<input type="hidden" name="attr_libraryuse_txt" value="Library Use Roll"/>
<input type="hidden" name="attr_listen_txt" value="Listen Roll"/>
<input type="hidden" name="attr_locksmith_txt" value="Locksmith Roll"/>
<input type="hidden" name="attr_mechrepair_txt" value="Mech. Repair Roll"/>
<input type="hidden" name="attr_mechanics_txt" value="Mech. Repair Roll"/>
<input type="hidden" name="attr_medicine_txt" value="Medicine Roll"/>
<input type="hidden" name="attr_melee_weapons_txt" value="Melee Weapons Roll"/>
<input type="hidden" name="attr_naturalworld_txt" value="Natural World Roll"/>
<input type="hidden" name="attr_navigate_txt" value="Navigate Roll"/>
<input type="hidden" name="attr_occult_txt" value="Occult Roll"/>
<input type="hidden" name="attr_ophvmachine_txt" value="Op. Hv. Machine Roll"/>
<input type="hidden" name="attr_perception_txt" value="Perception Roll"/>
<input type="hidden" name="attr_persuade_txt" value="Persuade Roll"/>
<input type="hidden" name="attr_physics_txt" value="Physics Roll"/>
<input type="hidden" name="attr_pilotaircraft_txt" value="Pilot Aircraft"/>
<input type="hidden" name="attr_pilotboat_txt" value="Pilot Boat"/>
<input type="hidden" name="attr_psychology_txt" value="Psychology Roll"/>
<input type="hidden" name="attr_psychoanalysis_txt" value="Psychoanalysis Roll"/>
<input type="hidden" name="attr_ride_txt" value="Ride Roll"/>
<input type="hidden" name="attr_security_txt" value="Security System Roll"/>
<input type="hidden" name="attr_singing_txt" value="Singing Roll"/>
<input type="hidden" name="attr_sleightofhand_txt" value="Sleight of Hand Roll"/>
<input type="hidden" name="attr_slicing_txt" value="Slicing Roll"/>
<input type="hidden" name="attr_spirit_lore_txt" value="Spirit Lore Roll"/>
<input type="hidden" name="attr_spothidden_txt" value="Spot Hidden Roll"/>
<input type="hidden" name="attr_stealth_txt" value="Stealth Roll"/>
<input type="hidden" name="attr_streetwise_txt" value="Streetwise Roll"/>
<input type="hidden" name="attr_survival_txt" value="Survival(Wilderness) Roll"/>
<input type="hidden" name="attr_swim_txt" value="Swim Roll"/>
<input type="hidden" name="attr_throw_txt" value="Throw Roll"/>
<input type="hidden" name="attr_track_txt" value="Track Roll"/>
<input type="hidden" name="attr_veil_lore_txt" value="Veil Lore Roll"/>
<input type="hidden" name="attr_unarmed_txt" value="Unarmed Attack"/>
<input type="hidden" name="attr_ac" value="Arcane Capacity"/>

<!----------------------------------------------------------------ROLL TEMPLATES -------------------------------------------------------------------------->

<!--
&{template:coc-dice-roll} ---------------------------------------------------------------------------------------------------------
-->
<rolltemplate class="sheet-rolltemplate-coc-dice-roll">
    <table>
		{{#rollTotal() modifier 0}}
        <caption>{{name}}</caption>
		{{/rollTotal() modifier 0}}
		
		{{#^rollTotal() modifier 0}}
        <caption>{{name}} | {{modifier}}</caption>
		{{/^rollTotal() modifier 0}}
        <tr>
		<td class="template_label" data-i18n="rolled">Rolled:</td><td class="template_value">{{diceroll}}</td>
	</tr>
    </table>
</rolltemplate>

<!--
Body Hit Location---------------------------------------------------------------------------------------------------------
-->
<rolltemplate class="sheet-rolltemplate-coc-body-hit-loc">
    <table>
        <caption data-i18n="body-hit-location">Body Hit Location</caption>
	        <tr>
            	<!--   -->
                {{#rollTotal() roll1 1}}
                  <td class="template_label" data-i18n="right-leg" style="font-weight:bold"><b>Right Leg</b></td>
                {{/rollTotal() roll1 1}}
                <!--   -->
                {{#rollTotal() roll1 2}}
                  <td class="template_label" data-i18n="right-leg" style="font-weight:bold"><b>Right Leg</b></td>
                {{/rollTotal() roll1 2}}
                <!--   -->
                {{#rollTotal() roll1 3}}
                  <td class="template_label" data-i18n="right-leg" style="font-weight:bold"><b>Right Leg</b></td>
                {{/rollTotal() roll1 3}}
                <!--   -->
                {{#rollTotal() roll1 4}}
                  <td class="template_label" data-i18n="left-leg" style="font-weight:bold"><b>Left Leg</b></td>
                {{/rollTotal() roll1 4}}
                <!--   -->
                {{#rollTotal() roll1 5}}
                  <td class="template_label" data-i18n="left-leg" style="font-weight:bold"><b>Left Leg</b></td>
                {{/rollTotal() roll1 5}}
                <!--   -->
                {{#rollTotal() roll1 6}}
                  <td class="template_label" data-i18n="left-leg" style="font-weight:bold"><b>Left Leg</b></td>
                {{/rollTotal() roll1 6}}
                <!--   -->
                {{#rollTotal() roll1 7}}
                  <td class="template_label" data-i18n="abdomen" style="font-weight:bold"><b>Abdomen</b></td>
                {{/rollTotal() roll1 7}}
                <!--   -->
                {{#rollTotal() roll1 8}}
                  <td class="template_label" data-i18n="abdomen" style="font-weight:bold"><b>Abdomen</b></td>
                {{/rollTotal() roll1 8}}
                <!--   -->
                {{#rollTotal() roll1 9}}
                  <td class="template_label" data-i18n="abdomen" style="font-weight:bold"><b>Abdomen</b></td>
                {{/rollTotal() roll1 9}}
                <!--   -->
                {{#rollTotal() roll1 10}}
                  <td class="template_label" data-i18n="abdomen" style="font-weight:bold"><b>Abdomen</b></td>
                {{/rollTotal() roll1 10}}
                <!--   -->
                {{#rollTotal() roll1 11}}
                  <td class="template_label" data-i18n="chest" style="font-weight:bold"><b>Chest</b></td>
                {{/rollTotal() roll1 11}}
                <!--   -->
                {{#rollTotal() roll1 12}}
                  <td class="template_label" data-i18n="chest" style="font-weight:bold"><b>Chest</b></td>
                {{/rollTotal() roll1 12}}
                <!--   -->
                {{#rollTotal() roll1 13}}
                  <td class="template_label" data-i18n="chest" style="font-weight:bold"><b>Chest</b></td>
                {{/rollTotal() roll1 13}}
                <!--   -->
                {{#rollTotal() roll1 14}}
                  <td class="template_label" data-i18n="chest" style="font-weight:bold"><b>Chest</b></td>
                {{/rollTotal() roll1 14}}
                <!--   -->
                {{#rollTotal() roll1 15}}
                  <td class="template_label" data-i18n="chest" style="font-weight:bold"><b>Chest</b></td>
                {{/rollTotal() roll1 15}}
                <!--   -->
                {{#rollTotal() roll1 16}}
                  <td class="template_label" data-i18n="right-arm" style="font-weight:bold"><b>Right Arm</b></td>
                {{/rollTotal() roll1 16}}
                <!--   -->
                {{#rollTotal() roll1 17}}
                  <td class="template_label" data-i18n="right-arm" style="font-weight:bold"><b>Right Arm</b></td>
                {{/rollTotal() roll1 17}}
                <!--   -->
                {{#rollTotal() roll1 18}}
                  <td class="template_label" data-i18n="left-arm" style="font-weight:bold"><b>Left Arm</b></td>
                {{/rollTotal() roll1 18}}
                <!--   -->
                {{#rollTotal() roll1 19}}
                  <td class="template_label" data-i18n="left-arm" style="font-weight:bold"><b>Left Arm</b></td>
                {{/rollTotal() roll1 19}}
                <!--   -->
                {{#rollTotal() roll1 20}}
                  <td class="template_label" data-i18n="head" style="font-weight:bold"><b>Head</b></td>
                {{/rollTotal() roll1 20}}
            </tr>
    </table>
</rolltemplate>


<!--
Dark Ages Bout of Madness-Real Time---------------------------------------------------------------------------------------------------------
-->
<rolltemplate class="sheet-rolltemplate-coc-bomadness-da-rt">
    <table>
        <caption data-i18n="bout-of-madness-u-time">Bout of Madness - Real Time</caption>
	<tr>
            	<!--   -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="amnesia">Amnesia:</b></td>
                {{/rollTotal() roll1 1}}
                <!--   -->
                {{#rollTotal() roll1 2}}
                  <td class="template_value"><b data-i18n="psychosomatic-disability">Psychosomatic disability:</b></td>
                {{/rollTotal() roll1 2}}
                <!--   -->
                {{#rollTotal() roll1 3}}
                  <td class="template_value"><b data-i18n="physical-hysterics-or-emotional-outburst">Physical hysterics or emotional outburst:</b></td>
                {{/rollTotal() roll1 3}}
                <!--   -->
                {{#rollTotal() roll1 4}}
                  <td class="template_value"><b data-i18n="violence">Violence:</b></td>
                {{/rollTotal() roll1 4}}
                <!--   -->
                {{#rollTotal() roll1 5}}
                  <td class="template_value"><b data-i18n="paranoia">Paranoia:</b></td>
                {{/rollTotal() roll1 5}}
                <!--   -->
                {{#rollTotal() roll1 6}}
                  <td class="template_value"><b data-i18n="delusion-da">Delusion:</b></td>
                {{/rollTotal() roll1 6}}
                <!--   -->
                {{#rollTotal() roll1 7}}
                  <td class="template_value"><b data-i18n="faint">Faint:</b></td>
                {{/rollTotal() roll1 7}}
                <!--   -->
                {{#rollTotal() roll1 8}}
                  <td class="template_value"><b data-i18n="flee-in-panic">Flee in panic:</b></td>
                {{/rollTotal() roll1 8}}
                <!--   -->
                {{#rollTotal() roll1 9}}
                  <td class="template_value"><b data-i18n="phobia">Phobia:</b></td>
                {{/rollTotal() roll1 9}}
                <!--   -->
                {{#rollTotal() roll1 10}}
                  <td class="template_value"><b data-i18n="mania">Mania:</b></td>
                {{/rollTotal() roll1 10}}
                <!--   -->
    </tr>
    <tr>
            	<!--   -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value" data-i18n="amnesia-dec">The investigator has no memory of events that have taken place since they were last in a place of safety.</td>
                {{/rollTotal() roll1 1}}
                <!--   -->
                {{#rollTotal() roll1 2}}
                  <td class="template_value" data-i18n="psychosomatic-disability-dec">The investigator suffers psychosomatic blindness, deafness, or loss of the use of a limb or limbs.</td>
                {{/rollTotal() roll1 2}}
                <!--   -->
                {{#rollTotal() roll1 3}}
                  <td class="template_value" data-i18n="physical-hysterics-or-emotional-outburst-dec">The investigator is incapacitated from laughing, crying, screaming, etc.</td>
                {{/rollTotal() roll1 3}}
                <!--   -->
                {{#rollTotal() roll1 4}}
                  <td class="template_value" data-i18n="violence-dec">A red mist descends on the investigator and they explode in a spree of uncontrolled violence and destruction directed at their surroundings, allies or foes alike.</td>
                {{/rollTotal() roll1 4}}
                <!--   -->
                {{#rollTotal() roll1 5}}
                  <td class="template_value" data-i18n="paranoia-dec">The investigator suffers severe paranoia. </td>
                {{/rollTotal() roll1 5}}
                <!--   -->
                {{#rollTotal() roll1 6}}
                  <td class="template_value" data-i18n="delusion-da-dec">The Investigator sees things that are not real, but is unable to tell truth from hallucination.</td>
                {{/rollTotal() roll1 6}}
                <!--   -->
                {{#rollTotal() roll1 7}}
                  <td class="template_value" data-i18n="faint-dec">The investigator faints.</td>
                {{/rollTotal() roll1 7}}
                <!--   -->
                {{#rollTotal() roll1 8}}
                  <td class="template_value" data-i18n="flee-in-panic-dec">The investigator is compelled to get as far away as possible by whatever means are available.</td>
                {{/rollTotal() roll1 8}}
                <!--   -->
                {{#rollTotal() roll1 9}}
                  <td class="template_value" data-i18n="phobia-dec">The investigator gains a new phobia. Roll 1D100 on Sample Phobias Table (or choose one). Even if the source of the phobia is not present, the investigator imagines it is there.</td>
                {{/rollTotal() roll1 9}}
                <!--   -->
                {{#rollTotal() roll1 10}}
                  <td class="template_value" data-i18n="mania-dec">The investigator gains a new mania. Roll 1D100 on Sample Manias Table (or choose one). The investigator seeks to indulge in their new mania.</td>
                {{/rollTotal() roll1 10}}
                <!--   -->
    </tr>
    <tr>
                <td class="template_value"> For {{rounds}} rounds.</td>
            </tr>
    </table>
</rolltemplate>

<!--
Dark Ages Bout of Madness-Summary---------------------------------------------------------------------------------------------------------
-->
<rolltemplate class="sheet-rolltemplate-coc-bomadness-da-summ">
    <table>
        <caption data-i18n="bout-of-madness-u-summary">Bout of Madness - Summary</caption>
	<tr>
            	<!--   -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="amnesia">Amnesia:</b></td>
                {{/rollTotal() roll1 1}}
                <!--   -->
                {{#rollTotal() roll1 2}}
                  <td class="template_value"><b data-i18n="battered">Battered:</b></td>
                {{/rollTotal() roll1 2}}
                <!--   -->
                {{#rollTotal() roll1 3}}
                  <td class="template_value"><b data-i18n="violence">Violence:</b></td>
                {{/rollTotal() roll1 3}}
                <!--   -->
                {{#rollTotal() roll1 4}}
                  <td class="template_value"><b data-i18n="ideology-beliefs">Ideology/Beliefs:</b></td>
                {{/rollTotal() roll1 4}}
                <!--   -->
                {{#rollTotal() roll1 5}}
                  <td class="template_value"><b data-i18n="significant-people">Significant People:</b></td>
                {{/rollTotal() roll1 5}}
                <!--   -->
                {{#rollTotal() roll1 6}}
                  <td class="template_value"><b data-i18n="delusion-da">Delusion:</b></td>
                {{/rollTotal() roll1 6}}
                <!--   -->
                {{#rollTotal() roll1 7}}
                  <td class="template_value"><b data-i18n="flee-in-panic">Flee in panic:</b></td>
                {{/rollTotal() roll1 7}}
                <!--   -->
                {{#rollTotal() roll1 8}}
                  <td class="template_value"><b data-i18n="shackled-da">Shackled:</b></td>
                {{/rollTotal() roll1 8}}
                <!--   -->
                {{#rollTotal() roll1 9}}
                  <td class="template_value"><b data-i18n="phobia">Phobia:</b></td>
                {{/rollTotal() roll1 9}}
                <!--   -->
                {{#rollTotal() roll1 10}}
                  <td class="template_value"><b data-i18n="mania">Mania:</b></td>
                {{/rollTotal() roll1 10}}
                <!--   -->
        </tr>
        <tr>
            	<!--   -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value" data-i18n="amnesia-dec2">The investigator comes to their senses in some unfamiliar place with no memory of who they are. Their memories will slowly return to them over time.</td>
                {{/rollTotal() roll1 1}}
                <!--   -->
                {{#rollTotal() roll1 2}}
                  <td class="template_value" data-i18n="battered-dec">The investigator comes to their senses (1D10) hours later to find themselves battered and bruised. Hit points are reduced to half of what they were before going insane, though this does not cause a Major wound. They have not been robbed. How the damage was sustained is up to the Keeper.</td>
                {{/rollTotal() roll1 2}}
                <!--   -->
                {{#rollTotal() roll1 3}}
                  <td class="template_value" data-i18n="violence-dec2">The investigator explodes in a spree of violence and destruction. When the investigator comes to their senses, their actions may or may not be apparent or remembered. Who or what the investigator has inflicted violence upon and whether they have killed or simply inflicted harm is up to the Keeper.</td>
                {{/rollTotal() roll1 3}}
                <!--   -->
                {{#rollTotal() roll1 4}}
                  <td class="template_value" data-i18n="ideology-beliefs-dec">Review the investigators backstory entry for Ideology and Beliefs. The investigator manifests one of these in an extreme, crazed and demonstrative manner.</td>
                {{/rollTotal() roll1 4}}
                <!--   -->
                {{#rollTotal() roll1 5}}
                  <td class="template_value" data-i18n="significant-people-dec">Consult the investigators backstory entry for Significant People and why the relationship is so important. In the time that passes (1D10 hours or more) the investigator has done their best to get close to that person and act upon their relationship in some way.</td>
                {{/rollTotal() roll1 5}}
                <!--   -->
                {{#rollTotal() roll1 6}}
                  <td class="template_value" data-i18n="delusion-da-dec2">The investigator has been profoundly affected by a hallucination, causing them to undertake some form action. Perhaps they have dug a deep pit and are now hiding in it, or barricaded themselves within a hut.</td>
                {{/rollTotal() roll1 6}}
                <!--   -->
                {{#rollTotal() roll1 7}}
                  <td class="template_value" data-i18n="flee-in-panic-da-dec2">When the investigator comes to their senses they are far away, perhaps lost in the wilderness or hammering on a door demanding to be let inside.</td>
                {{/rollTotal() roll1 7}}
                <!--   -->
                {{#rollTotal() roll1 8}}
                  <td class="template_value" data-i18n="shackled-da-dec">The investigator, raving and talking in strange tongues, has been captured and put in shackles or imprisoned in some manner.</td>
                {{/rollTotal() roll1 8}}
                <!--   -->
                {{#rollTotal() roll1 9}}
                  <td class="template_value" data-i18n="phobia-dec2">The investigator gains a new phobia. Roll 1D100 on Phobias Table or choose one. The investigator comes to their senses (1D10) hours later, having taken every precaution to avoid their new phobia.</td>
                {{/rollTotal() roll1 9}}
                <!--   -->
                {{#rollTotal() roll1 10}}
                  <td class="template_value" data-i18n="mania-dec2">The investigator gains a new mania. Roll 1D100 on Manias Table or choose one. The investigator comes to their senses (1D10) hours later. During this bout of madness, the investigator will have been fully indulging in their new mania. Whether this is apparent to other people is up to the Keeper and player.</td>
                {{/rollTotal() roll1 10}}
                <!--   -->
        </tr>
    </table>
</rolltemplate>


<!--
Pulp Bout of Madness-Real Time---------------------------------------------------------------------------------------------------------
-->
<rolltemplate class="sheet-rolltemplate-coc-pulp-bomadness-rt">
    <table>
        <caption data-i18n="pulp-bout-of-madness-u-time">Pulp Bout of Madness - Real Time</caption>
	<tr>
            	<!--   -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="amnesia">Amnesia:</b></td>
                {{/rollTotal() roll1 1}}
                <!--   -->
                {{#rollTotal() roll1 2}}
                  <td class="template_value"><b data-i18n="crazy-pan">Crazy Plan:</b></td>
                {{/rollTotal() roll1 2}}
                <!--   -->
                {{#rollTotal() roll1 3}}
                  <td class="template_value"><b data-i18n="rage">Rage:</b></td>
                {{/rollTotal() roll1 3}}
                <!--   -->
                {{#rollTotal() roll1 4}}
                  <td class="template_value"><b data-i18n="gloat">Gloat:</b></td>
                {{/rollTotal() roll1 4}}
                <!--   -->
                {{#rollTotal() roll1 5}}
                  <td class="template_value"><b data-i18n="relax">Relax:</b></td>
                {{/rollTotal() roll1 5}}
                <!--   -->
                {{#rollTotal() roll1 6}}
                  <td class="template_value"><b data-i18n="flee-in-panic">Flee in Panic:</b></td>
                {{/rollTotal() roll1 6}}
                <!--   -->
                {{#rollTotal() roll1 7}}
                  <td class="template_value"><b data-i18n="show-off">Show Off:</b></td>
                {{/rollTotal() roll1 7}}
                <!--   -->
                {{#rollTotal() roll1 8}}
                  <td class="template_value"><b data-i18n="alter-ego">Alter Ego:</b></td>
                {{/rollTotal() roll1 8}}
                <!--   -->
                {{#rollTotal() roll1 9}}
                  <td class="template_value"><b data-i18n="phobia">Phobia:</b></td>
                {{/rollTotal() roll1 9}}
                <!--   -->
                {{#rollTotal() roll1 10}}
                  <td class="template_value"><b data-i18n="mania">Mania:</b></td>
                {{/rollTotal() roll1 10}}
                <!--   -->
    </tr>
    <tr>
            	<!--   -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value" data-i18n="pulp-amnesia-dec">The hero ceases to think of him or herself as a hero, losing the ability to use his or her pulp talents.</td>
                {{/rollTotal() roll1 1}}
                <!--   -->
                {{#rollTotal() roll1 2}}
                  <td class="template_value" data-i18n="pulp-crazy-plan-dec">The hero pursues an irrational or ill-conceived plan. The plan must either benefit the enemys situation or increase the danger for the hero or his or her allies.</td>
                {{/rollTotal() roll1 2}}
                <!--   -->
                {{#rollTotal() roll1 3}}
                  <td class="template_value" data-i18n="pulp-rage-dec">A red mist descends on the hero and he or she explodes in a spree of uncontrolled violence and destruction directed at their surroundings, allies, or foes alike.</td>
                {{/rollTotal() roll1 3}}
                <!--   -->
                {{#rollTotal() roll1 4}}
                  <td class="template_value" data-i18n="pulp-gloat-dec">The hero is compelled to boast, gloat, or exclaim their plans aloud.</td>
                {{/rollTotal() roll1 4}}
                <!--   -->
                {{#rollTotal() roll1 5}}
                  <td class="template_value" data-i18n="pulp-relax-dec">The hero is convinced that the threat is negligible, and he or she sits back and relaxes.</td>
                {{/rollTotal() roll1 5}}
                <!--   -->
                {{#rollTotal() roll1 6}}
                  <td class="template_value" data-i18n="pulp-flee-in-panic-dec">The hero is compelled to get as far away as possible by whatever means are available, even if it necessitates them taking the only vehicle and leaving everyone else behind.</td>
                {{/rollTotal() roll1 6}}
                <!--   -->
                {{#rollTotal() roll1 7}}
                  <td class="template_value" data-i18n="pulp-show-off-dec">The hero becomes an attention-seeking maniac, possibly prone to foolhardy acts.</td>
                {{/rollTotal() roll1 7}}
                <!--   -->
                {{#rollTotal() roll1 8}}
                  <td class="template_value" data-i18n="pulp-alter-ego-dec">The heros personality undergoes a complete transformation and is replaced by one completely different. The alter ego is a mirror opposite of the hero.</td>
                {{/rollTotal() roll1 8}}
                <!--   -->
                {{#rollTotal() roll1 9}}
                  <td class="template_value" data-i18n="pulp-phobia-dec">The hero gains a new phobia. Roll 1D100 on Sample Phobias Table (or choose one). Even if the source of the phobia is not present, the hero imagines it is there.</td>
                {{/rollTotal() roll1 9}}
                <!--   -->
                {{#rollTotal() roll1 10}}
                  <td class="template_value" data-i18n="pulp-mania-dec">The hero gains a new mania. Roll 1D100 on Sample Manias Table (or choose one). The hero seeks to indulge in their new mania.</td>
                {{/rollTotal() roll1 10}}
                <!--   -->
    </tr>
    <tr>
                <td class="template_value"> For {{rounds}} rounds.</td>
            </tr>
    </table>
</rolltemplate>

<!--
Pulp Bout of Madness-Summary---------------------------------------------------------------------------------------------------------
-->
<rolltemplate class="sheet-rolltemplate-coc-pulp-bomadness-summ">
    <table>
        <caption data-i18n="pulp-bout-of-madness-u-summary">Pulp Bout of Madness - Summary</caption>
	<tr>
            	<!--   -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="amnesia">Amnesia:</b></td>
                {{/rollTotal() roll1 1}}
                <!--   -->
                {{#rollTotal() roll1 2}}
                  <td class="template_value"><b data-i18n="robbed">Robbed:</b></td>
                {{/rollTotal() roll1 2}}
                <!--   -->
                {{#rollTotal() roll1 3}}
                  <td class="template_value"><b data-i18n="battered">Battered:</b></td>
                {{/rollTotal() roll1 3}}
                <!--   -->
                {{#rollTotal() roll1 4}}
                  <td class="template_value"><b data-i18n="violence">Violence:</b></td>
                {{/rollTotal() roll1 4}}
                <!--   -->
                {{#rollTotal() roll1 5}}
                  <td class="template_value"><b data-i18n="ideology-beliefs">Ideology/Beliefs:</b></td>
                {{/rollTotal() roll1 5}}
                <!--   -->
                {{#rollTotal() roll1 6}}
                  <td class="template_value"><b data-i18n="significant-people">Significant People:</b></td>
                {{/rollTotal() roll1 6}}
                <!--   -->
                {{#rollTotal() roll1 7}}
                  <td class="template_value"><b data-i18n="institutionalized-or-apprehended">Institutionalized or Apprehended:</b></td>
                {{/rollTotal() roll1 7}}
                <!--   -->
                {{#rollTotal() roll1 8}}
                  <td class="template_value"><b data-i18n="flee-in-panic">Flee in panic:</b></td>
                {{/rollTotal() roll1 8}}
                <!--   -->
                {{#rollTotal() roll1 9}}
                  <td class="template_value"><b data-i18n="phobia">Phobia:</b></td>
                {{/rollTotal() roll1 9}}
                <!--   -->
                {{#rollTotal() roll1 10}}
                  <td class="template_value"><b data-i18n="mania">Mania:</b></td>
                {{/rollTotal() roll1 10}}
                <!--   -->
        </tr>
        <tr>
            	<!--   -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value" data-i18n="pulp-amnesia-dec2">The hero comes to their senses in some unfamiliar place, with no memory of who they are and lacking any of their pulp talents. Their memories slowly return to them over time. Their pulp talents only return in a time of crisis. In this case, a crisis is defined as someones life being endangered. When someones life is threatened, the hero should make a Luck roll; if successful, their talents return. If unsuccessful they may try again in 1D10 rounds.</td>
                {{/rollTotal() roll1 1}}
                <!--   -->
                {{#rollTotal() roll1 2}}
                  <td class="template_value" data-i18n="pulp-robbed-dec">The hero comes to their senses (1D10) hours later, having been robbed. They are unharmed. If they were carrying a Treasured Possession (per their backstory), make a Luck roll to see if it was stolen. Everything else of value is automatically missing.</td>
                {{/rollTotal() roll1 2}}
                <!--   -->
                {{#rollTotal() roll1 3}}
                  <td class="template_value" data-i18n="pulp-battered-dec">The hero comes to their senses (1D10) hours later to find themselves battered and bruised. Hit points are reduced to half of what they were before going insane. They have not been robbed. How the damage was sustained is up to the Keeper.</td>
                {{/rollTotal() roll1 3}}
                <!--   -->
                {{#rollTotal() roll1 4}}
                  <td class="template_value" data-i18n="pulp-violence-dec2">The hero explodes in a spree of violence and destruction. When the hero comes to their senses, their actions may or may not be apparent or remembered. Who or what the hero has inflicted violence upon, and whether they have killed or only inflicted harm, is up to the Keeper.</td>
                {{/rollTotal() roll1 4}}
                <!--   -->
                {{#rollTotal() roll1 5}}
                  <td class="template_value" data-i18n="pulp-ideology-beliefs-dec">Review the heros backstory entry for Ideology and Beliefs. The hero manifests one of these in an extreme, crazed, and demonstrative manner. A common outcome is some variant of megalomania, whereby the heros talents and beliefs begin to corrupt their humanity and sense of right and wrong.</td>
                {{/rollTotal() roll1 5}}
                <!--   -->
                {{#rollTotal() roll1 6}}
                  <td class="template_value" data-i18n="pulp-significant-people-dec">Consult the heros backstory entry for Significant People and why the relationship is so important. In the time that passes (1D10 hours or more) the hero has done their best to get close to that person and act upon their relationship in some way.</td>
                {{/rollTotal() roll1 6}}
                <!--   -->
                {{#rollTotal() roll1 7}}
                  <td class="template_value" data-i18n="pulp-institutionalized-or-apprehended-dec">The hero comes to their senses in a high-security psychiatric ward, police cell or under captivity. They may slowly recall the events that led them there.</td>
                {{/rollTotal() roll1 7}}
                <!--   -->
                {{#rollTotal() roll1 8}}
                  <td class="template_value" data-i18n="pulp-flee-in-panic-dec2">When the hero comes to their senses, they are far away, perhaps somewhere noteworthy or lost. How they reached the location is unknown to them.</td>
                {{/rollTotal() roll1 8}}
                <!--   -->
                {{#rollTotal() roll1 9}}
                  <td class="template_value" data-i18n="pulp-phobia-dec2">The hero gains a new phobia. Roll 1D100 on Phobias Table or choose one. The hero comes to their senses (1D10) hours later, having taken every precaution to avoid their new phobia.</td>
                {{/rollTotal() roll1 9}}
                <!--   -->
                {{#rollTotal() roll1 10}}
                  <td class="template_value" data-i18n="pulp-mania-dec2">The hero gains a new mania. Roll 1D100 on Manias Table or choose one. The hero comes to their senses (1D10) hours later. During this bout of madness, they will have been fully indulging in their new mania. Whether this is apparent to other people is up to the Keeper and player.</td>
                {{/rollTotal() roll1 10}}
                <!--   -->
        </tr>
    </table>
</rolltemplate>

<!--
Bout of Madness-Real Time---------------------------------------------------------------------------------------------------------
-->
<rolltemplate class="sheet-rolltemplate-coc-bomadness-rt">
    <table>
        <caption data-i18n="bout-of-madness-u-time">Bout of Madness - Real Time</caption>
	<tr>
            	<!--   -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="amnesia">Amnesia:</b></td>
                {{/rollTotal() roll1 1}}
                <!--   -->
                {{#rollTotal() roll1 2}}
                  <td class="template_value"><b data-i18n="psychosomatic-disability">Psychosomatic disability:</b></td>
                {{/rollTotal() roll1 2}}
                <!--   -->
                {{#rollTotal() roll1 3}}
                  <td class="template_value"><b data-i18n="violence">Violence:</b></td>
                {{/rollTotal() roll1 3}}
                <!--   -->
                {{#rollTotal() roll1 4}}
                  <td class="template_value"><b data-i18n="paranoia">Paranoia:</b></td>
                {{/rollTotal() roll1 4}}
                <!--   -->
                {{#rollTotal() roll1 5}}
                  <td class="template_value"><b data-i18n="significant-person">Significant Person:</b></td>
                {{/rollTotal() roll1 5}}
                <!--   -->
                {{#rollTotal() roll1 6}}
                  <td class="template_value"><b data-i18n="faint">Faint:</b></td>
                {{/rollTotal() roll1 6}}
                <!--   -->
                {{#rollTotal() roll1 7}}
                  <td class="template_value"><b data-i18n="flee-in-panic">Flee in panic:</b></td>
                {{/rollTotal() roll1 7}}
                <!--   -->
                {{#rollTotal() roll1 8}}
                  <td class="template_value"><b data-i18n="physical-hysterics-or-emotional-outburst">Physical hysterics or emotional outburst:</b></td>
                {{/rollTotal() roll1 8}}
                <!--   -->
                {{#rollTotal() roll1 9}}
                  <td class="template_value"><b data-i18n="phobia">Phobia:</b></td>
                {{/rollTotal() roll1 9}}
                <!--   -->
                {{#rollTotal() roll1 10}}
                  <td class="template_value"><b data-i18n="mania">Mania:</b></td>
                {{/rollTotal() roll1 10}}
                <!--   -->
    </tr>
    <tr>
            	<!--   -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value" data-i18n="amnesia-dec">The investigator has no memory of events that have taken place since they were last in a place of safety.</td>
                {{/rollTotal() roll1 1}}
                <!--   -->
                {{#rollTotal() roll1 2}}
                  <td class="template_value" data-i18n="psychosomatic-disability-dec">The investigator suffers psychosomatic blindness, deafness, or loss of the use of a limb or limbs.</td>
                {{/rollTotal() roll1 2}}
                <!--   -->
                {{#rollTotal() roll1 3}}
                  <td class="template_value" data-i18n="violence-dec">A red mist descends on the investigator and they explode in a spree of uncontrolled violence and destruction directed at their surroundings, allies or foes alike.</td>
                {{/rollTotal() roll1 3}}
                <!--   -->
                {{#rollTotal() roll1 4}}
                  <td class="template_value" data-i18n="paranoia-dec">The investigator suffers severe paranoia.</td>
                {{/rollTotal() roll1 4}}
                <!--   -->
                {{#rollTotal() roll1 5}}
                  <td class="template_value" data-i18n="significant-person-dec">The investigator mistakes another person in the scene for a Significant Person of theirs.</td>
                {{/rollTotal() roll1 5}}
                <!--   -->
                {{#rollTotal() roll1 6}}
                  <td class="template_value" data-i18n="faint-dec">The investigator faints.</td>
                {{/rollTotal() roll1 6}}
                <!--   -->
                {{#rollTotal() roll1 7}}
                  <td class="template_value" data-i18n="flee-in-panic-dec">The investigator is compelled to get as far away as possible by whatever means are available.</td>
                {{/rollTotal() roll1 7}}
                <!--   -->
                {{#rollTotal() roll1 8}}
                  <td class="template_value" data-i18n="physical-hysterics-or-emotional-outburst-dec">The investigator is incapacitated from laughing, crying, screaming, etc.</td>
                {{/rollTotal() roll1 8}}
                <!--   -->
                {{#rollTotal() roll1 9}}
                  <td class="template_value" data-i18n="phobia-dec">The investigator gains a new phobia. Roll 1D100 on Sample Phobias Table (or choose one). Even if the source of the phobia is not present, the investigator imagines it is there.</td>
                {{/rollTotal() roll1 9}}
                <!--   -->
                {{#rollTotal() roll1 10}}
                  <td class="template_value" data-i18n="mania-dec">The investigator gains a new mania. Roll 1D100 on Sample Manias Table (or choose one). The investigator seeks to indulge in their new mania.</td>
                {{/rollTotal() roll1 10}}
                <!--   -->
    </tr>
    <tr>
                <td class="template_value"> For {{rounds}} rounds.</td>
            </tr>
    </table>
</rolltemplate>

<!--
Bout of Madness-Summary---------------------------------------------------------------------------------------------------------
-->
<rolltemplate class="sheet-rolltemplate-coc-bomadness-summ">
    <table>
        <caption data-i18n="bout-of-madness-u-summary">Bout of Madness - Summary</caption>
	<tr>
            	<!--   -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="amnesia">Amnesia:</b></td>
                {{/rollTotal() roll1 1}}
                <!--   -->
                {{#rollTotal() roll1 2}}
                  <td class="template_value"><b data-i18n="robbed">Robbed:</b></td>
                {{/rollTotal() roll1 2}}
                <!--   -->
                {{#rollTotal() roll1 3}}
                  <td class="template_value"><b data-i18n="battered">Battered:</b></td>
                {{/rollTotal() roll1 3}}
                <!--   -->
                {{#rollTotal() roll1 4}}
                  <td class="template_value"><b data-i18n="violence">Violence:</b></td>
                {{/rollTotal() roll1 4}}
                <!--   -->
                {{#rollTotal() roll1 5}}
                  <td class="template_value"><b data-i18n="ideology-beliefs">Ideology/Beliefs:</b></td>
                {{/rollTotal() roll1 5}}
                <!--   -->
                {{#rollTotal() roll1 6}}
                  <td class="template_value"><b data-i18n="significant-people">Significant People:</b></td>
                {{/rollTotal() roll1 6}}
                <!--   -->
                {{#rollTotal() roll1 7}}
                  <td class="template_value"><b data-i18n="institutionalized">Institutionalized:</b></td>
                {{/rollTotal() roll1 7}}
                <!--   -->
                {{#rollTotal() roll1 8}}
                  <td class="template_value"><b data-i18n="flee-in-panic">Flee in panic:</b></td>
                {{/rollTotal() roll1 8}}
                <!--   -->
                {{#rollTotal() roll1 9}}
                  <td class="template_value"><b data-i18n="phobia">Phobia:</b></td>
                {{/rollTotal() roll1 9}}
                <!--   -->
                {{#rollTotal() roll1 10}}
                  <td class="template_value"><b data-i18n="mania">Mania:</b></td>
                {{/rollTotal() roll1 10}}
                <!--   -->
        </tr>
        <tr>
            	<!--   -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value" data-i18n="amnesia-dec2">The investigator comes to their senses in some unfamiliar place with no memory of who they are. Their memories will slowly return to them over time.</td>
                {{/rollTotal() roll1 1}}
                <!--   -->
                {{#rollTotal() roll1 2}}
                  <td class="template_value" data-i18n="robbed-dec">The investigator comes to their senses (1D10) hours later, having been robbed. They are unharmed. If they were carrying a Treasured Possession, make a Luck Roll to see if it was stolen. Everything else of value is automatically missing.</td>
                {{/rollTotal() roll1 2}}
                <!--   -->
                {{#rollTotal() roll1 3}}
                  <td class="template_value" data-i18n="battered-dec">The investigator comes to their senses (1D10) hours later to find themselves battered and bruised. Hit points are reduced to half of what they were before going insane, though this does not cause a Major wound. They have not been robbed. How the damage was sustained is up to the Keeper.</td>
                {{/rollTotal() roll1 3}}
                <!--   -->
                {{#rollTotal() roll1 4}}
                  <td class="template_value" data-i18n="violence-dec2">The investigator explodes in a spree of violence and destruction. When the investigator comes to their senses, their actions may or may not be apparent or remembered. Who or what the investigator has inflicted violence upon and whether they have killed or simply inflicted harm is up to the Keeper.</td>
                {{/rollTotal() roll1 4}}
                <!--   -->
                {{#rollTotal() roll1 5}}
                  <td class="template_value" data-i18n="ideology-beliefs-dec">Review the investigators backstory entry for Ideology and Beliefs. The investigator manifests one of these in an extreme, crazed and demonstrative manner.</td>
                {{/rollTotal() roll1 5}}
                <!--   -->
                {{#rollTotal() roll1 6}}
                  <td class="template_value" data-i18n="significant-people-dec">Consult the investigators backstory entry for Significant People and why the relationship is so important. In the time that passes (1D10 hours or more) the investigator has done their best to get close to that person and act upon their relationship in some way.</td>
                {{/rollTotal() roll1 6}}
                <!--   -->
                {{#rollTotal() roll1 7}}
                  <td class="template_value" data-i18n="institutionalized-dec">The investigator comes to their senses in a psychiatric ward or police cell. They may slowly recall the events that led them there.</td>
                {{/rollTotal() roll1 7}}
                <!--   -->
                {{#rollTotal() roll1 8}}
                  <td class="template_value" data-i18n="flee-in-panic-dec2">When the investigator comes to their senses they are far away.</td>
                {{/rollTotal() roll1 8}}
                <!--   -->
                {{#rollTotal() roll1 9}}
                  <td class="template_value" data-i18n="phobia-dec2">The investigator gains a new phobia. Roll 1D100 on Phobias Table or choose one. The investigator comes to their senses (1D10) hours later, having taken every precaution to avoid their new phobia.</td>
                {{/rollTotal() roll1 9}}
                <!--   -->
                {{#rollTotal() roll1 10}}
                  <td class="template_value" data-i18n="mania-dec2">The investigator gains a new mania. Roll 1D100 on Manias Table or choose one. The investigator comes to their senses (1D10) hours later. During this bout of madness, the investigator will have been fully indulging in their new mania. Whether this is apparent to other people is up to the Keeper and player.</td>
                {{/rollTotal() roll1 10}}
                <!--   -->
        </tr>
    </table>
</rolltemplate>

<!--
&{template:coc-defence} {{name=Test}} {{success=[[50]]}} {{hard=[[floor(50/2)]]}} {{extreme=[[floor(50/5)]]}} {{roll1=[[1d100]]}} {{roll2=[[1d100]]}} {{roll3=[[1d100]]}}
-->
<rolltemplate class="sheet-rolltemplate-coc-defence">
    <table>
		{{#rollTotal() modifier 0}}
        <caption>{{name}}</caption>
		{{/rollTotal() modifier 0}}
		
		{{#^rollTotal() modifier 0}}
        <caption>{{name}} | {{modifier}}</caption>
		{{/^rollTotal() modifier 0}}
        <tr><td class="template_label">Value:</td><td class="template_value">{{success}}/{{hard}}/{{extreme}}</td></tr>
        <tr><td class="template_label">Rolled:</td><td class="template_value">{{roll1}}, {{roll2}}, {{roll3}}</td></tr>
        <tr style="background:#DFF0D8;">
            <td class="template_label">+2:</td>
            <!-- Is roll2 less than roll1 -->
            {{#rollLess() roll2 roll1}}
              <!-- Is roll3 less than roll2-->
              {{#rollLess() roll3 roll2}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll3 1}}
                  <td class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll3 1}}
                <!-- Is Success -->
                {{#rollBetween() roll3 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll3 hard}}
                    <td class="template_value">Success</td>
                  {{/rollGreater() roll3 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll3 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll3 extreme}}
                      <td class="template_value">Hard</td>
                    {{/rollGreater() roll3 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll3 2 extreme}}
                      <td class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll3 2 extreme}}
                  {{/rollBetween() roll3 2 hard}}
                {{/rollBetween() roll3 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll3 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll3 100}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll3 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 100}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll3 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll3 95}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll3 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 96}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll3 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll3 success}}
              {{/rollLess() roll3 roll2}}
              <!-- Is roll2 less than roll3 -->
              {{#rollLess() roll2 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll2 1}}
                  <td class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll2 1}}
                <!-- Is Success -->
                {{#rollBetween() roll2 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll2 hard}}
                    <td class="template_value">Success</td>
                  {{/rollGreater() roll2 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll2 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll2 extreme}}
                      <td class="template_value">Hard</td>
                    {{/rollGreater() roll2 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll2 2 extreme}}
                      <td class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll2 2 extreme}}
                  {{/rollBetween() roll2 2 hard}}
                {{/rollBetween() roll2 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll2 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll2 100}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll2 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 100}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll2 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll2 95}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll2 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 96}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll2 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll2 success}}
              {{/rollLess() roll2 roll3}}
              <!-- Are roll2 and roll3 equal-->
              {{#rollTotal() roll2 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll2 1}}
                  <td class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll2 1}}
                <!-- Is Success -->
                {{#rollBetween() roll2 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll2 hard}}
                    <td class="template_value">Success</td>
                  {{/rollGreater() roll2 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll2 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll2 extreme}}
                      <td class="template_value">Hard</td>
                    {{/rollGreater() roll2 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll2 2 extreme}}
                      <td class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll2 2 extreme}}
                  {{/rollBetween() roll2 2 hard}}
                {{/rollBetween() roll2 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll2 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll2 100}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll2 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 100}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll2 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll2 95}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll2 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 96}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll2 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll2 success}}
              {{/rollTotal() roll2 roll3}}
            {{/rollLess() roll2 roll1}}
            <!-- Is roll1 less than roll2 -->
            {{#rollLess() roll1 roll2}}
              <!-- Is roll3 less than roll1-->
              {{#rollLess() roll3 roll1}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll3 1}}
                  <td class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll3 1}}
                <!-- Is Success -->
                {{#rollBetween() roll3 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll3 hard}}
                    <td class="template_value">Success</td>
                  {{/rollGreater() roll3 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll3 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll3 extreme}}
                      <td class="template_value">Hard</td>
                    {{/rollGreater() roll3 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll3 2 extreme}}
                      <td class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll3 2 extreme}}
                  {{/rollBetween() roll3 2 hard}}
                {{/rollBetween() roll3 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll3 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll3 100}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll3 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 100}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll3 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll3 95}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll3 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 96}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll3 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll3 success}}
              {{/rollLess() roll3 roll1}}
              <!-- Is roll1 less than roll3 -->
              {{#rollLess() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollLess() roll1 roll3}}
              <!-- Are roll1 and roll3 equal-->
              {{#rollTotal() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollTotal() roll1 roll3}}
            {{/rollLess() roll1 roll2}}
            <!-- Are roll1 and roll2 equal-->
            {{#rollTotal() roll1 roll2}}
              <!-- Is roll3 less than roll1-->
              {{#rollLess() roll3 roll1}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll3 1}}
                  <td class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll3 1}}
                <!-- Is Success -->
                {{#rollBetween() roll3 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll3 hard}}
                    <td class="template_value">Success</td>
                  {{/rollGreater() roll3 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll3 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll3 extreme}}
                      <td class="template_value">Hard</td>
                    {{/rollGreater() roll3 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll3 2 extreme}}
                      <td class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll3 2 extreme}}
                  {{/rollBetween() roll3 2 hard}}
                {{/rollBetween() roll3 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll3 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll3 100}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll3 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 100}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll3 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll3 95}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll3 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 96}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll3 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll3 success}}
              {{/rollLess() roll3 roll1}}
              <!-- Is roll1 less than roll3 -->
              {{#rollLess() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollLess() roll1 roll3}}
              <!-- Are roll1 and roll3 equal-->
              {{#rollTotal() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollTotal() roll1 roll3}}
            {{/rollTotal() roll1 roll2}}
        </tr>
        <tr style="background:#D9EDF7;">
            <td class="template_label">+1:</td>
            <!-- Is roll2 lower than roll1 -->
            {{#rollLess() roll2 roll1}}
              <!-- 01 is always Critical -->
              {{#rollTotal() roll2 1}}
                <td class="template_value"><b>Critical</b></td>
              {{/rollTotal() roll2 1}}
              <!-- Is Success -->
              {{#rollBetween() roll2 2 success}}
                <!-- Is Standard -->
                {{#rollGreater() roll2 hard}}
                  <td class="template_value">Success</td>
                {{/rollGreater() roll2 hard}}
                <!-- Is Hard or Extreme -->
                {{#rollBetween() roll2 2 hard}}
                  <!-- Is Hard -->
                  {{#rollGreater() roll2 extreme}}
                    <td class="template_value">Hard</td>
                  {{/rollGreater() roll2 extreme}}
                  <!-- Is Extreme -->
                  {{#rollBetween() roll2 2 extreme}}
                    <td class="template_value"><b>Extreme</b></td>
                  {{/rollBetween() roll2 2 extreme}}
                {{/rollBetween() roll2 2 hard}}
              {{/rollBetween() roll2 2 success}}
              <!-- Is Not Success -->
              {{#rollGreater() roll2 success}}
                <!-- Is skill >= 50 -->
                {{#rollGreater() success 49}}
                  <!-- Is Fumble -->
                  {{#rollTotal() roll2 100}}
                    <td class="template_value"><b>Fumble</b></td>
                  {{/rollTotal() roll2 100}}
                  <!-- Is Fail -->
                  {{#rollLess() roll2 100}}
                    <td class="template_value">Fail</td>
                  {{/rollLess() roll2 100}}
                {{/rollGreater() success 49}}
                <!-- Is skill < 50 -->
                {{#rollLess() success 50}}
                  <!-- Is Fumble -->
                  {{#rollGreater() roll2 95}}
                    <td class="template_value"><b>Fumble</b></td>
                  {{/rollGreater() roll2 95}}
                  <!-- Is Fail -->
                  {{#rollLess() roll2 96}}
                    <td class="template_value">Fail</td>
                  {{/rollLess() roll2 96}}
                {{/rollLess() success 50}}
              {{/rollGreater() roll2 success}}
            {{/rollLess() roll2 roll1}}
            <!-- Is roll1 lower than roll2 -->
            {{#rollLess() roll1 roll2}}
              <!-- 01 is always Critical -->
              {{#rollTotal() roll1 1}}
                <td class="template_value"><b>Critical</b></td>
              {{/rollTotal() roll1 1}}
              <!-- Is Success -->
              {{#rollBetween() roll1 2 success}}
                <!-- Is Standard -->
                {{#rollGreater() roll1 hard}}
                  <td class="template_value">Success</td>
                {{/rollGreater() roll1 hard}}
                <!-- Is Hard or Extreme -->
                {{#rollBetween() roll1 2 hard}}
                  <!-- Is Hard -->
                  {{#rollGreater() roll1 extreme}}
                    <td class="template_value">Hard</td>
                  {{/rollGreater() roll1 extreme}}
                  <!-- Is Extreme -->
                  {{#rollBetween() roll1 2 extreme}}
                    <td class="template_value"><b>Extreme</b></td>
                  {{/rollBetween() roll1 2 extreme}}
                {{/rollBetween() roll1 2 hard}}
              {{/rollBetween() roll1 2 success}}
              <!-- Is Not Success -->
              {{#rollGreater() roll1 success}}
                <!-- Is skill >= 50 -->
                {{#rollGreater() success 49}}
                  <!-- Is Fumble -->
                  {{#rollTotal() roll1 100}}
                    <td class="template_value"><b>Fumble</b></td>
                  {{/rollTotal() roll1 100}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 100}}
                    <td class="template_value">Fail</td>
                  {{/rollLess() roll1 100}}
                {{/rollGreater() success 49}}
                <!-- Is skill < 50 -->
                {{#rollLess() success 50}}
                  <!-- Is Fumble -->
                  {{#rollGreater() roll1 95}}
                    <td class="template_value"><b>Fumble</b></td>
                  {{/rollGreater() roll1 95}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 96}}
                    <td class="template_value">Fail</td>
                  {{/rollLess() roll1 96}}
                {{/rollLess() success 50}}
              {{/rollGreater() roll1 success}}
            {{/rollLess() roll1 roll2}}
            <!-- Are roll1 and roll2 equal-->
            {{#rollTotal() roll1 roll2}}
              <!-- 01 is always Critical -->
              {{#rollTotal() roll1 1}}
                <td class="template_value"><b>Critical</b></td>
              {{/rollTotal() roll1 1}}
              <!-- Is Success -->
              {{#rollBetween() roll1 2 success}}
                <!-- Is Standard -->
                {{#rollGreater() roll1 hard}}
                  <td class="template_value">Success</td>
                {{/rollGreater() roll1 hard}}
                <!-- Is Hard or Extreme -->
                {{#rollBetween() roll1 2 hard}}
                  <!-- Is Hard -->
                  {{#rollGreater() roll1 extreme}}
                    <td class="template_value">Hard</td>
                  {{/rollGreater() roll1 extreme}}
                  <!-- Is Extreme -->
                  {{#rollBetween() roll1 2 extreme}}
                    <td class="template_value"><b>Extreme</b></td>
                  {{/rollBetween() roll1 2 extreme}}
                {{/rollBetween() roll1 2 hard}}
              {{/rollBetween() roll1 2 success}}
              <!-- Is Not Success -->
              {{#rollGreater() roll1 success}}
                <!-- Is skill >= 50 -->
                {{#rollGreater() success 49}}
                  <!-- Is Fumble -->
                  {{#rollTotal() roll1 100}}
                    <td class="template_value"><b>Fumble</b></td>
                  {{/rollTotal() roll1 100}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 100}}
                    <td class="template_value">Fail</td>
                  {{/rollLess() roll1 100}}
                {{/rollGreater() success 49}}
                <!-- Is skill < 50 -->
                {{#rollLess() success 50}}
                  <!-- Is Fumble -->
                  {{#rollGreater() roll1 95}}
                    <td class="template_value"><b>Fumble</b></td>
                  {{/rollGreater() roll1 95}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 96}}
                    <td class="template_value">Fail</td>
                  {{/rollLess() roll1 96}}
                {{/rollLess() success 50}}
              {{/rollGreater() roll1 success}}
            {{/rollTotal() roll1 roll2}}
        </tr>
        <tr style="background:#D3D3D3;">
            <td class="template_label">&nbsp;&nbsp;0:</td>
            <!-- 01 is always Critical -->
            {{#rollTotal() roll1 1}}
              <td class="template_value"><b>Critical</b></td>
            {{/rollTotal() roll1 1}}
            <!-- Is Success -->
            {{#rollBetween() roll1 2 success}}
              <!-- Is Standard -->
              {{#rollGreater() roll1 hard}}
                <td class="template_value">Success</td>
              {{/rollGreater() roll1 hard}}
              <!-- Is Hard or Extreme -->
              {{#rollBetween() roll1 2 hard}}
                <!-- Is Hard -->
                {{#rollGreater() roll1 extreme}}
                  <td class="template_value">Hard</td>
                {{/rollGreater() roll1 extreme}}
                <!-- Is Extreme -->
                {{#rollBetween() roll1 2 extreme}}
                  <td class="template_value"><b>Extreme</b></td>
                {{/rollBetween() roll1 2 extreme}}
              {{/rollBetween() roll1 2 hard}}
            {{/rollBetween() roll1 2 success}}
            <!-- Is Not Success -->
            {{#rollGreater() roll1 success}}
              <!-- Is skill >= 50 -->
              {{#rollGreater() success 49}}
                <!-- Is Fumble -->
                {{#rollTotal() roll1 100}}
                  <td class="template_value"><b>Fumble</b></td>
                {{/rollTotal() roll1 100}}
                <!-- Is Fail -->
                {{#rollLess() roll1 100}}
                  <td class="template_value">Fail</td>
                {{/rollLess() roll1 100}}
              {{/rollGreater() success 49}}
              <!-- Is skill < 50 -->
              {{#rollLess() success 50}}
                <!-- Is Fumble -->
                {{#rollGreater() roll1 95}}
                  <td class="template_value"><b>Fumble</b></td>
                {{/rollGreater() roll1 95}}
                <!-- Is Fail -->
                {{#rollLess() roll1 96}}
                  <td class="template_value">Fail</td>
                {{/rollLess() roll1 96}}
              {{/rollLess() success 50}}
            {{/rollGreater() roll1 success}}
        </tr>
        <tr style="background:#FCF8E3;">
            <td class="template_label">-1:</td>
            <!-- Is roll2 greater than roll1 -->
            {{#rollGreater() roll2 roll1}}
              <!-- 01 is always Critical -->
              {{#rollTotal() roll2 1}}
                <td class="template_value"><b>Critical</b></td>
              {{/rollTotal() roll2 1}}
              <!-- Is Success -->
              {{#rollBetween() roll2 2 success}}
                <!-- Is Standard -->
                {{#rollGreater() roll2 hard}}
                  <td class="template_value">Success</td>
                {{/rollGreater() roll2 hard}}
                <!-- Is Hard or Extreme -->
                {{#rollBetween() roll2 2 hard}}
                  <!-- Is Hard -->
                  {{#rollGreater() roll2 extreme}}
                    <td class="template_value">Hard</td>
                  {{/rollGreater() roll2 extreme}}
                  <!-- Is Extreme -->
                  {{#rollBetween() roll2 2 extreme}}
                    <td class="template_value"><b>Extreme</b></td>
                  {{/rollBetween() roll2 2 extreme}}
                {{/rollBetween() roll2 2 hard}}
              {{/rollBetween() roll2 2 success}}
              <!-- Is Not Success -->
              {{#rollGreater() roll2 success}}
                <!-- Is skill >= 50 -->
                {{#rollGreater() success 49}}
                  <!-- Is Fumble -->
                  {{#rollTotal() roll2 100}}
                    <td class="template_value"><b>Fumble</b></td>
                  {{/rollTotal() roll2 100}}
                  <!-- Is Fail -->
                  {{#rollLess() roll2 100}}
                    <td class="template_value">Fail</td>
                  {{/rollLess() roll2 100}}
                {{/rollGreater() success 49}}
                <!-- Is skill < 50 -->
                {{#rollLess() success 50}}
                  <!-- Is Fumble -->
                  {{#rollGreater() roll2 95}}
                    <td class="template_value"><b>Fumble</b></td>
                  {{/rollGreater() roll2 95}}
                  <!-- Is Fail -->
                  {{#rollLess() roll2 96}}
                    <td class="template_value">Fail</td>
                  {{/rollLess() roll2 96}}
                {{/rollLess() success 50}}
              {{/rollGreater() roll2 success}}
            {{/rollGreater() roll2 roll1}}
            <!-- Is roll1 greater than roll2 -->
            {{#rollGreater() roll1 roll2}}
              <!-- 01 is always Critical -->
              {{#rollTotal() roll1 1}}
                <td class="template_value"><b>Critical</b></td>
              {{/rollTotal() roll1 1}}
              <!-- Is Success -->
              {{#rollBetween() roll1 2 success}}
                <!-- Is Standard -->
                {{#rollGreater() roll1 hard}}
                  <td class="template_value">Success</td>
                {{/rollGreater() roll1 hard}}
                <!-- Is Hard or Extreme -->
                {{#rollBetween() roll1 2 hard}}
                  <!-- Is Hard -->
                  {{#rollGreater() roll1 extreme}}
                    <td class="template_value">Hard</td>
                  {{/rollGreater() roll1 extreme}}
                  <!-- Is Extreme -->
                  {{#rollBetween() roll1 2 extreme}}
                    <td class="template_value"><b>Extreme</b></td>
                  {{/rollBetween() roll1 2 extreme}}
                {{/rollBetween() roll1 2 hard}}
              {{/rollBetween() roll1 2 success}}
              <!-- Is Not Success -->
              {{#rollGreater() roll1 success}}
                <!-- Is skill >= 50 -->
                {{#rollGreater() success 49}}
                  <!-- Is Fumble -->
                  {{#rollTotal() roll1 100}}
                    <td class="template_value"><b>Fumble</b></td>
                  {{/rollTotal() roll1 100}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 100}}
                    <td class="template_value">Fail</td>
                  {{/rollLess() roll1 100}}
                {{/rollGreater() success 49}}
                <!-- Is skill < 50 -->
                {{#rollLess() success 50}}
                  <!-- Is Fumble -->
                  {{#rollGreater() roll1 95}}
                    <td class="template_value"><b>Fumble</b></td>
                  {{/rollGreater() roll1 95}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 96}}
                    <td class="template_value">Fail</td>
                  {{/rollLess() roll1 96}}
                {{/rollLess() success 50}}
              {{/rollGreater() roll1 success}}
            {{/rollGreater() roll1 roll2}}
            <!-- Are roll1 and roll2 equal-->
            {{#rollTotal() roll1 roll2}}
              <!-- 01 is always Critical -->
              {{#rollTotal() roll1 1}}
                <td class="template_value"><b>Critical</b></td>
              {{/rollTotal() roll1 1}}
              <!-- Is Success -->
              {{#rollBetween() roll1 2 success}}
                <!-- Is Standard -->
                {{#rollGreater() roll1 hard}}
                  <td class="template_value">Success</td>
                {{/rollGreater() roll1 hard}}
                <!-- Is Hard or Extreme -->
                {{#rollBetween() roll1 2 hard}}
                  <!-- Is Hard -->
                  {{#rollGreater() roll1 extreme}}
                    <td class="template_value">Hard</td>
                  {{/rollGreater() roll1 extreme}}
                  <!-- Is Extreme -->
                  {{#rollBetween() roll1 2 extreme}}
                    <td class="template_value"><b>Extreme</b></td>
                  {{/rollBetween() roll1 2 extreme}}
                {{/rollBetween() roll1 2 hard}}
              {{/rollBetween() roll1 2 success}}
              <!-- Is Not Success -->
              {{#rollGreater() roll1 success}}
                <!-- Is skill >= 50 -->
                {{#rollGreater() success 49}}
                  <!-- Is Fumble -->
                  {{#rollTotal() roll1 100}}
                    <td class="template_value"><b>Fumble</b></td>
                  {{/rollTotal() roll1 100}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 100}}
                    <td class="template_value">Fail</td>
                  {{/rollLess() roll1 100}}
                {{/rollGreater() success 49}}
                <!-- Is skill < 50 -->
                {{#rollLess() success 50}}
                  <!-- Is Fumble -->
                  {{#rollGreater() roll1 95}}
                    <td class="template_value"><b>Fumble</b></td>
                  {{/rollGreater() roll1 95}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 96}}
                    <td class="template_value">Fail</td>
                  {{/rollLess() roll1 96}}
                {{/rollLess() success 50}}
              {{/rollGreater() roll1 success}}
            {{/rollTotal() roll1 roll2}}
        </tr>
        <tr style="background:#F2DEDE;">
            <td class="template_label">-2:</td>
            <!-- Is roll2 greater than roll1 -->
            {{#rollGreater() roll2 roll1}}
              <!-- Is roll3 greater than roll2-->
              {{#rollGreater() roll3 roll2}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll3 1}}
                  <td class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll3 1}}
                <!-- Is Success -->
                {{#rollBetween() roll3 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll3 hard}}
                    <td class="template_value">Success</td>
                  {{/rollGreater() roll3 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll3 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll3 extreme}}
                      <td class="template_value">Hard</td>
                    {{/rollGreater() roll3 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll3 2 extreme}}
                      <td class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll3 2 extreme}}
                  {{/rollBetween() roll3 2 hard}}
                {{/rollBetween() roll3 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll3 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll3 100}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll3 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 100}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll3 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll3 95}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll3 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 96}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll3 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll3 success}}
              {{/rollGreater() roll3 roll2}}
              <!-- Is roll2 greater than roll3 -->
              {{#rollGreater() roll2 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll2 1}}
                  <td class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll2 1}}
                <!-- Is Success -->
                {{#rollBetween() roll2 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll2 hard}}
                    <td class="template_value">Success</td>
                  {{/rollGreater() roll2 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll2 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll2 extreme}}
                      <td class="template_value">Hard</td>
                    {{/rollGreater() roll2 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll2 2 extreme}}
                      <td class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll2 2 extreme}}
                  {{/rollBetween() roll2 2 hard}}
                {{/rollBetween() roll2 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll2 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll2 100}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll2 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 100}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll2 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll2 95}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll2 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 96}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll2 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll2 success}}
              {{/rollGreater() roll2 roll3}}
              <!-- Are roll2 and roll3 equal-->
              {{#rollTotal() roll2 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll2 1}}
                  <td class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll2 1}}
                <!-- Is Success -->
                {{#rollBetween() roll2 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll2 hard}}
                    <td class="template_value">Success</td>
                  {{/rollGreater() roll2 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll2 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll2 extreme}}
                      <td class="template_value">Hard</td>
                    {{/rollGreater() roll2 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll2 2 extreme}}
                      <td class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll2 2 extreme}}
                  {{/rollBetween() roll2 2 hard}}
                {{/rollBetween() roll2 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll2 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll2 100}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll2 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 100}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll2 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll2 95}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll2 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 96}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll2 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll2 success}}
              {{/rollTotal() roll2 roll3}}
            {{/rollGreater() roll2 roll1}}
            <!-- Is roll1 greater than roll2 -->
            {{#rollGreater() roll1 roll2}}
              <!-- Is roll3 greater than roll1-->
              {{#rollGreater() roll3 roll1}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll3 1}}
                  <td class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll3 1}}
                <!-- Is Success -->
                {{#rollBetween() roll3 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll3 hard}}
                    <td class="template_value">Success</td>
                  {{/rollGreater() roll3 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll3 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll3 extreme}}
                      <td class="template_value">Hard</td>
                    {{/rollGreater() roll3 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll3 2 extreme}}
                      <td class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll3 2 extreme}}
                  {{/rollBetween() roll3 2 hard}}
                {{/rollBetween() roll3 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll3 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll3 100}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll3 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 100}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll3 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll3 95}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll3 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 96}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll3 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll3 success}}
              {{/rollGreater() roll3 roll1}}
              <!-- Is roll1 greater than roll3 -->
              {{#rollGreater() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollGreater() roll1 roll3}}
              <!-- Are roll1 and roll3 equal-->
              {{#rollTotal() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollTotal() roll1 roll3}}
            {{/rollGreater() roll1 roll2}}
            <!-- Are roll1 and roll2 equal-->
            {{#rollTotal() roll1 roll2}}
              <!-- Is roll3 greater than roll1-->
              {{#rollGreater() roll3 roll1}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll3 1}}
                  <td class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll3 1}}
                <!-- Is Success -->
                {{#rollBetween() roll3 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll3 hard}}
                    <td class="template_value">Success</td>
                  {{/rollGreater() roll3 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll3 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll3 extreme}}
                      <td class="template_value">Hard</td>
                    {{/rollGreater() roll3 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll3 2 extreme}}
                      <td class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll3 2 extreme}}
                  {{/rollBetween() roll3 2 hard}}
                {{/rollBetween() roll3 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll3 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll3 100}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll3 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 100}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll3 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll3 95}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll3 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 96}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll3 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll3 success}}
              {{/rollGreater() roll3 roll1}}
              <!-- Is roll1 greater than roll3 -->
              {{#rollGreater() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollGreater() roll1 roll3}}
              <!-- Are roll1 and roll3 equal-->
              {{#rollTotal() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollTotal() roll1 roll3}}
            {{/rollTotal() roll1 roll2}}
        </tr>
        <tr><td class="template_label">Def:</td><td class="template_value">{{defence}}</td></tr>
    </table>
</rolltemplate>

<!--
&{template:coc-defence-1} {{name=Test}} {{success=[[50]]}} {{hard=[[floor(50/2)]]}} {{extreme=[[floor(50/5)]]}} {{roll1=[[1d100]]}}
-->
<rolltemplate class="sheet-rolltemplate-coc-defence-1">
    <table>
		{{#rollTotal() modifier 0}}
        <caption>{{name}}</caption>
		{{/rollTotal() modifier 0}}
		
		{{#^rollTotal() modifier 0}}
        <caption>{{name}} | {{modifier}}</caption>
		{{/^rollTotal() modifier 0}}
        <tr><td class="template_label">Value:</td><td class="template_value">{{success}}/{{hard}}/{{extreme}}</td></tr>
        <tr><td class="template_label">Rolled:</td><td class="template_value">{{roll1}}</td></tr>
        <tr style="background:#BEBEBE;">
            <td class="template_label">Result:</td>
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td style="background:Lime;" class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td style="background:DarkGreen;" class="template_value">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td style="background:Green;" class="template_value">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td style="background:LightGreen;" class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td style="background:Red;" class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td style="background:Crimson;" class="template_value">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td style="background:Red;" class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td style="background:Crimson;" class="template_value">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
        </tr>
        <tr>
		<td class="template_label">Def:</td><td class="template_value">{{defence}}</td>
	</tr>
    </table>
</rolltemplate>


<!--
&{template:coc-vehicleattack} ---------------------------------
-->
<rolltemplate class="sheet-rolltemplate-coc-vehicleattack">
    <table>
 		{{#rollTotal() modifier 0}}
        <caption>{{name}}</caption>
		{{/rollTotal() modifier 0}}
		
		{{#^rollTotal() modifier 0}}
        <caption>{{name}} | {{modifier}}</caption>
		{{/^rollTotal() modifier 0}}
        <tr><td class="template_label">Value:</td><td class="template_value">{{success}}/{{hard}}/{{extreme}}</td></tr>
        <tr><td class="template_label">Rolled:</td><td class="template_value">{{roll1}}</td></tr>
        <tr style="background:#BEBEBE;">
            <td class="template_label">Result:</td>
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td style="background:Lime;" class="template_value"><b>Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td style="background:DarkGreen;" class="template_value">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td style="background:Green;" class="template_value">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td style="background:LightGreen;" class="template_value"><b>Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td style="background:Red;" class="template_value"><b>Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td style="background:Crimson;" class="template_value">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td style="background:Red;" class="template_value"><b>Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td style="background:Crimson;" class="template_value">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
        </tr>
        <tr>
		<td class="template_label">Build Dam:</td><td class="template_value">{{builddam}}</td>
	</tr>
    </table>
</rolltemplate>


<!--
&{template:coc-defence-2} ---------------------------------------------------------------------------------------------------------
-->
<rolltemplate class="sheet-rolltemplate-coc-defence-2">
    <table>
 		{{#rollTotal() modifier 0}}
        <caption>{{name}}</caption>
		{{/rollTotal() modifier 0}}
		
		{{#^rollTotal() modifier 0}}
        <caption>{{name}} | {{modifier}}</caption>
		{{/^rollTotal() modifier 0}}
        <tr>
		<td class="template_label">Def:</td><td class="template_value">{{defence}}</td>
	</tr>
    </table>
</rolltemplate>

    <!--
&{template:coc-minionattack-} ---------------------------------------------------------------------------------------------------------
-->
<rolltemplate class="sheet-rolltemplate-coc-minionattack">
    <table>
		{{#rollTotal() modifier 0}}
        <caption>{{name}}</caption>
		{{/rollTotal() modifier 0}}
		
		{{#^rollTotal() modifier 0}}
        <caption>{{name}} | {{modifier}}</caption>
		{{/^rollTotal() modifier 0}}
        <tr><td class="template_label" data-i18n="value">Value:</td><td class="template_value">{{success}}/{{hard}}/{{extreme}}</td></tr>
        <tr><td class="template_label" data-i18n="rolled">Rolled:</td><td class="template_value">{{roll1}}</td></tr>
        <tr style="background:#BEBEBE;">
            <td class="template_label" data-i18n="result">Result:</td>
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td style="background:Lime;" class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td style="background:DarkGreen;" class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td style="background:Green;" class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td style="background:LightGreen;" class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td style="background:Red;" class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td style="background:Crimson;" class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td style="background:Red;" class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td style="background:Crimson;" class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
        </tr>
        <tr>
			<td class="template_label" data-i18n="dam">Dam:</td><td class="template_value">{{damage}}</td>
		</tr>
    </table>
</rolltemplate>

<!--
&{template:coc-miniondef} ---------------------------------------------------------------------------------------------------------
-->
<rolltemplate class="sheet-rolltemplate-coc-miniondef">
    <table>
 		{{#rollTotal() modifier 0}}
        <caption>{{name}}</caption>
		{{/rollTotal() modifier 0}}
		
		{{#^rollTotal() modifier 0}}
        <caption>{{name}} | {{modifier}}</caption>
		{{/^rollTotal() modifier 0}}
        <tr>
		<td class="template_label">Def:</td><td class="template_value">{{defence}}</td>
	</tr>
    </table>
</rolltemplate>

<!--
&{template:coc} {{name=Test}} {{success=[[50]]}} {{hard=[[floor(50/2)]]}} {{extreme=[[floor(50/5)]]}} {{roll1=[[1d100]]}} {{roll2=[[1d100]]}} {{roll3=[[1d100]]}}---------------------------------------------------------------------------------------------------------
-->

<rolltemplate class="sheet-rolltemplate-coc">
    <table>
		{{#rollTotal() modifier 0}}
        <caption>{{name}}</caption>
		{{/rollTotal() modifier 0}}
		
		{{#^rollTotal() modifier 0}}
        <caption>{{name}} | {{modifier}}</caption>
		{{/^rollTotal() modifier 0}}
        <tr>
            <td class="template_label" data-i18n="value">Value:</td>
            <td class="template_value">{{success}}/{{hard}}/{{extreme}}</td>
        </tr>
        <tr>
            <td class="template_label" data-i18n="rolled">Rolled:</td>
            <td class="template_value">{{roll1}}, {{roll2}}, {{roll3}}</td>
        </tr>
        <tr style="background:#DFF0D8;">
            <td class="template_label">+2:</td>
            <!-- Is roll2 less than roll1 -->
            {{#rollLess() roll2 roll1}}
              <!-- Is roll3 less than roll2-->
              {{#rollLess() roll3 roll2}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll3 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll3 1}}
                <!-- Is Success -->
                {{#rollBetween() roll3 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll3 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll3 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll3 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll3 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll3 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll3 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll3 2 extreme}}
                  {{/rollBetween() roll3 2 hard}}
                {{/rollBetween() roll3 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll3 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll3 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll3 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll3 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll3 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll3 success}}
              {{/rollLess() roll3 roll2}}
              <!-- Is roll2 less than roll3 -->
              {{#rollLess() roll2 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll2 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll2 1}}
                <!-- Is Success -->
                {{#rollBetween() roll2 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll2 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll2 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll2 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll2 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll2 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll2 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll2 2 extreme}}
                  {{/rollBetween() roll2 2 hard}}
                {{/rollBetween() roll2 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll2 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll2 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll2 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll2 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll2 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll2 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll2 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll2 success}}
              {{/rollLess() roll2 roll3}}
              <!-- Are roll2 and roll3 equal-->
              {{#rollTotal() roll2 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll2 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll2 1}}
                <!-- Is Success -->
                {{#rollBetween() roll2 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll2 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll2 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll2 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll2 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll2 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll2 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll2 2 extreme}}
                  {{/rollBetween() roll2 2 hard}}
                {{/rollBetween() roll2 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll2 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll2 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll2 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll2 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll2 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll2 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll2 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll2 success}}
              {{/rollTotal() roll2 roll3}}
            {{/rollLess() roll2 roll1}}
            <!-- Is roll1 less than roll2 -->
            {{#rollLess() roll1 roll2}}
              <!-- Is roll3 less than roll1-->
              {{#rollLess() roll3 roll1}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll3 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll3 1}}
                <!-- Is Success -->
                {{#rollBetween() roll3 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll3 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll3 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll3 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll3 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll3 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll3 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll3 2 extreme}}
                  {{/rollBetween() roll3 2 hard}}
                {{/rollBetween() roll3 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll3 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll3 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll3 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll3 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll3 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll3 success}}
              {{/rollLess() roll3 roll1}}
              <!-- Is roll1 less than roll3 -->
              {{#rollLess() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollLess() roll1 roll3}}
              <!-- Are roll1 and roll3 equal-->
              {{#rollTotal() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollTotal() roll1 roll3}}
            {{/rollLess() roll1 roll2}}
            <!-- Are roll1 and roll2 equal-->
            {{#rollTotal() roll1 roll2}}
              <!-- Is roll3 less than roll1-->
              {{#rollLess() roll3 roll1}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll3 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll3 1}}
                <!-- Is Success -->
                {{#rollBetween() roll3 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll3 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll3 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll3 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll3 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll3 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll3 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll3 2 extreme}}
                  {{/rollBetween() roll3 2 hard}}
                {{/rollBetween() roll3 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll3 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll3 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll3 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll3 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll3 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll3 success}}
              {{/rollLess() roll3 roll1}}
              <!-- Is roll1 less than roll3 -->
              {{#rollLess() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollLess() roll1 roll3}}
              <!-- Are roll1 and roll3 equal-->
              {{#rollTotal() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollTotal() roll1 roll3}}
            {{/rollTotal() roll1 roll2}}
        </tr>
        <tr style="background:#D9EDF7;">
            <td class="template_label">+1:</td>
            <!-- Is roll2 lower than roll1 -->
            {{#rollLess() roll2 roll1}}
              <!-- 01 is always Critical -->
              {{#rollTotal() roll2 1}}
                <td class="template_value"><b data-i18n="critical">Critical</b></td>
              {{/rollTotal() roll2 1}}
              <!-- Is Success -->
              {{#rollBetween() roll2 2 success}}
                <!-- Is Standard -->
                {{#rollGreater() roll2 hard}}
                  <td class="template_value" data-i18n="success">Success</td>
                {{/rollGreater() roll2 hard}}
                <!-- Is Hard or Extreme -->
                {{#rollBetween() roll2 2 hard}}
                  <!-- Is Hard -->
                  {{#rollGreater() roll2 extreme}}
                    <td class="template_value" data-i18n="hard">Hard</td>
                  {{/rollGreater() roll2 extreme}}
                  <!-- Is Extreme -->
                  {{#rollBetween() roll2 2 extreme}}
                    <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                  {{/rollBetween() roll2 2 extreme}}
                {{/rollBetween() roll2 2 hard}}
              {{/rollBetween() roll2 2 success}}
              <!-- Is Not Success -->
              {{#rollGreater() roll2 success}}
                <!-- Is skill >= 50 -->
                {{#rollGreater() success 49}}
                  <!-- Is Fumble -->
                  {{#rollTotal() roll2 100}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollTotal() roll2 100}}
                  <!-- Is Fail -->
                  {{#rollLess() roll2 100}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll2 100}}
                {{/rollGreater() success 49}}
                <!-- Is skill < 50 -->
                {{#rollLess() success 50}}
                  <!-- Is Fumble -->
                  {{#rollGreater() roll2 95}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollGreater() roll2 95}}
                  <!-- Is Fail -->
                  {{#rollLess() roll2 96}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll2 96}}
                {{/rollLess() success 50}}
              {{/rollGreater() roll2 success}}
            {{/rollLess() roll2 roll1}}
            <!-- Is roll1 lower than roll2 -->
            {{#rollLess() roll1 roll2}}
              <!-- 01 is always Critical -->
              {{#rollTotal() roll1 1}}
                <td class="template_value"><b data-i18n="critical">Critical</b></td>
              {{/rollTotal() roll1 1}}
              <!-- Is Success -->
              {{#rollBetween() roll1 2 success}}
                <!-- Is Standard -->
                {{#rollGreater() roll1 hard}}
                  <td class="template_value" data-i18n="success">Success</td>
                {{/rollGreater() roll1 hard}}
                <!-- Is Hard or Extreme -->
                {{#rollBetween() roll1 2 hard}}
                  <!-- Is Hard -->
                  {{#rollGreater() roll1 extreme}}
                    <td class="template_value" data-i18n="hard">Hard</td>
                  {{/rollGreater() roll1 extreme}}
                  <!-- Is Extreme -->
                  {{#rollBetween() roll1 2 extreme}}
                    <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                  {{/rollBetween() roll1 2 extreme}}
                {{/rollBetween() roll1 2 hard}}
              {{/rollBetween() roll1 2 success}}
              <!-- Is Not Success -->
              {{#rollGreater() roll1 success}}
                <!-- Is skill >= 50 -->
                {{#rollGreater() success 49}}
                  <!-- Is Fumble -->
                  {{#rollTotal() roll1 100}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollTotal() roll1 100}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 100}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll1 100}}
                {{/rollGreater() success 49}}
                <!-- Is skill < 50 -->
                {{#rollLess() success 50}}
                  <!-- Is Fumble -->
                  {{#rollGreater() roll1 95}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollGreater() roll1 95}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 96}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll1 96}}
                {{/rollLess() success 50}}
              {{/rollGreater() roll1 success}}
            {{/rollLess() roll1 roll2}}
            <!-- Are roll1 and roll2 equal-->
            {{#rollTotal() roll1 roll2}}
              <!-- 01 is always Critical -->
              {{#rollTotal() roll1 1}}
                <td class="template_value"><b data-i18n="critical">Critical</b></td>
              {{/rollTotal() roll1 1}}
              <!-- Is Success -->
              {{#rollBetween() roll1 2 success}}
                <!-- Is Standard -->
                {{#rollGreater() roll1 hard}}
                  <td class="template_value" data-i18n="success">Success</td>
                {{/rollGreater() roll1 hard}}
                <!-- Is Hard or Extreme -->
                {{#rollBetween() roll1 2 hard}}
                  <!-- Is Hard -->
                  {{#rollGreater() roll1 extreme}}
                    <td class="template_value" data-i18n="hard">Hard</td>
                  {{/rollGreater() roll1 extreme}}
                  <!-- Is Extreme -->
                  {{#rollBetween() roll1 2 extreme}}
                    <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                  {{/rollBetween() roll1 2 extreme}}
                {{/rollBetween() roll1 2 hard}}
              {{/rollBetween() roll1 2 success}}
              <!-- Is Not Success -->
              {{#rollGreater() roll1 success}}
                <!-- Is skill >= 50 -->
                {{#rollGreater() success 49}}
                  <!-- Is Fumble -->
                  {{#rollTotal() roll1 100}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollTotal() roll1 100}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 100}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll1 100}}
                {{/rollGreater() success 49}}
                <!-- Is skill < 50 -->
                {{#rollLess() success 50}}
                  <!-- Is Fumble -->
                  {{#rollGreater() roll1 95}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollGreater() roll1 95}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 96}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll1 96}}
                {{/rollLess() success 50}}
              {{/rollGreater() roll1 success}}
            {{/rollTotal() roll1 roll2}}
        </tr>
        <tr style="background:#D3D3D3;">
            <td class="template_label">&nbsp;&nbsp;0:</td>
            <!-- 01 is always Critical -->
            {{#rollTotal() roll1 1}}
              <td class="template_value"><b data-i18n="critical">Critical</b></td>
            {{/rollTotal() roll1 1}}
            <!-- Is Success -->
            {{#rollBetween() roll1 2 success}}
              <!-- Is Standard -->
              {{#rollGreater() roll1 hard}}
                <td class="template_value" data-i18n="success">Success</td>
              {{/rollGreater() roll1 hard}}
              <!-- Is Hard or Extreme -->
              {{#rollBetween() roll1 2 hard}}
                <!-- Is Hard -->
                {{#rollGreater() roll1 extreme}}
                  <td class="template_value" data-i18n="hard">Hard</td>
                {{/rollGreater() roll1 extreme}}
                <!-- Is Extreme -->
                {{#rollBetween() roll1 2 extreme}}
                  <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                {{/rollBetween() roll1 2 extreme}}
              {{/rollBetween() roll1 2 hard}}
            {{/rollBetween() roll1 2 success}}
            <!-- Is Not Success -->
            {{#rollGreater() roll1 success}}
              <!-- Is skill >= 50 -->
              {{#rollGreater() success 49}}
                <!-- Is Fumble -->
                {{#rollTotal() roll1 100}}
                  <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                {{/rollTotal() roll1 100}}
                <!-- Is Fail -->
                {{#rollLess() roll1 100}}
                  <td class="template_value" data-i18n="fail">Fail</td>
                {{/rollLess() roll1 100}}
              {{/rollGreater() success 49}}
              <!-- Is skill < 50 -->
              {{#rollLess() success 50}}
                <!-- Is Fumble -->
                {{#rollGreater() roll1 95}}
                  <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                {{/rollGreater() roll1 95}}
                <!-- Is Fail -->
                {{#rollLess() roll1 96}}
                  <td class="template_value" data-i18n="fail">Fail</td>
                {{/rollLess() roll1 96}}
              {{/rollLess() success 50}}
            {{/rollGreater() roll1 success}}
        </tr>
        <tr style="background:#FCF8E3;">
            <td class="template_label">-1:</td>
            <!-- Is roll2 greater than roll1 -->
            {{#rollGreater() roll2 roll1}}
              <!-- 01 is always Critical -->
              {{#rollTotal() roll2 1}}
                <td class="template_value"><b data-i18n="critical">Critical</b></td>
              {{/rollTotal() roll2 1}}
              <!-- Is Success -->
              {{#rollBetween() roll2 2 success}}
                <!-- Is Standard -->
                {{#rollGreater() roll2 hard}}
                  <td class="template_value" data-i18n="success">Success</td>
                {{/rollGreater() roll2 hard}}
                <!-- Is Hard or Extreme -->
                {{#rollBetween() roll2 2 hard}}
                  <!-- Is Hard -->
                  {{#rollGreater() roll2 extreme}}
                    <td class="template_value" data-i18n="hard">Hard</td>
                  {{/rollGreater() roll2 extreme}}
                  <!-- Is Extreme -->
                  {{#rollBetween() roll2 2 extreme}}
                    <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                  {{/rollBetween() roll2 2 extreme}}
                {{/rollBetween() roll2 2 hard}}
              {{/rollBetween() roll2 2 success}}
              <!-- Is Not Success -->
              {{#rollGreater() roll2 success}}
                <!-- Is skill >= 50 -->
                {{#rollGreater() success 49}}
                  <!-- Is Fumble -->
                  {{#rollTotal() roll2 100}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollTotal() roll2 100}}
                  <!-- Is Fail -->
                  {{#rollLess() roll2 100}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll2 100}}
                {{/rollGreater() success 49}}
                <!-- Is skill < 50 -->
                {{#rollLess() success 50}}
                  <!-- Is Fumble -->
                  {{#rollGreater() roll2 95}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollGreater() roll2 95}}
                  <!-- Is Fail -->
                  {{#rollLess() roll2 96}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll2 96}}
                {{/rollLess() success 50}}
              {{/rollGreater() roll2 success}}
            {{/rollGreater() roll2 roll1}}
            <!-- Is roll1 greater than roll2 -->
            {{#rollGreater() roll1 roll2}}
              <!-- 01 is always Critical -->
              {{#rollTotal() roll1 1}}
                <td class="template_value"><b data-i18n="critical">Critical</b></td>
              {{/rollTotal() roll1 1}}
              <!-- Is Success -->
              {{#rollBetween() roll1 2 success}}
                <!-- Is Standard -->
                {{#rollGreater() roll1 hard}}
                  <td class="template_value" data-i18n="success">Success</td>
                {{/rollGreater() roll1 hard}}
                <!-- Is Hard or Extreme -->
                {{#rollBetween() roll1 2 hard}}
                  <!-- Is Hard -->
                  {{#rollGreater() roll1 extreme}}
                    <td class="template_value" data-i18n="hard">Hard</td>
                  {{/rollGreater() roll1 extreme}}
                  <!-- Is Extreme -->
                  {{#rollBetween() roll1 2 extreme}}
                    <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                  {{/rollBetween() roll1 2 extreme}}
                {{/rollBetween() roll1 2 hard}}
              {{/rollBetween() roll1 2 success}}
              <!-- Is Not Success -->
              {{#rollGreater() roll1 success}}
                <!-- Is skill >= 50 -->
                {{#rollGreater() success 49}}
                  <!-- Is Fumble -->
                  {{#rollTotal() roll1 100}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollTotal() roll1 100}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 100}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll1 100}}
                {{/rollGreater() success 49}}
                <!-- Is skill < 50 -->
                {{#rollLess() success 50}}
                  <!-- Is Fumble -->
                  {{#rollGreater() roll1 95}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollGreater() roll1 95}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 96}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll1 96}}
                {{/rollLess() success 50}}
              {{/rollGreater() roll1 success}}
            {{/rollGreater() roll1 roll2}}
            <!-- Are roll1 and roll2 equal-->
            {{#rollTotal() roll1 roll2}}
              <!-- 01 is always Critical -->
              {{#rollTotal() roll1 1}}
                <td class="template_value"><b data-i18n="critical">Critical</b></td>
              {{/rollTotal() roll1 1}}
              <!-- Is Success -->
              {{#rollBetween() roll1 2 success}}
                <!-- Is Standard -->
                {{#rollGreater() roll1 hard}}
                  <td class="template_value" data-i18n="success">Success</td>
                {{/rollGreater() roll1 hard}}
                <!-- Is Hard or Extreme -->
                {{#rollBetween() roll1 2 hard}}
                  <!-- Is Hard -->
                  {{#rollGreater() roll1 extreme}}
                    <td class="template_value" data-i18n="hard">Hard</td>
                  {{/rollGreater() roll1 extreme}}
                  <!-- Is Extreme -->
                  {{#rollBetween() roll1 2 extreme}}
                    <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                  {{/rollBetween() roll1 2 extreme}}
                {{/rollBetween() roll1 2 hard}}
              {{/rollBetween() roll1 2 success}}
              <!-- Is Not Success -->
              {{#rollGreater() roll1 success}}
                <!-- Is skill >= 50 -->
                {{#rollGreater() success 49}}
                  <!-- Is Fumble -->
                  {{#rollTotal() roll1 100}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollTotal() roll1 100}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 100}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll1 100}}
                {{/rollGreater() success 49}}
                <!-- Is skill < 50 -->
                {{#rollLess() success 50}}
                  <!-- Is Fumble -->
                  {{#rollGreater() roll1 95}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollGreater() roll1 95}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 96}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll1 96}}
                {{/rollLess() success 50}}
              {{/rollGreater() roll1 success}}
            {{/rollTotal() roll1 roll2}}
        </tr>
        <tr style="background:#F2DEDE;">
            <td class="template_label">-2:</td>
            <!-- Is roll2 greater than roll1 -->
            {{#rollGreater() roll2 roll1}}
              <!-- Is roll3 greater than roll2-->
              {{#rollGreater() roll3 roll2}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll3 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll3 1}}
                <!-- Is Success -->
                {{#rollBetween() roll3 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll3 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll3 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll3 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll3 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll3 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll3 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll3 2 extreme}}
                  {{/rollBetween() roll3 2 hard}}
                {{/rollBetween() roll3 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll3 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll3 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll3 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll3 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll3 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll3 success}}
              {{/rollGreater() roll3 roll2}}
              <!-- Is roll2 greater than roll3 -->
              {{#rollGreater() roll2 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll2 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll2 1}}
                <!-- Is Success -->
                {{#rollBetween() roll2 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll2 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll2 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll2 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll2 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll2 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll2 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll2 2 extreme}}
                  {{/rollBetween() roll2 2 hard}}
                {{/rollBetween() roll2 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll2 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll2 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll2 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll2 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll2 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll2 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll2 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll2 success}}
              {{/rollGreater() roll2 roll3}}
              <!-- Are roll2 and roll3 equal-->
              {{#rollTotal() roll2 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll2 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll2 1}}
                <!-- Is Success -->
                {{#rollBetween() roll2 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll2 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll2 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll2 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll2 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll2 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll2 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll2 2 extreme}}
                  {{/rollBetween() roll2 2 hard}}
                {{/rollBetween() roll2 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll2 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll2 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll2 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll2 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll2 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll2 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll2 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll2 success}}
              {{/rollTotal() roll2 roll3}}
            {{/rollGreater() roll2 roll1}}
            <!-- Is roll1 greater than roll2 -->
            {{#rollGreater() roll1 roll2}}
              <!-- Is roll3 greater than roll1-->
              {{#rollGreater() roll3 roll1}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll3 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll3 1}}
                <!-- Is Success -->
                {{#rollBetween() roll3 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll3 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll3 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll3 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll3 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll3 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll3 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll3 2 extreme}}
                  {{/rollBetween() roll3 2 hard}}
                {{/rollBetween() roll3 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll3 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll3 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll3 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll3 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll3 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll3 success}}
              {{/rollGreater() roll3 roll1}}
              <!-- Is roll1 greater than roll3 -->
              {{#rollGreater() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollGreater() roll1 roll3}}
              <!-- Are roll1 and roll3 equal-->
              {{#rollTotal() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollTotal() roll1 roll3}}
            {{/rollGreater() roll1 roll2}}
            <!-- Are roll1 and roll2 equal-->
            {{#rollTotal() roll1 roll2}}
              <!-- Is roll3 greater than roll1-->
              {{#rollGreater() roll3 roll1}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll3 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll3 1}}
                <!-- Is Success -->
                {{#rollBetween() roll3 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll3 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll3 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll3 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll3 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll3 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll3 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll3 2 extreme}}
                  {{/rollBetween() roll3 2 hard}}
                {{/rollBetween() roll3 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll3 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll3 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll3 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll3 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll3 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll3 success}}
              {{/rollGreater() roll3 roll1}}
              <!-- Is roll1 greater than roll3 -->
              {{#rollGreater() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollGreater() roll1 roll3}}
              <!-- Are roll1 and roll3 equal-->
              {{#rollTotal() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollTotal() roll1 roll3}}
            {{/rollTotal() roll1 roll2}}
        </tr>
    </table>
</rolltemplate>


<!--
&{template:coc-attack} ---------------------------------------------------------------------------------------------------------
-->
<rolltemplate class="sheet-rolltemplate-coc-attack">
    <table>
        {{#rollTotal() modifier 0}}
        <caption>{{name}}</caption>
		{{/rollTotal() modifier 0}}
		
		{{#^rollTotal() modifier 0}}
        <caption>{{name}} | {{modifier}}</caption>
		{{/^rollTotal() modifier 0}}
        <tr><td class="template_label" data-i18n="value">Value:</td><td class="template_value">{{success}}/{{hard}}/{{extreme}}</td></tr>
        {{#malf}}
            <tr><td class="template_label" data-i18n="malf">Malf:</td><td class="template_value">{{malf}}</td></tr>
        {{/malf}}
        <tr><td class="template_label" data-i18n="rolled">Rolled:</td><td class="template_value">{{roll1}}, {{roll2}}, {{roll3}}</td></tr>
        <tr style="background:#DFF0D8;">
            <td class="template_label">+2:</td>
            <!-- Is roll2 less than roll1 -->
            {{#rollLess() roll2 roll1}}
              <!-- Is roll3 less than roll2-->
              {{#rollLess() roll3 roll2}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll3 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll3 1}}
                <!-- Is Success -->
                {{#rollBetween() roll3 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll3 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll3 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll3 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll3 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll3 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll3 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll3 2 extreme}}
                  {{/rollBetween() roll3 2 hard}}
                {{/rollBetween() roll3 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll3 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll3 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll3 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll3 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll3 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll3 success}}
              {{/rollLess() roll3 roll2}}
              <!-- Is roll2 less than roll3 -->
              {{#rollLess() roll2 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll2 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll2 1}}
                <!-- Is Success -->
                {{#rollBetween() roll2 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll2 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll2 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll2 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll2 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll2 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll2 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll2 2 extreme}}
                  {{/rollBetween() roll2 2 hard}}
                {{/rollBetween() roll2 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll2 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll2 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll2 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll2 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll2 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll2 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll2 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll2 success}}
              {{/rollLess() roll2 roll3}}
              <!-- Are roll2 and roll3 equal-->
              {{#rollTotal() roll2 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll2 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll2 1}}
                <!-- Is Success -->
                {{#rollBetween() roll2 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll2 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll2 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll2 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll2 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll2 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll2 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll2 2 extreme}}
                  {{/rollBetween() roll2 2 hard}}
                {{/rollBetween() roll2 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll2 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll2 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll2 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll2 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll2 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll2 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll2 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll2 success}}
              {{/rollTotal() roll2 roll3}}
            {{/rollLess() roll2 roll1}}
            <!-- Is roll1 less than roll2 -->
            {{#rollLess() roll1 roll2}}
              <!-- Is roll3 less than roll1-->
              {{#rollLess() roll3 roll1}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll3 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll3 1}}
                <!-- Is Success -->
                {{#rollBetween() roll3 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll3 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll3 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll3 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll3 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll3 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll3 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll3 2 extreme}}
                  {{/rollBetween() roll3 2 hard}}
                {{/rollBetween() roll3 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll3 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll3 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll3 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll3 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll3 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll3 success}}
              {{/rollLess() roll3 roll1}}
              <!-- Is roll1 less than roll3 -->
              {{#rollLess() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollLess() roll1 roll3}}
              <!-- Are roll1 and roll3 equal-->
              {{#rollTotal() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollTotal() roll1 roll3}}
            {{/rollLess() roll1 roll2}}
            <!-- Are roll1 and roll2 equal-->
            {{#rollTotal() roll1 roll2}}
              <!-- Is roll3 less than roll1-->
              {{#rollLess() roll3 roll1}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll3 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll3 1}}
                <!-- Is Success -->
                {{#rollBetween() roll3 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll3 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll3 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll3 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll3 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll3 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll3 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll3 2 extreme}}
                  {{/rollBetween() roll3 2 hard}}
                {{/rollBetween() roll3 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll3 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll3 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll3 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll3 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll3 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll3 success}}
              {{/rollLess() roll3 roll1}}
              <!-- Is roll1 less than roll3 -->
              {{#rollLess() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollLess() roll1 roll3}}
              <!-- Are roll1 and roll3 equal-->
              {{#rollTotal() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollTotal() roll1 roll3}}
            {{/rollTotal() roll1 roll2}}
        </tr>
        <tr style="background:#D9EDF7;">
            <td class="template_label">+1:</td>
            <!-- Is roll2 lower than roll1 -->
            {{#rollLess() roll2 roll1}}
              <!-- 01 is always Critical -->
              {{#rollTotal() roll2 1}}
                <td class="template_value"><b data-i18n="critical">Critical</b></td>
              {{/rollTotal() roll2 1}}
              <!-- Is Success -->
              {{#rollBetween() roll2 2 success}}
                <!-- Is Standard -->
                {{#rollGreater() roll2 hard}}
                  <td class="template_value" data-i18n="success">Success</td>
                {{/rollGreater() roll2 hard}}
                <!-- Is Hard or Extreme -->
                {{#rollBetween() roll2 2 hard}}
                  <!-- Is Hard -->
                  {{#rollGreater() roll2 extreme}}
                    <td class="template_value" data-i18n="hard">Hard</td>
                  {{/rollGreater() roll2 extreme}}
                  <!-- Is Extreme -->
                  {{#rollBetween() roll2 2 extreme}}
                    <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                  {{/rollBetween() roll2 2 extreme}}
                {{/rollBetween() roll2 2 hard}}
              {{/rollBetween() roll2 2 success}}
              <!-- Is Not Success -->
              {{#rollGreater() roll2 success}}
                <!-- Is skill >= 50 -->
                {{#rollGreater() success 49}}
                  <!-- Is Fumble -->
                  {{#rollTotal() roll2 100}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollTotal() roll2 100}}
                  <!-- Is Fail -->
                  {{#rollLess() roll2 100}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll2 100}}
                {{/rollGreater() success 49}}
                <!-- Is skill < 50 -->
                {{#rollLess() success 50}}
                  <!-- Is Fumble -->
                  {{#rollGreater() roll2 95}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollGreater() roll2 95}}
                  <!-- Is Fail -->
                  {{#rollLess() roll2 96}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll2 96}}
                {{/rollLess() success 50}}
              {{/rollGreater() roll2 success}}
            {{/rollLess() roll2 roll1}}
            <!-- Is roll1 lower than roll2 -->
            {{#rollLess() roll1 roll2}}
              <!-- 01 is always Critical -->
              {{#rollTotal() roll1 1}}
                <td class="template_value"><b data-i18n="critical">Critical</b></td>
              {{/rollTotal() roll1 1}}
              <!-- Is Success -->
              {{#rollBetween() roll1 2 success}}
                <!-- Is Standard -->
                {{#rollGreater() roll1 hard}}
                  <td class="template_value" data-i18n="success">Success</td>
                {{/rollGreater() roll1 hard}}
                <!-- Is Hard or Extreme -->
                {{#rollBetween() roll1 2 hard}}
                  <!-- Is Hard -->
                  {{#rollGreater() roll1 extreme}}
                    <td class="template_value" data-i18n="hard">Hard</td>
                  {{/rollGreater() roll1 extreme}}
                  <!-- Is Extreme -->
                  {{#rollBetween() roll1 2 extreme}}
                    <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                  {{/rollBetween() roll1 2 extreme}}
                {{/rollBetween() roll1 2 hard}}
              {{/rollBetween() roll1 2 success}}
              <!-- Is Not Success -->
              {{#rollGreater() roll1 success}}
                <!-- Is skill >= 50 -->
                {{#rollGreater() success 49}}
                  <!-- Is Fumble -->
                  {{#rollTotal() roll1 100}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollTotal() roll1 100}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 100}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll1 100}}
                {{/rollGreater() success 49}}
                <!-- Is skill < 50 -->
                {{#rollLess() success 50}}
                  <!-- Is Fumble -->
                  {{#rollGreater() roll1 95}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollGreater() roll1 95}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 96}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll1 96}}
                {{/rollLess() success 50}}
              {{/rollGreater() roll1 success}}
            {{/rollLess() roll1 roll2}}
            <!-- Are roll1 and roll2 equal-->
            {{#rollTotal() roll1 roll2}}
              <!-- 01 is always Critical -->
              {{#rollTotal() roll1 1}}
                <td class="template_value"><b data-i18n="critical">Critical</b></td>
              {{/rollTotal() roll1 1}}
              <!-- Is Success -->
              {{#rollBetween() roll1 2 success}}
                <!-- Is Standard -->
                {{#rollGreater() roll1 hard}}
                  <td class="template_value" data-i18n="success">Success</td>
                {{/rollGreater() roll1 hard}}
                <!-- Is Hard or Extreme -->
                {{#rollBetween() roll1 2 hard}}
                  <!-- Is Hard -->
                  {{#rollGreater() roll1 extreme}}
                    <td class="template_value" data-i18n="hard">Hard</td>
                  {{/rollGreater() roll1 extreme}}
                  <!-- Is Extreme -->
                  {{#rollBetween() roll1 2 extreme}}
                    <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                  {{/rollBetween() roll1 2 extreme}}
                {{/rollBetween() roll1 2 hard}}
              {{/rollBetween() roll1 2 success}}
              <!-- Is Not Success -->
              {{#rollGreater() roll1 success}}
                <!-- Is skill >= 50 -->
                {{#rollGreater() success 49}}
                  <!-- Is Fumble -->
                  {{#rollTotal() roll1 100}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollTotal() roll1 100}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 100}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll1 100}}
                {{/rollGreater() success 49}}
                <!-- Is skill < 50 -->
                {{#rollLess() success 50}}
                  <!-- Is Fumble -->
                  {{#rollGreater() roll1 95}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollGreater() roll1 95}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 96}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll1 96}}
                {{/rollLess() success 50}}
              {{/rollGreater() roll1 success}}
            {{/rollTotal() roll1 roll2}}
        </tr>
        <tr style="background:#D3D3D3;">
            <td class="template_label">&nbsp;&nbsp;0:</td>
            <!-- 01 is always Critical -->
            {{#rollTotal() roll1 1}}
              <td class="template_value"><b data-i18n="critical">Critical</b></td>
            {{/rollTotal() roll1 1}}
            <!-- Is Success -->
            {{#rollBetween() roll1 2 success}}
              <!-- Is Standard -->
              {{#rollGreater() roll1 hard}}
                <td class="template_value" data-i18n="success">Success</td>
              {{/rollGreater() roll1 hard}}
              <!-- Is Hard or Extreme -->
              {{#rollBetween() roll1 2 hard}}
                <!-- Is Hard -->
                {{#rollGreater() roll1 extreme}}
                  <td class="template_value" data-i18n="hard">Hard</td>
                {{/rollGreater() roll1 extreme}}
                <!-- Is Extreme -->
                {{#rollBetween() roll1 2 extreme}}
                  <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                {{/rollBetween() roll1 2 extreme}}
              {{/rollBetween() roll1 2 hard}}
            {{/rollBetween() roll1 2 success}}
            <!-- Is Not Success -->
            {{#rollGreater() roll1 success}}
              <!-- Is skill >= 50 -->
              {{#rollGreater() success 49}}
                <!-- Is Fumble -->
                {{#rollTotal() roll1 100}}
                  <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                {{/rollTotal() roll1 100}}
                <!-- Is Fail -->
                {{#rollLess() roll1 100}}
                  <td class="template_value" data-i18n="fail">Fail</td>
                {{/rollLess() roll1 100}}
              {{/rollGreater() success 49}}
              <!-- Is skill < 50 -->
              {{#rollLess() success 50}}
                <!-- Is Fumble -->
                {{#rollGreater() roll1 95}}
                  <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                {{/rollGreater() roll1 95}}
                <!-- Is Fail -->
                {{#rollLess() roll1 96}}
                  <td class="template_value" data-i18n="fail">Fail</td>
                {{/rollLess() roll1 96}}
              {{/rollLess() success 50}}
            {{/rollGreater() roll1 success}}
        </tr>
        <tr style="background:#FCF8E3;">
            <td class="template_label">-1:</td>
            <!-- Is roll2 greater than roll1 -->
            {{#rollGreater() roll2 roll1}}
              <!-- 01 is always Critical -->
              {{#rollTotal() roll2 1}}
                <td class="template_value"><b data-i18n="critical">Critical</b></td>
              {{/rollTotal() roll2 1}}
              <!-- Is Success -->
              {{#rollBetween() roll2 2 success}}
                <!-- Is Standard -->
                {{#rollGreater() roll2 hard}}
                  <td class="template_value" data-i18n="success">Success</td>
                {{/rollGreater() roll2 hard}}
                <!-- Is Hard or Extreme -->
                {{#rollBetween() roll2 2 hard}}
                  <!-- Is Hard -->
                  {{#rollGreater() roll2 extreme}}
                    <td class="template_value" data-i18n="hard">Hard</td>
                  {{/rollGreater() roll2 extreme}}
                  <!-- Is Extreme -->
                  {{#rollBetween() roll2 2 extreme}}
                    <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                  {{/rollBetween() roll2 2 extreme}}
                {{/rollBetween() roll2 2 hard}}
              {{/rollBetween() roll2 2 success}}
              <!-- Is Not Success -->
              {{#rollGreater() roll2 success}}
                <!-- Is skill >= 50 -->
                {{#rollGreater() success 49}}
                  <!-- Is Fumble -->
                  {{#rollTotal() roll2 100}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollTotal() roll2 100}}
                  <!-- Is Fail -->
                  {{#rollLess() roll2 100}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll2 100}}
                {{/rollGreater() success 49}}
                <!-- Is skill < 50 -->
                {{#rollLess() success 50}}
                  <!-- Is Fumble -->
                  {{#rollGreater() roll2 95}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollGreater() roll2 95}}
                  <!-- Is Fail -->
                  {{#rollLess() roll2 96}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll2 96}}
                {{/rollLess() success 50}}
              {{/rollGreater() roll2 success}}
            {{/rollGreater() roll2 roll1}}
            <!-- Is roll1 greater than roll2 -->
            {{#rollGreater() roll1 roll2}}
              <!-- 01 is always Critical -->
              {{#rollTotal() roll1 1}}
                <td class="template_value"><b data-i18n="critical">Critical</b></td>
              {{/rollTotal() roll1 1}}
              <!-- Is Success -->
              {{#rollBetween() roll1 2 success}}
                <!-- Is Standard -->
                {{#rollGreater() roll1 hard}}
                  <td class="template_value" data-i18n="success">Success</td>
                {{/rollGreater() roll1 hard}}
                <!-- Is Hard or Extreme -->
                {{#rollBetween() roll1 2 hard}}
                  <!-- Is Hard -->
                  {{#rollGreater() roll1 extreme}}
                    <td class="template_value" data-i18n="hard">Hard</td>
                  {{/rollGreater() roll1 extreme}}
                  <!-- Is Extreme -->
                  {{#rollBetween() roll1 2 extreme}}
                    <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                  {{/rollBetween() roll1 2 extreme}}
                {{/rollBetween() roll1 2 hard}}
              {{/rollBetween() roll1 2 success}}
              <!-- Is Not Success -->
              {{#rollGreater() roll1 success}}
                <!-- Is skill >= 50 -->
                {{#rollGreater() success 49}}
                  <!-- Is Fumble -->
                  {{#rollTotal() roll1 100}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollTotal() roll1 100}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 100}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll1 100}}
                {{/rollGreater() success 49}}
                <!-- Is skill < 50 -->
                {{#rollLess() success 50}}
                  <!-- Is Fumble -->
                  {{#rollGreater() roll1 95}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollGreater() roll1 95}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 96}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll1 96}}
                {{/rollLess() success 50}}
              {{/rollGreater() roll1 success}}
            {{/rollGreater() roll1 roll2}}
            <!-- Are roll1 and roll2 equal-->
            {{#rollTotal() roll1 roll2}}
              <!-- 01 is always Critical -->
              {{#rollTotal() roll1 1}}
                <td class="template_value"><b data-i18n="critical">Critical</b></td>
              {{/rollTotal() roll1 1}}
              <!-- Is Success -->
              {{#rollBetween() roll1 2 success}}
                <!-- Is Standard -->
                {{#rollGreater() roll1 hard}}
                  <td class="template_value" data-i18n="success">Success</td>
                {{/rollGreater() roll1 hard}}
                <!-- Is Hard or Extreme -->
                {{#rollBetween() roll1 2 hard}}
                  <!-- Is Hard -->
                  {{#rollGreater() roll1 extreme}}
                    <td class="template_value" data-i18n="hard">Hard</td>
                  {{/rollGreater() roll1 extreme}}
                  <!-- Is Extreme -->
                  {{#rollBetween() roll1 2 extreme}}
                    <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                  {{/rollBetween() roll1 2 extreme}}
                {{/rollBetween() roll1 2 hard}}
              {{/rollBetween() roll1 2 success}}
              <!-- Is Not Success -->
              {{#rollGreater() roll1 success}}
                <!-- Is skill >= 50 -->
                {{#rollGreater() success 49}}
                  <!-- Is Fumble -->
                  {{#rollTotal() roll1 100}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollTotal() roll1 100}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 100}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll1 100}}
                {{/rollGreater() success 49}}
                <!-- Is skill < 50 -->
                {{#rollLess() success 50}}
                  <!-- Is Fumble -->
                  {{#rollGreater() roll1 95}}
                    <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                  {{/rollGreater() roll1 95}}
                  <!-- Is Fail -->
                  {{#rollLess() roll1 96}}
                    <td class="template_value" data-i18n="fail">Fail</td>
                  {{/rollLess() roll1 96}}
                {{/rollLess() success 50}}
              {{/rollGreater() roll1 success}}
            {{/rollTotal() roll1 roll2}}
        </tr>
        <tr style="background:#F2DEDE;">
            <td class="template_label">-2:</td>
            <!-- Is roll2 greater than roll1 -->
            {{#rollGreater() roll2 roll1}}
              <!-- Is roll3 greater than roll2-->
              {{#rollGreater() roll3 roll2}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll3 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll3 1}}
                <!-- Is Success -->
                {{#rollBetween() roll3 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll3 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll3 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll3 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll3 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll3 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll3 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll3 2 extreme}}
                  {{/rollBetween() roll3 2 hard}}
                {{/rollBetween() roll3 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll3 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll3 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll3 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll3 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll3 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll3 success}}
              {{/rollGreater() roll3 roll2}}
              <!-- Is roll2 greater than roll3 -->
              {{#rollGreater() roll2 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll2 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll2 1}}
                <!-- Is Success -->
                {{#rollBetween() roll2 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll2 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll2 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll2 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll2 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll2 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll2 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll2 2 extreme}}
                  {{/rollBetween() roll2 2 hard}}
                {{/rollBetween() roll2 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll2 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll2 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll2 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll2 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll2 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll2 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll2 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll2 success}}
              {{/rollGreater() roll2 roll3}}
              <!-- Are roll2 and roll3 equal-->
              {{#rollTotal() roll2 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll2 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll2 1}}
                <!-- Is Success -->
                {{#rollBetween() roll2 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll2 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll2 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll2 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll2 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll2 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll2 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll2 2 extreme}}
                  {{/rollBetween() roll2 2 hard}}
                {{/rollBetween() roll2 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll2 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll2 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll2 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll2 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll2 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll2 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll2 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll2 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll2 success}}
              {{/rollTotal() roll2 roll3}}
            {{/rollGreater() roll2 roll1}}
            <!-- Is roll1 greater than roll2 -->
            {{#rollGreater() roll1 roll2}}
              <!-- Is roll3 greater than roll1-->
              {{#rollGreater() roll3 roll1}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll3 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll3 1}}
                <!-- Is Success -->
                {{#rollBetween() roll3 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll3 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll3 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll3 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll3 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll3 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll3 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll3 2 extreme}}
                  {{/rollBetween() roll3 2 hard}}
                {{/rollBetween() roll3 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll3 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll3 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll3 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll3 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll3 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll3 success}}
              {{/rollGreater() roll3 roll1}}
              <!-- Is roll1 greater than roll3 -->
              {{#rollGreater() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollGreater() roll1 roll3}}
              <!-- Are roll1 and roll3 equal-->
              {{#rollTotal() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollTotal() roll1 roll3}}
            {{/rollGreater() roll1 roll2}}
            <!-- Are roll1 and roll2 equal-->
            {{#rollTotal() roll1 roll2}}
              <!-- Is roll3 greater than roll1-->
              {{#rollGreater() roll3 roll1}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll3 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll3 1}}
                <!-- Is Success -->
                {{#rollBetween() roll3 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll3 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll3 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll3 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll3 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll3 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll3 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll3 2 extreme}}
                  {{/rollBetween() roll3 2 hard}}
                {{/rollBetween() roll3 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll3 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll3 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll3 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll3 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll3 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll3 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll3 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll3 success}}
              {{/rollGreater() roll3 roll1}}
              <!-- Is roll1 greater than roll3 -->
              {{#rollGreater() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollGreater() roll1 roll3}}
              <!-- Are roll1 and roll3 equal-->
              {{#rollTotal() roll1 roll3}}
                <!-- 01 is always Critical -->
                {{#rollTotal() roll1 1}}
                  <td class="template_value"><b data-i18n="critical">Critical</b></td>
                {{/rollTotal() roll1 1}}
                <!-- Is Success -->
                {{#rollBetween() roll1 2 success}}
                  <!-- Is Standard -->
                  {{#rollGreater() roll1 hard}}
                    <td class="template_value" data-i18n="success">Success</td>
                  {{/rollGreater() roll1 hard}}
                  <!-- Is Hard or Extreme -->
                  {{#rollBetween() roll1 2 hard}}
                    <!-- Is Hard -->
                    {{#rollGreater() roll1 extreme}}
                      <td class="template_value" data-i18n="hard">Hard</td>
                    {{/rollGreater() roll1 extreme}}
                    <!-- Is Extreme -->
                    {{#rollBetween() roll1 2 extreme}}
                      <td class="template_value"><b data-i18n="extreme">Extreme</b></td>
                    {{/rollBetween() roll1 2 extreme}}
                  {{/rollBetween() roll1 2 hard}}
                {{/rollBetween() roll1 2 success}}
                <!-- Is Not Success -->
                {{#rollGreater() roll1 success}}
                  <!-- Is skill >= 50 -->
                  {{#rollGreater() success 49}}
                    <!-- Is Fumble -->
                    {{#rollTotal() roll1 100}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollTotal() roll1 100}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 100}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 100}}
                  {{/rollGreater() success 49}}
                  <!-- Is skill < 50 -->
                  {{#rollLess() success 50}}
                    <!-- Is Fumble -->
                    {{#rollGreater() roll1 95}}
                      <td class="template_value"><b data-i18n="fumble">Fumble</b></td>
                    {{/rollGreater() roll1 95}}
                    <!-- Is Fail -->
                    {{#rollLess() roll1 96}}
                      <td class="template_value" data-i18n="fail">Fail</td>
                    {{/rollLess() roll1 96}}
                  {{/rollLess() success 50}}
                {{/rollGreater() roll1 success}}
              {{/rollTotal() roll1 roll3}}
            {{/rollTotal() roll1 roll2}}
        </tr>
        <tr><td class="template_label" data-i18n="dam">Dam:</td><td class="template_value">{{damage}}</td></tr>
    </table>
</rolltemplate>

<!--  Smaller Template
&{template:coc-1} {{name=Test}} {{modifier=[[10]]}} {{success=[[50]]}} {{hard=[[floor(50/2)]]}} {{extreme=[[floor(50/5)]]}} {{roll1=[[1d100]]}}---------------------------------------------------------------------------------------------------------
-->
<rolltemplate class="sheet-rolltemplate-coc-1">
    <table>
        {{#rollTotal() modifier 0}}
        <caption>{{name}}</caption>
		{{/rollTotal() modifier 0}}
		
		{{#^rollTotal() modifier 0}}
        <caption>{{name}} | {{modifier}}</caption>
		{{/^rollTotal() modifier 0}}

        <tr>
            <td class="template_label" data-i18n="value">Value:</td>
            <td class="template_value">{{success}}/{{hard}}/{{extreme}}</td>
        </tr>

        <tr>
            <td class="template_label" data-i18n="rolled">Rolled:</td>
            <td class="template_value">{{roll1}}</td>
        </tr>

        <!-- Results Section -->

        {{#rollTotal() roll1 1}}
        <tr class="template_row_background">
            <td class="template_label" data-i18n="result">Result:</td>
            <td class="template_value_critical" data-i18n="critical">Critical</td>
        </tr>
        {{/rollTotal() roll1 1}}

        {{#rollBetween() roll1 2 success}}
            {{#rollGreater() roll1 hard}}
            <tr class="template_row_background">
                <td class="template_label" data-i18n="result">Result:</td>
                <td class="template_value_success" data-i18n="success">Success</td>
            </tr>
            {{/rollGreater() roll1 hard}}

            {{#rollBetween() roll1 2 hard}}
                {{#rollGreater() roll1 extreme}}
                <tr class="template_row_background">
                    <td class="template_label" data-i18n="result">Result:</td>
                    <td class="template_value_hard" data-i18n="hard">Hard</td>
                </tr>
                {{/rollGreater() roll1 extreme}}

                {{#rollBetween() roll1 2 extreme}}
                <tr class="template_row_background">
                    <td class="template_label" data-i18n="result">Result:</td>
                    <td class="template_value_extreme" data-i18n="extreme">Extreme</td>
                </tr>
                {{/rollBetween() roll1 2 extreme}}
            {{/rollBetween() roll1 2 hard}}
        {{/rollBetween() roll1 2 success}}

        {{#rollGreater() roll1 success}}
            {{#rollGreater() success 49}}
                {{#rollTotal() roll1 100}}
                <tr class="template_row_background">
                    <td class="template_label" data-i18n="result">Result:</td>
                    <td class="template_value_fumble" data-i18n="fumble">Fumble</td>
                </tr>
                {{/rollTotal() roll1 100}}

                {{#rollLess() roll1 100}}
                <tr class="template_row_background">
                    <td class="template_label" data-i18n="result">Result:</td>
                    <td class="template_value_fail" data-i18n="fail">Fail</td>
                </tr>
                {{/rollLess() roll1 100}}
            {{/rollGreater() success 49}}

            {{#rollLess() success 50}}
                {{#rollGreater() roll1 95}}
                <tr class="template_row_background">
                    <td class="template_label" data-i18n="result">Result:</td>
                    <td class="template_value_fumble"><b data-i18n="fumble">Fumble</b></td>
                </tr>
                {{/rollGreater() roll1 95}}

                {{#rollLess() roll1 96}}
                <tr class="template_row_background">
                    <td class="template_label" data-i18n="result">Result:</td>
                    <td class="template_value_fail" data-i18n="fail">Fail</td>
                </tr>
                {{/rollLess() roll1 96}}
            {{/rollLess() success 50}}
        {{/rollGreater() roll1 success}}

    </table>
</rolltemplate>

<!--
&{template:coc-attack-1} ---------------------------------------------------------------------------------------------------------
-->
<rolltemplate class="sheet-rolltemplate-coc-attack-1">
    <table>
		{{#rollTotal() modifier 0}}
        <caption>{{name}}</caption>
		{{/rollTotal() modifier 0}}
		
		{{#^rollTotal() modifier 0}}
        <caption>{{name}} | {{modifier}}</caption>
		{{/^rollTotal() modifier 0}}

		<tr>
            <td class="template_label" data-i18n="value">Value:</td>
            <td class="template_value">{{success}}/{{hard}}/{{extreme}}</td>
        </tr>		

        {{#malf}}
        <tr>
            <td class="template_label" data-i18n="malf">Malf:</td>
            <td class="template_value">{{malf}}</td>
        </tr>
        {{/malf}}

        <tr>
            <td class="template_label" data-i18n="rolled">Rolled:</td>
            <td class="template_value">{{roll1}}</td>
        </tr>

        <!-- Results Row(s) - Each condition outputs a full <tr> -->

        {{#rollTotal() roll1 1}}
        <tr class="template_row_background">
            <td class="template_label" data-i18n="result">Result:</td>
            <td class="template_value_critical" data-i18n="critical">Critical</td>
        </tr>
        {{/rollTotal() roll1 1}}

        {{#rollBetween() roll1 2 success}}
            {{#rollGreater() roll1 hard}}
            <tr class="template_row_background">
                <td class="template_label" data-i18n="result">Result:</td>
                <td class="template_value_success" data-i18n="success">Success</td>
            </tr>
            {{/rollGreater() roll1 hard}}

            {{#rollBetween() roll1 2 hard}}
                {{#rollGreater() roll1 extreme}}
                <tr class="template_row_background">
                    <td class="template_label" data-i18n="result">Result:</td>
                    <td class="template_value_hard" data-i18n="hard">Hard</td>
                </tr>
                {{/rollGreater() roll1 extreme}}

                {{#rollBetween() roll1 2 extreme}}
                <tr class="template_row_background">
                    <td class="template_label" data-i18n="result">Result:</td>
                    <td class="template_value_extreme" data-i18n="extreme">Extreme</td>
                </tr>
                {{/rollBetween() roll1 2 extreme}}
            {{/rollBetween() roll1 2 hard}}
        {{/rollBetween() roll1 2 success}}

        {{#rollGreater() roll1 success}}
            {{#rollGreater() success 49}}
                {{#rollTotal() roll1 100}}
                <tr class="template_row_background">
                    <td class="template_label" data-i18n="result">Result:</td>
                    <td class="template_value_fumble" data-i18n="fumble">Fumble</td>
                </tr>
                {{/rollTotal() roll1 100}}

                {{#rollLess() roll1 100}}
                <tr class="template_row_background">
                    <td class="template_label" data-i18n="result">Result:</td>
                    <td class="template_value_fail" data-i18n="fail">Fail</td>
                </tr>
                {{/rollLess() roll1 100}}
            {{/rollGreater() success 49}}

            {{#rollLess() success 50}}
                {{#rollGreater() roll1 95}}
                <tr class="template_row_background">
                    <td class="template_label" data-i18n="result">Result:</td>
                    <td class="template_value_fumble" data-i18n="fumble">Fumble</td>
                </tr>
                {{/rollGreater() roll1 95}}

                {{#rollLess() roll1 96}}
                <tr class="template_row_background">
                    <td class="template_label" data-i18n="result">Result:</td>
                    <td class="template_value_fail" data-i18n="fail">Fail</td>
                </tr>
                {{/rollLess() roll1 96}}
            {{/rollLess() success 50}}
        {{/rollGreater() roll1 success}}

        <!-- Damage and Other Info -->

        <tr>
            <td class="template_label" data-i18n="dam">Dam:</td>
            <td class="template_value">{{damage}}</td>
        </tr>

        {{#rollTotal() roll1 1}}
        <tr>
            <td class="template_label" data-i18n="extreme-damage">Extreme Dam:</td>
            <td class="template_value">{{extremedamage}}</td>
        </tr>
        {{/rollTotal() roll1 1}}

        {{#rollBetween() roll1 2 extreme}}
        <tr>
            <td class="template_label" data-i18n="extreme-damage">Extreme Dam:</td>
            <td class="template_value">{{extremedamage}}</td>
        </tr>
        {{/rollBetween() roll1 2 extreme}}

        {{#^rollTotal() strain 0}}
        <tr>
            <td class="template_label" data-i18n="strain">Strain:</td>
            <td class="template_value">{{strain}}</td>
        </tr>
        {{/^rollTotal() strain 0}}

    </table>
</rolltemplate>


<!-- WORKERS -->
<script type="text/worker">
const debug_on = true;
const debug_on_trace = true;

// Maps //
const backgroundSkillMap = {
  alteri: {
    break_faced_radical: {
      deception: "Deception", persuade: "Persuade"
    },
    ghostline_runner: {
      slicing: "Slicing", streetwise: "Streetwise"
    },
    legacy_bearer: {
      history: "History", impersonation: "Impersonation"
    },
    soft_year_drifter: {
      insight: "Insight", stealth: "Stealth"
    },
    veilhaven_attendant: {
      arcana: "Arcana", disguise: "Disguise"
    }
  },
  draevi: {
    forgeblood_scavenger: {
      electronics: "Electronics", mechanics: "Mechanics"
    },
    horn_carved_wanderer: {
      navigate: "Navigate", survival: "Survival"
    },
    spiritbound_techshaper: {
      slicing: "Slicing", spirit_lore: "Spirit Lore"
    },
    tradition_keeper: {
      occult: "Occult Lore", veil_lore: "Veil Lore"
    },
    urban_tread: {
      athletics: "Athletics", streetwise: "Streetwise"
    }
  },
  human: {
    ash_war_refugee: {
      first_aid: "First Aid", insight: "Insight"
    },
    data_hatched: {
      alchemy: "Alchemy", anthropology: "Anthropology", archaeology: "Archaeology", architecture: "Architecture", biology: "Biology", chemistry: "Chemistry", engineering: "Engineering", medicine: "Medicine", physics: "Physics", slicing: "Slicing"
    },
    enclave_born: {
      etiquette_high_society: "Etiquette(H. Soc.)", persuade: "Persuade"
    },
    gutter_fire_youth: {
      stealth: "Stealth", streetwise: "Streetwise"
    },
    outpost_raised: {
      survival: "Survival(Wild)", firearms_rifle: "Rifle/Shotgun"
    },
    scavsteel_whelp: {
      electronics: "Electronics", mechanics: "Mechanics"
    }
  },
  lyranni: {
    aelvareth_devotee: {
      etiquette_lyranni: "Etiquette(Lyranni)", occult: "Occult Lore"
    },
    echoborne: {
      arcana: "Arcana", etiquette_lyranni: "Etiquette(Lyranni)"
    },
    glide_spire_scion: {
      persuade: "Persuade", streetwise: "Streetwise"
    },
    whisper_walker: {
      occult: "Occult Lore", perception: "Perception"
    },
    zurethkai_flameborn: {
      magic_technomancy: "Magic(Technomancy)", slicing: "Slicing"
    }  
  }
};

const talentSkillMap = {
  alteri: {
    maskwrights_grace: {
      disguise: "Disguise", impersonation: "Impersonation", insight: "Insight"
    },
    shaped_for_subtlety: {
      insight: "Insight", slicing: "Slicing", stealth: "Stealth"
    }
  },
  draevi: {
    clan_blooded: {
      intimidate: "Intimidate", survival: "Survival", track: "Track"
    },
    scavengers_edge: {
      electronics: "Electronics", mechanics: "Mechanics", streetwise: "Streetwise"
    }
  },
  human: {
    quick_fixer: {
      electronics: "Electronics", mechanics: "Mechanics", slicing: "Slicing"    
    },
    skilled_focus: {
      // Empty on purpose
    }
  },
  lyranni: {
    aether_override: {
      electronics: "Electronics", mechanics: "Mechanics", slicing: "Slicing"
    },
    echo_in_the_veins: {
      dance: "Dance", impersonation: "Impersonation", instrument: "Instrument", singing: "Singing", streetwise: "Streetwise", insight: "Insight"
    }
  }
};

const raceDataMap = {
  "alteri": {
    label: "Alteri",
    language: "Nualeth",
    stats: {
      str: { base: 15, max: 75 }, dex: { base: 15, max: 80 }, con: { base: 15, max: 75 },
      siz: { base: 40, max: 80 }, int: { base: 40, max: 80 }, edu: { base: 15, max: 80 },
      pow: { base: 15, max: 85 }, app: { base: 15, max: 85 }, mag: { base: 0, max: 80 }
    }
  },
  "draevi": {
    label: "Draevi",
    language: "Khevala",
    stats: {
      str: { base: 15, max: 70 }, dex: { base: 15, max: 80 }, con: { base: 15, max: 90 },
      siz: { base: 40, max: 80 }, int: { base: 40, max: 80 }, edu: { base: 15, max: 80 },
      pow: { base: 15, max: 80 }, app: { base: 15, max: 80 }, mag: { base: 0, max: 80 }
    }
  },
  "feran": {
    label: "Feran",
    language: "A",
    stats: {
      str: { base: 15, max: 80 }, dex: { base: 15, max: 90 }, con: { base: 15, max: 80 },
      siz: { base: 35, max: 70 }, int: { base: 40, max: 80 }, edu: { base: 15, max: 80 },
      pow: { base: 15, max: 80 }, app: { base: 15, max: 80 }, mag: { base: 0, max: 80 }
    }
  },
  "human": {
    label: "Human",
    language: "Caltheran",
    stats: {
      str: { base: 15, max: 80 }, dex: { base: 15, max: 80 }, con: { base: 15, max: 80 },
      siz: { base: 40, max: 80 }, int: { base: 40, max: 80 }, edu: { base: 15, max: 80 },
      pow: { base: 15, max: 80 }, app: { base: 15, max: 80 }, mag: { base: 0, max: 80 }
    }
  },
  "khadra": {
    label: "Khadra",
    language: "Nari",
    stats: {
      str: { base: 15, max: 90 }, dex: { base: 15, max: 70 }, con: { base: 15, max: 80 },
      siz: { base: 50, max: 90 }, int: { base: 40, max: 80 }, edu: { base: 15, max: 80 },
      pow: { base: 15, max: 80 }, app: { base: 15, max: 70 }, mag: { base: 0, max: 80 }
    }
  },
  "kitsu": {
    label: "Kitsu",
    language: "B",
    stats: {
      str: { base: 15, max: 75 }, dex: { base: 15, max: 80 }, con: { base: 15, max: 80 },
      siz: { base: 35, max: 75 }, int: { base: 40, max: 85 }, edu: { base: 15, max: 80 },
      pow: { base: 15, max: 80 }, app: { base: 15, max: 80 }, mag: { base: 0, max: 85 }
    }
  },
  "lyranni": {
    label: "Lyranni",
    language: "ThalResh",
    stats: {
      str: { base: 15, max: 70 }, dex: { base: 15, max: 80 }, con: { base: 15, max: 80 },
      siz: { base: 30, max: 70 }, int: { base: 40, max: 80 }, edu: { base: 15, max: 80 },
      pow: { base: 15, max: 90 }, app: { base: 15, max: 80 }, mag: { base: 0, max: 90 }
    }
  },
  "veyra": {
    label: "Veyra",
    language: "C",
    stats: {
      str: { base: 15, max: 80 }, dex: { base: 15, max: 80 }, con: { base: 15, max: 80 },
      siz: { base: 30, max: 60 }, int: { base: 40, max: 90 }, edu: { base: 40, max: 90 },
      pow: { base: 15, max: 80 }, app: { base: 15, max: 80 }, mag: { base: 0, max: 80 }
    }
  }
};

const skillMapTable = {
 "Archery": { label: "archery", base: "10", skill: "archery_skill_mdr", bonus: "archery_mdr", group: "Combat", notes: "Archery" },
 "Dodge (DEX/2)": { label: "dodge", base: "0", skill: "dodge_skill_mdr", bonus: "dodge_mdr", group: "Combat", notes: "Half of your DEX score" },
 "Gunnery": { label: "gunnery", base: "10", skill: "gunnery_skill_mdr", bonus: "gunnery_mdr", group: "Combat", notes: "Vehicle-mounted or automated weapons" },
 "Heavy Weapons": { label: "heavy_weapons", base: "10", skill: "heavy_weapons_skill_mdr", bonus: "heavy_weapons_mdr", group: "Combat", notes: "Heavy Weapons" },
 "Melee Weapons": { label: "melee_weapons", base: "20", skill: "melee_weapons_skill_mdr", bonus: "melee_weapons_mdr", group: "Combat", notes: "Melee Weapons" },
 "Pistols": { label: "firearms_handgun", base: "20", skill: "firearms_handgun_skill_mdr", bonus: "firearms_handgun_mdr", group: "Combat", notes: "Pistols" },
 "Rifles/Shotguns": { label: "firearms_rifle", base: "25", skill: "firearms_rifle_skill_mdr", bonus: "firearms_rifle_mdr", group: "Combat", notes: "Rifles/Shotguns" },
 "Submachine Guns (SMGs)": { label: "firearms_smg", base: "15", skill: "firearms_smg_skill_mdr", bonus: "firearms_smg_mdr", group: "Combat", notes: "Submachine Guns (SMGs)" },
 "Thrown Weapons": { label: "throw", base: "20", skill: "throw_skill_mdr", bonus: "throw_mdr", group: "Combat", notes: "Thrown Weapons" },
 "Unarmed": { label: "unarmed", base: "25", skill: "unarmed_skill_mdr", bonus: "unarmed_mdr", group: "Combat", notes: "Unarmed combat" },
 "Athletics": { label: "athletics", base: "20", skill: "athletics_skill_mdr", bonus: "athletics_mdr", group: "Physical", notes: "Running, jumping, climbing, endurance" },
 "Coordination": { label: "coordination", base: "20", skill: "coordination_skill_mdr", bonus: "coordination_mdr", group: "Physical", notes: "Balance, agility, acrobatics" },
 "Swim": { label: "swim", base: "20", skill: "swim_skill_mdr", bonus: "swim_mdr", group: "Physical", notes: "Swim" },
 "Alteration": { label: "magic_alteration", base: "0", skill: "magic_alteration_skill_mdr", bonus: "magic_alteration_mdr", group: "Magic", notes: "Enhances physical attributes or alters the physical world. Includes speed, strength, resilience, and spatial shifts." },
 "Elemental": { label: "magic_elemental", base: "0", skill: "magic_elemental_skill_mdr", bonus: "magic_elemental_mdr", group: "Magic", notes: "The art of shaping and controlling natural elements such as fire, water, air, and earth through arcane force. Focuses on raw power and environmental manipulation." },
 "Enchantment": { label: "magic_enchantment", base: "0", skill: "magic_enchantment_skill_mdr", bonus: "magic_enchantment_mdr", group: "Magic", notes: "Mental influencing magic that alters thoughts, emotions, or behavior. Includes charms, compulsions, and emotional sway." },
 "Illusion": { label: "magic_illusion", base: "0", skill: "magic_illusion_skill_mdr", bonus: "magic_illusion_mdr", group: "Magic", notes: "Magic of trickery and perception. Creates false images, alters appearances, or hides things through manipulation of the senses." },
 "Necromancy": { label: "magic_necromancy", base: "0", skill: "magic_necromancy_skill_mdr", bonus: "magic_necromancy_mdr", group: "Magic", notes: "Manipulates the forces of death and the soul. Involves raising the dead, draining life, or communicating with spirits of the deceased." },
 "Restoration": { label: "magic_restoration", base: "0", skill: "magic_restoration_skill_mdr", bonus: "magic_restoration_mdr", group: "Magic", notes: "Healing, cleansing, and regeneration magic that mends wounds, purifies corruption, or restores vitality." },
 "Summoning": { label: "magic_summoning", base: "0", skill: "magic_summoning_skill_mdr", bonus: "magic_summoning_mdr", group: "Magic", notes: "Calls forth spirits, creatures, or arcane constructs from beyond to aid, defend, or serve the caster." },
 "Technomancy": { label: "magic_technomancy", base: "0", skill: "magic_technomancy_skill_mdr", bonus: "magic_technomancy_mdr", group: "Magic", notes: "The fusion of magic with technology. Enables interaction with archanotech, digital constructs, and spell-driven machines." },
 "Warding": { label: "magic_warding", base: "0", skill: "magic_warding_skill_mdr", bonus: "magic_warding_mdr", group: "Magic", notes: "Protective magic used to shield, block, or dispel incoming threats both physical and magical." },
 "Universal": { label: "magic_universal", base: "0", skill: "magic_universal_skill_mdr", bonus: "magic_universal_mdr", group: "Magic", notes: "Covers basic arcane techniques used across traditions detecting, sensing, or disrupting magical phenomena." },
 "Archanotech": { label: "archanotech", base: "1", skill: "archanotech_skill_mdr", bonus: "archanotech_mdr", group: "Tech/Cyber", notes: "Construction, repair, and interfacing with arcane-tech hybrids" },
 "Computer Use": { label: "computer_use", base: "10", skill: "computer_use_skill_mdr", bonus: "computer_use_mdr", group: "Tech/Cyber", notes: "General software and system operation" },
 "Cybernetics": { label: "cybernetics", base: "1", skill: "cybernetics_skill_mdr", bonus: "cybernetics_mdr", group: "Tech/Cyber", notes: "Installing and maintaining cyberware" },
 "Demolitions": { label: "demolitions", base: "1", skill: "demolitions_skill_mdr", bonus: "demolitions_mdr", group: "Tech/Cyber", notes: "Demolitions" },
 "Electronics": { label: "electronics", base: "10", skill: "electronics_skill_mdr", bonus: "electronics_mdr", group: "Tech/Cyber", notes: "circuitry, electronic repair" },
 "Mechanics": { label: "mechanics", base: "10", skill: "mechanics_skill_mdr", bonus: "mechanics_mdr", group: "Tech/Cyber", notes: "Mechanics" },
 "Security Systems": { label: "security", base: "1", skill: "security_systems_skill_mdr", bonus: "security_systems_mdr", group: "Tech/Cyber", notes: "Understanding and bypassing surveillance, sensors, magitech security, and physical/digital alarm systems." },
 "Slicing": { label: "slicing", base: "5", skill: "slicing_skill_mdr", bonus: "slicing_mdr", group: "Tech/Cyber", notes: "Digital infiltration, cybersecurity" },
 "Drive (Ground Vehicles)": { label: "drive_auto", base: "20", skill: "drive_auto_skill_mdr", bonus: "drive_auto_mdr", group: "Pilot", notes: "Drive (Ground Vehicles)" },
 "Drone Operation": { label: "drone_operation", base: "10", skill: "drone_operation_skill_mdr", bonus: "drone_operation_mdr", group: "Pilot", notes: "Drone Operation" },
 "Pilot (Aircraft)": { label: "pilotaircraft", base: "1", skill: "pilotaircraft_skill_mdr", bonus: "pilotaircraft_mdr", group: "Pilot", notes: "Pilot (Aircraft)" },
 "Pilot (ARC)": { label: "pilotarc", base: "5", skill: "pilotarc_skill_mdr", bonus: "pilotarc_mdr", group: "Pilot", notes: "Pilot (ARC)" },
 "Pilot (Boat)": { label: "pilotboat", base: "1", skill: "pilotboat_skill_mdr", bonus: "pilotboat_mdr", group: "Pilot", notes: "Pilot (Boat)" },
 "Alchemy": { label: "alchemy", base: "1", skill: "alchemy_skill_mdr", bonus: "alchemy_mdr", group: "Science/Knowledge", notes: "Science (Alchemy)" },
 "Anthropology": { label: "anthropology", base: "1", skill: "anthropology_skill_mdr", bonus: "anthropology_mdr", group: "Science/Knowledge", notes: "Science(Anthropology)" },
 "Arcana": { label: "arcana", base: "5", skill: "arcana_skill_mdr", bonus: "arcana_mdr", group: "Science/Knowledge", notes: "Understanding of magical theory and principles" },
 "Archaeology": { label: "archaeology", base: "1", skill: "archaeology_skill_mdr", bonus: "archaeology_mdr", group: "Science/Knowledge", notes: "Science(Archaeology)" },
 "Architecture": { label: "architecture", base: "1", skill: "architecture_skill_mdr", bonus: "architecture_mdr", group: "Science/Knowledge", notes: "Architecture" },
 "Biology": { label: "biology", base: "1", skill: "biology_skill_mdr", bonus: "biology_mdr", group: "Science/Knowledge", notes: "Science (Biology)" },
 "Chemistry": { label: "chemistry", base: "1", skill: "chemistry_skill_mdr", bonus: "chemistry_mdr", group: "Science/Knowledge", notes: "Science (Chemistry)" },
 "Engineering": { label: "engineering", base: "1", skill: "engineering_skill_mdr", bonus: "engineering_mdr", group: "Science/Knowledge", notes: "Science (Engineering)" },
 "Forbidden Lore": { label: "forbidden_lore", base: "0", skill: "forbidden_lore_skill_mdr", bonus: "forbidden_lore_mdr", group: "Science/Knowledge", notes: "Cosmic horrors, veiled truths" },
 "History": { label: "history", base: "5", skill: "history_skill_mdr", bonus: "history_mdr", group: "Science/Knowledge", notes: "History" },
 "Investigation": { label: "investigation", base: "10", skill: "investigation_skill_mdr", bonus: "investigation_mdr", group: "Science/Knowledge", notes: "Used to reconstruct events, analyze clues, interpret evidence, and solve mysteries." },
 "Law": { label: "law", base: "5", skill: "law_skill_mdr", bonus: "law_mdr", group: "Science/Knowledge", notes: "Law" },
 "Medicine": { label: "medicine", base: "1", skill: "medicine_skill_mdr", bonus: "medicine_mdr", group: "Science/Knowledge", notes: "Medicine" },
 "Natural World": { label: "natural_world", base: "10", skill: "natural_world_skill_mdr", bonus: "natural_world_mdr", group: "Science/Knowledge", notes: "Natural World" },
 "Occult Lore": { label: "occult", base: "5", skill: "occult_skill_mdr", bonus: "occult_mdr", group: "Science/Knowledge", notes: "Non-practitioner knowledge of magic and the supernatural" },
 "Physics": { label: "physics", base: "1", skill: "physics_skill_mdr", bonus: "physics_mdr", group: "Science/Knowledge", notes: "Science (Physics)" },
 "Spirit Lore": { label: "spirit_lore", base: "5", skill: "spirit_lore_skill_mdr", bonus: "spirit_lore_mdr", group: "Science/Knowledge", notes: "Spirit Lore" },
 "Veil Lore": { label: "veil_lore", base: "5", skill: "veil_lore_skill_mdr", bonus: "veil_lore_mdr", group: "Science/Knowledge", notes: "Veil Lore" },
 "Bureaucracy": { label: "bureaucracy", base: "5", skill: "bureaucracy_skill_mdr", bonus: "bureaucracy_mdr", group: "Social", notes: "Understanding and navigating administrative, legal, and governmental systems." },
 "Charm": { label: "charm", base: "15", skill: "charm_skill_mdr", bonus: "charm_mdr", group: "Social", notes: "Charm" },
 "Dance": { label: "dance", base: "5", skill: "dance_skill_mdr", bonus: "dance_mdr", group: "Social", notes: "Performance (Dance)" },
 "Deception": { label: "deception", base: "5", skill: "deception_skill_mdr", bonus: "deception_mdr", group: "Social", notes: "Deception" },
 "Disguise": { label: "disguise", base: "5", skill: "disguise_skill_mdr", bonus: "disguise_mdr", group: "Social", notes: "Disguise" },
 "Etiquette (High Society)": { label: "etiquette_high_society", base: "10", skill: "etiquette_high_society_skill_mdr", bonus: "etiquette_high_society_mdr", group: "Social", notes: "Etiquette (High Society)" },
 "Etiquette (Lyranni)": { label: "etiquette_lyranni", base: "10", skill: "etiquette_lyranni_skill_mdr", bonus: "etiquette_lyranni_mdr", group: "Social", notes: "Etiquette (Lyranni)" },
 "Etiquette (Other)": { label: "etiquette_other", base: "10", skill: "etiquette_other_skill_mdr", bonus: "etiquette_other_mdr", group: "Social", notes: "Etiquette may be specialized: (Corporate), (Military), (Underworld), (Racial), etc." },
 "Forgery": { label: "forgery", base: "1", skill: "forgery_skill_mdr", bonus: "forgery_mdr", group: "Social", notes: "Creating falsified documents, IDs, credentials physical or digital." },
 "Impersonation": { label: "impersonation", base: "5", skill: "impersonation_skill_mdr", bonus: "impersonation_mdr", group: "Social", notes: "Performance (Impersonation)" },
 "Insight": { label: "insight", base: "10", skill: "insight_skill_mdr", bonus: "insight_mdr", group: "Social", notes: "Insight" },
 "Instrument": { label: "instrument", base: "5", skill: "instrument_skill_mdr", bonus: "instrument_mdr", group: "Social", notes: "Performance (Instrument)" },
 "Intimidate": { label: "intimidate", base: "15", skill: "intimidate_skill_mdr", bonus: "intimidate_mdr", group: "Social", notes: "Lying, bluffing, maintaining covers, and creating false narratives across a wide range of scenarios." },
 "Interrogation": { label: "interrogation", base: "5", skill: "interrogation_skill_mdr", bonus: "interrogation_mdr", group: "Social", notes: "Extracting information through questioning, pressure, or manipulation." },
 "Persuade": { label: "persuade", base: "10", skill: "persuade_skill_mdr", bonus: "persuade_mdr", group: "Social", notes: "Persuade" },
 "Singing": { label: "singing", base: "5", skill: "singing_skill_mdr", bonus: "singing_mdr", group: "Social", notes: "Performance (Singing)" },
 "Streetwise": { label: "streetwise", base: "10", skill: "streetwise_skill_mdr", bonus: "streetwise_mdr", group: "Social", notes: "Streetwise" },
 "Animal Handling": { label: "animalhandling", base: "5", skill: "animalhandling_skill_mdr", bonus: "animalhandling_mdr", group: "Survival", notes: "Animal Handling" },
 "First Aid": { label: "first_aid", base: "30", skill: "first_aid_skill_mdr", bonus: "first_aid_mdr", group: "Survival", notes: "First Aid" },
 "Listen": { label: "listen", base: "20", skill: "listen_skill_mdr", bonus: "listen_mdr", group: "Survival", notes: "Listen" },
 "Navigate": { label: "navigate", base: "10", skill: "navigate_skill_mdr", bonus: "navigate_mdr", group: "Survival", notes: "Navigate" },
 "Perception": { label: "perception", base: "25", skill: "perception_skill_mdr", bonus: "perception_mdr", group: "Survival", notes: "Perception" },
 "Sleight of Hand": { label: "sleight_of_hand", base: "10", skill: "sleight_of_hand_skill_mdr", bonus: "sleight_of_hand_mdr", group: "Survival", notes: "Sleight of Hand" },
 "Stealth": { label: "stealth", base: "20", skill: "stealth_skill_mdr", bonus: "stealth_mdr", group: "Survival", notes: "Stealth" },
 "Survival (Wilderness)": { label: "survival", base: "10", skill: "survival_skill_mdr", bonus: "survival_mdr", group: "Survival", notes: "Survival (Wilderness)" },
 "Track": { label: "track", base: "10", skill: "track_skill_mdr", bonus: "track_mdr", group: "Survival", notes: "Track" },
 "Language(Racial)": { label: "language_own", base: "75", skill: "language_own_skill_mdr", bonus: "language_own_mdr", group: "Language", notes: "Racial Language" },
 "Language(Caltheran)": { label: "language_caltheran", base: "0", skill: "language_caltheran_skill_mdr", bonus: "language_caltheran_mdr", group: "Language", notes: "Calthern language" }
};

//----------------------- Tab Workers Start ----------------------//

// --------------------------------------
// Sheet Worker: Edit Mode Toggle
// --------------------------------------
on("clicked:edit_mode", () => {
  getAttrs(["edit_mode"], (values) => {
    const current = values.edit_mode || "off";
    const next = current === "on" ? "off" : "on";
    setAttrs({ edit_mode: next });
    if (typeof debug_on !== "undefined" && debug_on) {
      console.log(`Toggled Edit Mode: ${next}`);
    }
  });
});

// Dice Modifier Button Handler
on("clicked:-20 clicked:-10 clicked:10 clicked:20", (event) => {
  const clicked = event.triggerName.replace("clicked:", "");
  getAttrs(["dice_modifier_checkbox"], (values) => {
    const current = values.dice_modifier_checkbox || "0";
    const next = current === clicked ? "0" : clicked;
    setAttrs({ dice_modifier_checkbox: next });
  });
});


const tabList = ["skills", "background", "talents", "combat", "spells", "inventory", "backstory", "npcs", "vehicles"];

tabList.forEach(tab => {
    on(`clicked:${tab}`, () => {
		if (debug_on) console.log("Clicked tab", tab);
		setAttrs({ selected_tab: tab });
    });
});

const alteriBackgroundTabs = ["break_faced_radical", "ghostline_runner", "legacy_bearer", "soft_year_drifter", "veilhaven_attendant"];

alteriBackgroundTabs.forEach(tab => {
	on(`clicked:${tab}`, () => {
		if (debug_on)  console.log("Clicked tab", tab);
		setAttrs({ alteri_background_choice: tab });
		race_default_trigger: Date.now() // Triggers recalculation and is watched
	});
});

const draeviBackgroundTabs = ["forgeblood_scavenger", "horn_carved_wanderer", "spiritbound_techshaper", "tradition_keeper"];

draeviBackgroundTabs.forEach(tab => {
	on(`clicked:${tab}`, () => {
		if (debug_on) console.log("Clicked tab", tab);
		setAttrs({ draevi_background_choice: tab });
		race_default_trigger: Date.now() // Triggers recalculation and is watched
	});
});

const humanBackgroundTabs = ["ash_war_refugee", "data_hatched", "enclave_born", "gutter_fire_youth", "outpost_raised", "scavsteel_whelp"];

humanBackgroundTabs.forEach(tab => {
	on(`clicked:${tab}`, () => {
		if (debug_on) console.log("Clicked tab", tab);
		setAttrs({ human_background_choice: tab });
		race_default_trigger: Date.now() // Triggers recalculation and is watched
	});
});

const lyranniBackgroundTabs = ["aelvareth_devotee", "echoborne", "glide_spire_scion", "whisper_walker", "zurethkai_flameborn"];

lyranniBackgroundTabs.forEach(tab => {
	on(`clicked:${tab}`, () => {
		if (debug_on) console.log("Clicked tab", tab);
		setAttrs({ lyranni_background_choice: tab });
		race_default_trigger: Date.now() // Triggers recalculation and is watched
	});
});

const alteriTalentTabs = ["maskwrights_grace", "shaped_for_subtlety"];

alteriTalentTabs.forEach(tab => {
  on(`clicked:${tab}`, () => {
		if (debug_on) console.log("Clicked tab", tab);
		setAttrs({ alteri_talent_tab: tab });
		race_default_trigger: Date.now() // Triggers recalculation and is watched
  });
});

const draeviTalentTabs = ["clan_blooded", "scavengers_edge"];

draeviTalentTabs.forEach(tab => {
  on(`clicked:${tab}`, () => {
		if (debug_on) console.log("Clicked tab", tab);
		setAttrs({ draevi_talent_tab: tab });
		race_default_trigger: Date.now() // Triggers recalculation and is watched
  });
});

const humanTalentTabs = ["quick_fixer", "skilled_focus"];

humanTalentTabs.forEach(tab => {
	on(`clicked:${tab}`, () => {
		if (debug_on) console.log("Clicked tab", tab);
		setAttrs({ human_talent_tab: tab });
		race_default_trigger: Date.now() // Triggers recalculation and is watched
	});
});

const lyranniTalentTabs = ["aether_override", "echo_in_the_veins"];

lyranniTalentTabs.forEach(tab => {
  on(`clicked:${tab}`, () => {
		if (debug_on) console.log("Clicked tab", tab);
		setAttrs({ lyranni_talent_tab: tab });
		race_default_trigger: Date.now() // Triggers recalculation and is watched
  });
});

//----------------------- Tab Workers End ----------------------//

// Mirror select dropdown value to hidden input (for CSS Wizardry styling)
on("change:repeating_spells:spellprepared", function(eventInfo) {
  if (debug_on_trace) console.log ("[change:repeating_spells:spellprepared] Start");
  const match = eventInfo.sourceAttribute.match(/repeating_spells_([^_]+)_/);
  if (!match) return;

  const rowId = match[1];
  const sourceAttr = `repeating_spells_${rowId}_spellprepared`;
  const mirrorAttr = `repeating_spells_${rowId}_spellprepared_mirror`;

  getAttrs([sourceAttr], function(values) {
    const mirrorValue = values[sourceAttr] === "1" ? "1" : "0";
    setAttrs({ [mirrorAttr]: mirrorValue });
  });
});

// Sum spellcosts only for prepared spells
on("change:repeating_spells:spellcost change:repeating_spells:spellprepared remove:repeating_spells", function() {
  if (debug_on_trace) console.log ("[change:repeating_spells:spellcost change:repeating_spells:spellprepared remove:repeating_spells] Start");
  getSectionIDs("repeating_spells", function(ids) {
    const attrsToGet = ids.flatMap(id => [
      `repeating_spells_${id}_spellcost`,
      `repeating_spells_${id}_spellprepared`
    ]);

    getAttrs(attrsToGet, function(values) {
      let total = 0;
      ids.forEach(id => {
        const cost = parseFloat(values[`repeating_spells_${id}_spellcost`] || 0);
        const isPrepared = values[`repeating_spells_${id}_spellprepared`] === "1";
        if (isPrepared) total += cost;
      });
      setAttrs({ total_spellcost: total });
    });
  });
});

// Update overflow flag when spellcost or AC changes
on("change:total_spellcost change:ac", function () {
  if (debug_on_trace) console.log ("[change:total_spellcost change:ac] Start");
  getAttrs(["total_spellcost", "ac"], function (values) {
    const cost = parseFloat(values.total_spellcost) || 0;
    const capacity = parseFloat(values.ac) || 0;
    const isOver = cost > capacity ? "1" : "0";
	
    // Log the raw values and the comparison result
    if (debug_on) console.log("Total Spell Cost:", cost);
    if (debug_on) console.log("Arcane Capacity:", capacity);
    if (debug_on) console.log("Is Over Capacity:", isOver);
	
    setAttrs({ spellcost_overflow: isOver });
  });
});



function getAllBackgroundSkills(race) {
		if (debug_on_trace) console.log ("[getAllBackgroundSkills] Start");
  const skills = new Set();
  const backgrounds = backgroundSkillMap[race] || {};
  Object.values(backgrounds).forEach(skillGroup => {
    Object.keys(skillGroup).forEach(skill => skills.add(skill));
  });
  return [...skills];
}

function getAllTalentSkills(race) {
	if (debug_on_trace) console.log ("[getAllTalentSkills] Start");
  const skills = new Set();
  const talents = talentSkillMap[race] || {};
  Object.values(talents).forEach(skillGroup => {
    Object.keys(skill => skills.add(skill));
  });
  return [...skills];
}

// -------------------- working area start --------------- //

// == Sheet Worker.js ==
// Dependencies: skillMapTable, backgroundSkillMap, talentSkillMap, raceValueMap

// === Helpers ===

function resetAllMDRToBase(race, callback) {
		if (debug_on_trace) console.log ("[resetAllMDRToBase] Start");
  const skills = Object.keys(skillMapTable);
  const attrsToGet = skills.map(skill => `${skill}_skill_mdr`).concat(skills.map(skill => `${skill}_mdr`));

  getAttrs(attrsToGet, values => {
    const updates = {};
    skills.forEach(skill => {
      const base = parseInt(values[`${skill}_skill_mdr`] || "0", 10);
      updates[`${skill}_mdr`] = base;
    });
    if (debug_on) console.log("[resetAllMDRToBase]", updates);
    setAttrs(updates, callback);
  });
}

function applyAllSkillBonuses(race) {
	if (debug_on_trace) console.log ("[applyAllSkillBonuses] Start");
  const backgroundSkills = getAllBackgroundSkills(race);
  const talentSkills = getAllTalentSkills(race);

  const updates = {};
  Object.assign(updates, setDefaultSkillBonuses(race, backgroundSkills));
  Object.assign(updates, setDefaultTalentBonuses(race, talentSkills));

  if (debug_on) console.log("[applyAllSkillBonuses]", updates);
  setAttrs(updates);
}

on("change:showracials", () => {
	if (debug_on_trace) console.log ("[change:showracials] Start");
	getAttrs(["showracials", "language_own_txt", "language_caltheran_txt"], values => {
		const race = values.showracials || "";

		if (!raceDataMap[race]) {
			if (debug_on) console.log("[Skill Init] No race data for:", race);
			return;
		}

		const raceData = raceDataMap[race];
		const racialLang = raceData.language || "Racial";

		if (debug_on) {
			console.log("[showracials handler] Race:", race);
			console.log(`Racial Lang: ${racialLang}`);
		}

		handleRaceChange(race);

		const otherLang = race === "human" ? "Other" : "Caltheran";

		const updates = {
			language_own_txt: `${racialLang}(75%)`,
			language_caltheran_txt: `${otherLang}(EDU)`
		};

		setAttrs(updates);
	});
});

const registeredRaces = new Set();

function registerSkillHandler(racePrefix, triggerSkills, talentSources = []) {
		if (debug_on_trace) console.log ("[registerSkillHandler] Start");
	const key = `${racePrefix}`;
	if (registeredRaces.has(key)) return;
	registeredRaces.add(key);

	const allSkills = Object.values(skillMapTable).map(s => s.label);
	
	const otherSkills = Array.from({ length: 10 }, (_, i) => `otherskill${i + 1}`);
	
	const baseSkillLookup = Object.values(skillMapTable).reduce((map, skill) => {
		map[skill.label] = parseInt(skill.base || "0", 10);
		return map;
	}, {});

	const magicSchools = Object.values(skillMapTable)
	.filter(skill => skill.group === "Magic" && skill.label !== "magic_universal")
	.map(skill => skill.bonus); // bonus field is like "magic_alteration_mdr", "magic_elemental_mdr", etc


	const watched = [
		`${racePrefix}_mdr_checkbox`,
		"dex",
		"edu",
		"language_caltheran_skill_mdr",
		...magicSchools,
		...allSkills.map(skill => `${skill}_skill_mdr`),
		...otherSkills.map(skill => `${skill}_skill_mdr`),
		...triggerSkills.flatMap(skill => [
			`${racePrefix}_${skill}_bonus_mdr`,
			`${racePrefix}_talent_${skill}_bonus_mdr`
		]),
		...Object.keys(talentSkillMap[racePrefix]).map(talentKey => `${racePrefix}_${talentKey}_mdr_checkbox`)
	];

	const skillsToAttrs = allSkills.reduce((map, skill) => {
		map[skill] = [
			`${skill}_skill_mdr`,
			`${skill}_mdr`,
			`${racePrefix}_${skill}_bonus_mdr`,
			`${racePrefix}_talent_${skill}_bonus_mdr`
		];
		return map;
	}, {});

	const globalAttrs = [
		"dex",
		"edu",
		"language_caltheran_skill_mdr",
		...magicSchools,
		`${racePrefix}_mdr_checkbox`,
		"showracials",
		...Object.keys(talentSkillMap[racePrefix] || {}).map(talent => `${racePrefix}_${talent}_mdr_checkbox`)
	];

	if (debug_on) console.log("[registerSkillHandler Init]", { watched });

	const otherSkillAttrs = otherSkills.flatMap(skill => [
		`${skill}_skill_mdr`,
		`${skill}_mdr`
		]);

	// BEGIN Sheet Worker Watcher
	on([...new Set(watched)].map(s => `change:${s}`).join(" "), () => {
		getAttrs(globalAttrs.concat(...Object.values(skillsToAttrs), otherSkillAttrs), values => {
			const activeRace = values.showracials || "unknown"; // minimal change here
			if (activeRace !== racePrefix) return;

			const bgSkill = values[`${racePrefix}_mdr_checkbox`] || null;
			const talentSkills = Object.entries(talentSkillMap[racePrefix] || {})
				.map(([talentKey, skills]) => {
					const val = values[`${racePrefix}_${talentKey}_mdr_checkbox`];
					return val && val.startsWith("talent_") ? val.replace("talent_", "") : null;
				})
				.filter(Boolean);

			const update = {};
			let totalSkillPointsSpent = 0;

			allSkills.forEach(skill => {
				let base = parseInt(values[`${skill}_skill_mdr`], 10);
				const defaultBase = baseSkillLookup[skill] || 0;
				if (isNaN(base)) {
				// Auto-correct missing or blank input to default
					base = defaultBase; // << use defaultBase here
					update[`${skill}_skill_mdr`] = base;
				}
				const spent = base - defaultBase;
				update[`${skill}_improved_label`] = spent > 0 ? "#" : spent < 0 ? "*" : "";
				totalSkillPointsSpent += spent;
				
				const bgBonus = bgSkill === skill ? parseInt(values[`${racePrefix}_${skill}_bonus_mdr`] || "0", 10) : 0;
				const talentBonus = talentSkills.includes(skill) ? parseInt(values[`${racePrefix}_talent_${skill}_bonus_mdr`] || "0", 10) : 0;
				let total = base + bgBonus + talentBonus;

				if (skill === "dodge") {
					const idex = parseInt(values.dex || "0", 10);
					const dexBonus = Math.floor(idex / 2);
					total += dexBonus;
					if (debug_on) console.log(`[Dodge Adjustment] DEX=${idex}, +${dexBonus} added`);
				}
				
				if (skill === "athletics") { // Movement Rate Update (DEX + Athletics) / 10, max 14
					const athletics = parseInt(values.athletics_skill_mdr || "0", 10);
					const idex = parseInt(values.dex || "0", 10);
					const movCalc = Math.min(14, Math.floor((idex + athletics) / 10));
					update.mov = movCalc;
					if (debug_on) console.log (`[Move updated]: DEX=${idex}, Athletics=${athletics}, Move=${movCalc}`);
				}

				update[`${skill}_mdr`] = total;

				if (debug_on && (bgBonus || talentBonus || skill === "dodge")) {
					console.log(`[Skill Calc] ${skill}: base=${base}, bgBonus=${bgBonus}, talentBonus=${talentBonus}, total=${total}`);
				}
			});
			
			otherSkills.forEach(skill => {
				const base = parseInt(values[`${skill}_skill_mdr`], 10) || 0;
				const spent = base; // no base value to subtract from
				totalSkillPointsSpent += spent;
				update[`${skill}_improved_label`] = spent > 0 ? "#" : spent < 0 ? "*" : "";
				update[`${skill}_mdr`] = base;
			});

			const icaltheran = parseInt(values.language_caltheran_skill_mdr || "0", 10);
			const iedu = parseInt(values.edu || "0", 10);
			update["language_caltheran_mdr"] = icaltheran + iedu;
			
			update["total_skill_points_spent"] = totalSkillPointsSpent;

			// Universal Magic Skill
			const schoolValues = magicSchools.slice(0, 9).map(attr => parseInt(values[attr], 10) || 0);
			const baseUniversal = parseInt(values.magic_universal_skill_mdr, 10) || 0;
			const highestSchool = Math.max(...schoolValues);
			update["magic_universal_mdr"] = highestSchool + baseUniversal;

			if (debug_on) {
				console.log(`Highest Magic School: ${highestSchool}`);
				console.log(`Universal Base: ${baseUniversal}`);
				console.log(`Total Universal: ${highestSchool + baseUniversal}`);
			}

			setAttrs(update);
		});
	});
	// END Sheet Worker Watcher

	if (debug_on) {
		console.log("[registerSkillHandler] Manual initialization on load");
		console.log("[registerSkillHandler] Skills to initialize:", triggerSkills);
	}

	// BEGIN Manual Initialization
	getAttrs(globalAttrs.concat(...Object.values(skillsToAttrs), otherSkillAttrs), values => {
		const activeRace = values.showracials || "unknown"; // minimal change here
		if (activeRace !== racePrefix) return;

		const bgSkill = values[`${racePrefix}_mdr_checkbox`] || null;
		const talentSkills = Object.entries(talentSkillMap[racePrefix] || {})
			.map(([talentKey, skills]) => {
				const val = values[`${racePrefix}_${talentKey}_mdr_checkbox`];
				return val && val.startsWith("talent_") ? val.replace("talent_", "") : null;
			})
			.filter(Boolean);

		const update = {};
		let totalSkillPointsSpent = 0;

		allSkills.forEach(skill => {
			let base = parseInt(values[`${skill}_skill_mdr`], 10);
			const defaultBase = baseSkillLookup[skill] || 0;
			if (isNaN(base)) {
				// Auto-correct missing or blank input to default
				base = defaultBase; // << use defaultBase here
				update[`${skill}_skill_mdr`] = base;
			}
			const spent = base - defaultBase;
			update[`${skill}_improved_label`] = spent > 0 ? "#" : spent < 0 ? "*" : "";
			totalSkillPointsSpent += spent;

			const bgBonus = bgSkill === skill ? parseInt(values[`${racePrefix}_${skill}_bonus_mdr`] || "0", 10) : 0;
			const talentBonus = talentSkills.includes(skill) ? parseInt(values[`${racePrefix}_talent_${skill}_bonus_mdr`] || "0", 10) : 0;
			let total = base + bgBonus + talentBonus;

			if (skill === "dodge") {
				const idex = parseInt(values.dex || "0", 10);
				const dexBonus = Math.floor(idex / 2);
				total += dexBonus;
				if (debug_on) console.log(`[Manual Dodge Adjustment] DEX=${idex}, +${dexBonus} added`);
			}

			update[`${skill}_mdr`] = total;

			if (debug_on && (bgBonus || talentBonus || skill === "dodge")) {
				console.log(`[Manual Init Skill Calc] ${skill}: base=${base}, bgBonus=${bgBonus}, talentBonus=${talentBonus}, total=${total}`);
			}
		});
		
		otherSkills.forEach(skill => {
			const base = parseInt(values[`${skill}_skill_mdr`], 10) || 0;
			const spent = base; // no base value to subtract from
			totalSkillPointsSpent += spent;
			update[`${skill}_improved_label`] = spent > 0 ? "#" : spent < 0 ? "*" : "";
			update[`${skill}_mdr`] = base;
		});

		const icaltheran = parseInt(values.language_caltheran_skill_mdr || "0", 10);
		const iedu = parseInt(values.edu || "0", 10);
		update["language_caltheran_mdr"] = icaltheran + iedu;
		
		update["total_skill_points_spent"] = totalSkillPointsSpent;

		const schoolValues = magicSchools.slice(0, 9).map(attr => parseInt(values[attr], 10) || 0);
		const baseUniversal = parseInt(values.magic_universal_skill_mdr, 10) || 0;
		const highestSchool = Math.max(...schoolValues);
		update["magic_universal_mdr"] = highestSchool + baseUniversal;

		if (debug_on) {
			console.log(`Highest Magic School: ${highestSchool}`);
			console.log(`Universal Base: ${baseUniversal}`);
			console.log(`Total Universal: ${highestSchool + baseUniversal}`);
		}

		setAttrs(update);
	});
	// END Manual Initialization
}

function setDefaultSkillBonuses(race) {
		  if (debug_on_trace) console.log ("[setDefaultSkillBonuses] Start");
  const updates = {};
  const raceBackgrounds = backgroundSkillMap[race];

  if (!raceBackgrounds) return updates;

  Object.values(raceBackgrounds).forEach(skillSet => {
    Object.keys(skillSet).forEach(skill => {
      const attr = `${race}_${skill}_bonus_mdr`;
      if (!(attr in updates)) updates[attr] = 5;
    });
  });

//  if (debug_on) console.log("[setDefaultSkillBonuses]", updates);
  setAttrs(updates);
  return updates;
}

function setDefaultTalentBonuses(race) {
	  if (debug_on_trace) console.log ("[setDefaultTalentBonuses] Start");
  const updates = {};
  const raceTalents = talentSkillMap[race];

  if (!raceTalents) return updates;

  Object.values(raceTalents).forEach(skillSet => {
    Object.keys(skillSet).forEach(skill => {
      const attr = `${race}_talent_${skill}_bonus_mdr`;
      if (!(attr in updates)) updates[attr] = 10;
    });
  });

//  if (debug_on) console.log("[setDefaultTalentBonuses]", updates);
  setAttrs(updates);
  return updates;
}

function applyRacialBaseStats(race) {
  if (!raceDataMap[race] || !raceDataMap[race].stats) {
    if (debug_on) console.log("[applyRacialBaseStats] No stats found for race:", race);
    return;
  }

  const raceStats = raceDataMap[race].stats;
  const statKeys = ["str", "dex", "pow", "con", "app", "edu", "siz", "int", "mag"];

  getAttrs(statKeys, values => {
    const updates = {};

    statKeys.forEach(stat => {
      const currentRaw = values[stat];
      const current = parseInt(currentRaw, 10);
      const racialBase = raceStats[stat]?.base;

      if (isNaN(current) || current < racialBase) {
        updates[stat] = racialBase;
        if (debug_on) console.log(`[applyRacialBaseStats] ${stat.toUpperCase()} raised from ${current} to ${racialBase}`);
      }
    });

    if (Object.keys(updates).length > 0) {
      setAttrs(updates);
    }
  });
}

let lastRaceHandled = null;

function handleRaceChange(race) {
  if (debug_on_trace) console.log ("[handleRaceChange] Start");
  if (race === lastRaceHandled) {
    if (debug_on) console.log(`[handleRaceChange] Skipped duplicate init for race: ${race}`);
    return;
  }
  lastRaceHandled = race;

//  if (debug_on) console.log("[handleRaceChange]", race);

  resetAllMDRToBase();
  applyRacialBaseStats(race);
  applyAllSkillBonuses(race);

  const skillList = Object.values(backgroundSkillMap[race] || {}).flatMap(obj => Object.keys(obj));
  const talentList = Object.values(talentSkillMap[race] || {}).flatMap(obj => Object.keys(obj));

  registerSkillHandler(race, skillList, talentList);
}

on("sheet:opened", function () {
  if (debug_on_trace) console.log("[sheet:opened] New Character check");
  
  getAttrs(["showracials", "new_character_flag"], values => {
    const isNew = values.new_character_flag === "1";
    const race = values.showracials || "unknown"; //  direct from showracials now
    const updates = {};

    //    if (debug_on) console.log("[sheet:opened]", { race, isNew });
	getAttrs(["showskills"], values => {
        if (!values.showskills || values.showskills === "0") {
            setAttrs({ showskills: "3" });
        }
    });

    // Always run skill init if new character
    if (isNew) {
      Object.entries(skillMapTable).forEach(([key, { label, base, notes }]) => {
        const val = parseInt(base, 10) || 0;
        updates[`${label}_skill_mdr`] = val;
        updates[`${label}_mdr`] = val;
        updates[`${label}_note`] = notes || "";
      });
      updates.new_character_flag = "0";

      if (debug_on) console.log("[New Character Skill Init]", updates);
    }

    setAttrs(updates, () => {
	  if (debug_on) console.log ("[sheet:opened] Checking for undefined or unknown race");
      if (race && race !== "unknown" && race !== "0") {
        // Handle race bonus init
		if (debug_on) console.log (`[sheet:opened] Race: "${race}" being initialized`);
        handleRaceChange(race);
      }
	  registerStatHandler();
    });
  });
});


function registerStatHandler() {
	if (debug_on_trace) console.log ("[registerStatHandler] Start");
    const watched = [
        "age", "str", "dex", "pow", "con", "app", "edu", "siz", "int", "mag", "vitality"
    ];

    if (debug_on) console.log("[registerStatHandler Init] Watching:", watched);

    on(watched.map(s => `change:${s}`).join(" "), () => {
        getAttrs(watched, values => {
		    const iage = parseInt(values.age) || 0;
			const istr = parseInt(values.str) || 0;
			const idex = parseInt(values.dex) || 0;
			const ipow = parseInt(values.pow) || 0;
            const icon = parseInt(values.con) || 0;
			const iapp = parseInt(values.app) || 0;
            const iedu = parseInt(values.edu) || 0;			
            const isiz = parseInt(values.siz) || 0;
            const iint = parseInt(values.int) || 0;
            const imag = parseInt(values.mag) || 0;
            const ivit = parseInt(values.vitality) || 0;

            const update = {};
			
			update["vitality_max"]= ipow;
			update["pulphp_max"] = Math.floor((icon + isiz)/5);
			update["strain_max"] = Math.floor((ipow + icon)/5);
			
			// Attribute Points Total Calculation
			const statKeys = ["str", "dex", "pow", "con", "app", "edu", "siz", "int", "mag"];

			let totalAttrPointsSpent = 0;

			statKeys.forEach(stat => {
				const val = parseInt(values[stat], 10) || 0;
				totalAttrPointsSpent += val;
			});

			update["total_attr_points_spent"] = totalAttrPointsSpent;
			
            // Armor Class = min(MAG, VITALITY)
            update.ac = Math.min(imag, ivit);

            // Damage Bonus and Build
            const siz_str_tot = istr + isiz;
            if (siz_str_tot < 65) {
                update.damage_bonus = "-2";
                update.build = "-2";
            } else if (siz_str_tot < 85) {
                update.damage_bonus = "-1";
                update.build = "-1";
            } else if (siz_str_tot < 125) {
                update.damage_bonus = "0";
                update.build = "0";
            } else if (siz_str_tot < 165) {
                update.damage_bonus = "1d4";
                update.build = "+1";
            } else if (siz_str_tot < 205) {
                update.damage_bonus = "1d6";
                update.build = "+2";
            } else if (siz_str_tot < 285) {
                update.damage_bonus = "2d6";
                update.build = "+3";
            } else if (siz_str_tot < 365) {
                update.damage_bonus = "3d6";
                update.build = "+4";
            } else if (siz_str_tot < 445) {
                update.damage_bonus = "4d6";
                update.build = "+5";
            } else if (siz_str_tot < 525) {
                update.damage_bonus = "5d6";
                update.build = "+6";
            }
			
			update.mdr_dex_crit_threshold = 1;
			update.mdr_dex_extreme_threshold = Math.floor(idex / 5);
			update.mdr_dex_hard_threshold = Math.floor(idex / 2);
			update.mdr_dex_normal_threshold = idex;
			update.mdr_dex_crit_value = 4000 + idex;
			update.mdr_dex_extreme_value = 3000 + idex;
			update.mdr_dex_hard_value = 2000 + idex;
			update.mdr_dex_normal_value = 1000 + idex;
			update.mdr_dex_fail_value = idex;
    
            if (debug_on) {
                console.log("[Stat Calc] STR+SIZ=", siz_str_tot);
                console.log("[Stat Calc] AC=", update.ac);
                console.log("[Stat Calc] DMG Bonus / Build=", update.damage_bonus, update.build);
            }

            setAttrs(update);
        });
    });
}

// Common parser function
function parseDamageString(damageString, prefix) {
  const updates = {};

  const match = damageString.match(/^(\d+)[dD](\d+)([+\-]\d+)?$/);

  if (match) {
    const numDice = parseInt(match[1], 10) || 0;
    const diceSize = parseInt(match[2], 10) || 0;
    const bonus = parseInt(match[3] || "0", 10) || 0;

    updates[`${prefix}_damage_numdice`] = numDice;
    updates[`${prefix}_damage_dicesize`] = diceSize;
    updates[`${prefix}_damage_bonus`] = bonus;
  } else {
    updates[`${prefix}_damage_numdice`] = 0;
    updates[`${prefix}_damage_dicesize`] = 0;
    updates[`${prefix}_damage_bonus`] = 0;
  }

  return updates;
}

// Auto-calculate damage components for fixed weapon (weapon1_mdr)
on("change:weapon1_mdr_damage", function() {
  getAttrs(["weapon1_mdr_damage"], function(values) {
    const damageString = values.weapon1_mdr_damage || "";
    const updates = parseDamageString(damageString, "weapon1_mdr");
    setAttrs(updates);
  });
});

// Auto-calculate damage components for repeating weapons (repeating_weaponsmdr) - change only
on(" change:repeating_weaponsmdr:weapondamage_mdr", function(eventInfo) {
  const repeatingId = eventInfo.sourceAttribute.match(/repeating_weaponsmdr_([^_]+)_/)[1];

  getAttrs([`repeating_weaponsmdr_${repeatingId}_weapondamage_mdr`], function(values) {
    const damageString = values[`repeating_weaponsmdr_${repeatingId}_weapondamage_mdr`] || "";
    const updates = parseDamageString(damageString, `repeating_weaponsmdr_${repeatingId}`);
    setAttrs(updates);
  });
});

// -------------------- working area end ----------------- //

  on('sheet:opened', function () {
	  if (debug_on_trace) console.log ("[sheet:opened] Translation");
  const translationFields = [
    "str_txt", "dex_txt", "pow_txt", "con_txt", "app_txt", "edu_txt", "siz_txt", "int_txt", "mag_txt", "luck_txt",
    "accounting_txt", "alchemy_txt", "animalhandling_txt", "anthropology_txt", "appraise_txt", "arcana_txt",
    "archaeology_txt", "archanotech_txt", "archery_txt", "architecture_txt", "biology_txt", "bureaucracy_txt",
    "charm_txt", "chemistry_txt", "climb_txt", "computeruse_txt", "creditrating_txt", "cthulhumythos_txt",
    "cybernetics_txt", "dance_txt", "demolitions_txt", "disguise_txt", "deception_txt", "dodge_txt", "driveauto_txt",
    "drone_operation_txt", "elecrepair_txt", "engineering_txt", "etiquette_high_society_txt", "etiquette_lyranni_txt", "fasttalk_txt",
    "fighting_brawl_txt", "firearms_hg_txt", "firearms_rifle_txt", "firearms_smg_txt", "first_aid_txt", "forbidden_lore_txt",
    "forgery_txt", "gunnery_txt", "heavy_weapons_txt", "history_txt", "impersonation_txt", "instrument_txt",
    "intimidate_txt", "interrogation_txt", "insight_txt", "investigation_txt", "jump_txt", "law_txt", "libraryuse_txt",
    "listen_txt", "locksmith_txt", "magic_alteration_txt", "magic_elemental_txt", "magic_enchantment_txt",
    "magic_illusion_txt", "magic_necromancy_txt", "magic_restoration_txt", "magic_summoning_txt", "magic_technomancy_txt",
    "magic_warding_txt", "magic_universal_txt", "mechrepair_txt", "mechanics_txt", "medicine_txt", "melee_weapons_txt",
    "naturalworld_txt", "navigate_txt", "occult_txt", "ophvmachine_txt", "perception_txt", "persuade_txt", "physics_txt",
    "pilotaircraft_txt", "pilotarc_txt", "pilotboat_txt", "psychology_txt", "psychoanalysis_txt", "ride_txt", "security_txt",
    "singing_txt", "sleightofhand_txt", "slicing_txt", "spirit_lore_txt", "spothidden_txt", "stealth_txt", "streetwise_txt",
    "survival_txt", "athletics_txt", "coordination_txt", "swim_txt", "throw_txt", "track_txt", "unarmed_txt", "veil_lore_txt"
  ];

  getAttrs(translationFields, values => {
    const updates = {};

    translationFields.forEach(field => {
      const translationKey = field.replace("_txt", "-r-txt")
        .replace("luck_txt", "luck-u")
		.replace("unarmed_txt", "unarmed-z")
		.replace("str-r-txt", "STR-r-txt")
		.replace("dex-r-txt", "DEX-r-txt")
		.replace("pow-r-txt", "POW-r-txt")
		.replace("con-r-txt", "CON-r-txt")
		.replace("app-r-txt", "APP-r-txt")
		.replace("edu-r-txt", "EDU-r-txt")
		.replace("siz-r-txt", "SIZ-r-txt")
		.replace("int-r-txt", "INT-r-txt")
		.replace("mag-r-txt", "MAG-r-txt");

      const correctText = getTranslationByKey(translationKey);
      if (values[field] !== correctText) {
        updates[field] = correctText;
      }
    });

    if (Object.keys(updates).length > 0) {
      setAttrs(updates);
    }
  });
});
</script>