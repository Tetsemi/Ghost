/* -------------------------------------------------------------------------- */
/* Notes:
   - All colors are centralized here for easy theme changes.
   - Gradients use linear-gradient where applicable (headers).
   - Keep hex codes consistent across layout, forms, and buttons.
*/

/* ------------------------------- */
/* Main sheet background and master */
/* ------------------------------- */
.ui-dialog .tab-content .charsheet {
	background-color: #888888;
	border: 1px solid black;
	color: black;
	width: 100%;
	padding: 2px 10px 10px 10px;
}

/* ------------------------------- */
/* Sheet Layout Master Container */
/* ------------------------------- */
.sheet-layout {
	background-color: #888888;
	width: 840px;
	margin: auto;
	border: 1px solid black;
	box-sizing: border-box;
	color: black;
	font-family: "Arial", sans-serif;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

.sheet-section {
  background: #d0cabe;
  border: 1px solid #999;
}

.sheet-section-head {
  background-image: linear-gradient(black, #112749);
  background-color: #112749;
  color: white;
  text-align: center;
  font-weight: bold;
  font-size: 1.2em;
  margin: 0;
}

/* ----------------------------------------------------- */
/* Universal Input Styles for All Sheet Sections         */
/* ----------------------------------------------------- */

/* Standard input for attributes or large fields */
.sheet-attr-input {
  width: 45px;
  min-width: 0;
  box-sizing: border-box;
  padding: 4px;
  margin: 0;
  font-size: 200%;
  background: #f0f0f0;
  border: 1px solid #999;
  color: black;
  text-align: center;
}
/* Smaller input (e.g., points spent, AC, move) */
.sheet-attr-input-medium {
  width: 97px;
  height: 15px;
  min-width: 0;
  box-sizing: border-box;
  padding: 2px;
  margin: 0;
  font-size: 150%;
  background: #f0f0f0;
  border: 1px solid #999;
  color: black;
  text-align: center;
}

/* Smaller input (e.g., points spent, AC, move) */
.sheet-attr-input-small {
  width: 40px;
  height: 15px;
  min-width: 0;
  box-sizing: border-box;
  padding: 2px;
  margin: 0;
  font-size: 100%;
  background: #f0f0f0;
  border: 1px solid #000000;
  color: black;
  text-align: center;
}
.sheet-attr-input-long {
  width: 100%;
  min-width: 0;
  box-sizing: border-box;
  padding: 6px 8px;
  margin: 0;
  font-size: 100%;
  background: #f0f0f0;
  border: 1px solid #999;
  color: black;
  text-align: left; /* Important: text aligns left for names and phrases */
}
/* Readonly variant — visually distinct */
.sheet-attr-input[readonly],
.sheet-attr-input-small[readonly],
.sheet-attr-input-medium[readonly],
.sheet-attr-input-long[readonly] {
  background: #e0e0e0; /* Light gray for info-only fields */
  color: #333;
  border: 1px solid #999;
}

/* Small Separator Line Between Attribute Sections */
.ui-dialog .tab-content .charsheet .sheet-attr-separator {
  width: 100%;
  height: 1px;
  background-color: #333; /* dark gray/black line to match our theme */
  margin: 6px 0 6px 0; /* tiny margin above/below */
  grid-column: 1 / -1; /* spans full width of grid */
}

/* Checkbox and label appearaance */

/* Checkbox label appearance */
.sheet-checkbox-label {
	font-size: 0.9em;
	color: black;
	text-align: center;
}

.sheet-checkbox {
	margin: 0;
}

/* Label cells */
.ui-dialog .tab-content .charsheet .sheet-attr-label {
    font-weight: bold;
    text-align: left;
    padding: 2px 4px;
    margin: 0;
    color: black;
    background: transparent;
    align-self: center;
}

/* Spacer cells */
.sheet-attr-spacer {
    width: 100%;
    height: 100%;
}

.ui-dialog .tab-content .charsheet .sheet-readonly {
  pointer-events: none;
  background-color: #e6e6e6; /* light gray background to show it's readonly */
  color: #333;
}

.ui-dialog .tab-content .charsheet .sheet-sheetmeta{
  margin-top: 0px;
  padding-top: 0px;
  border-top: 1px solid rgba(255,255,255,0.08);
}

.ui-dialog .tab-content .charsheet .sheet-sheetmeta-row{
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 8px;
  font-size: 10px;
  line-height: 12px;
  opacity: 0.85;
}

.ui-dialog .tab-content .charsheet .sheet-sheetmeta-label{
  letter-spacing: 0.06em;
  text-transform: uppercase;
  white-space: nowrap;
}

.ui-dialog .tab-content .charsheet .sheet-sheetmeta-value{
  font-variant-numeric: tabular-nums;
  white-space: nowrap;
}

/* ------------------------ Roll buttons ---------------------- */

/* Roll button container */
.sheet-attr-roll {
    display: flex;
    align-items: center;
    justify-content: center;
}


button.new-roll {
   color: #18650D;
   background-color: #248c15;
   font-weight: bold;
   text-align: center;
   width: 20px;
   height: 20px;
   margin: auto;
   padding: 0;
   border: 1px solid black;
}
/* ------------------------------------------------------------ */

/* ------------------------------------------- */
/* Full-Width Select Boxes for Sheet Sections  */
/* ------------------------------------------- */

/* Shared style class for dropdowns */
.sheet-select-full {
  width: 100%;
  box-sizing: border-box;
  font-size: 1em;
  text-align: center;
  background: #f0f0f0;
  border: 1px solid #999;
  color: black;
}

/* ----------------------------------- */
/* Global Edit Mode Toggle for Fields  */
/* ----------------------------------- */

/* DISABLE inputs (readonly style) when edit_mode is OFF */
input[name="attr_edit_mode"][value="off"] ~ .sheet-layout input.sheet-edit-toggle-field {
  background-color: #e0e0e0;
  color: #666;
  pointer-events: none;
  cursor: not-allowed;
  border: 1px solid #999;
}

/* ENABLE inputs normally when edit_mode is ON */
input[name="attr_edit_mode"][value="on"] ~ .sheet-layout input.sheet-edit-toggle-field {
  background-color: #f0f0f0;
  color: black;
  pointer-events: auto;
  cursor: auto;
}

/* ------------------------------- */
/* Top, Middle, Bottom Sections */
/* ------------------------------- */

/* ------------------------------- */
/* Top Section Layout */
/* ------------------------------- */
.sheet-top {
	background: #dcdcdc;
	border-bottom: 1px solid black;
	display: flex;
	flex-wrap: wrap;
}
.sheet-top > .sheet-top-2col,
.sheet-top > .sheet-top-4col {
	width: 100%;
}

/* Two-column row layout */
.sheet-top-2col {
  display: flex;
}
.sheet-top-2col > .sheet-section {
  flex: 1 1 50%; /* Fixed 50% width per section */
  min-width: 0;
  box-sizing: border-box;
}

/* Four-column row layout */
.sheet-top-4col {
  display: flex;
}
.sheet-top-4col > .sheet-section {
  flex: 1 1 25%; /* Fixed 25% width per section */
  min-width: 0;
  box-sizing: border-box;
}

.sheet-top-4col .sheet-section select {
  width: 100%;
  height: 100%;
  padding: 6px 8px;
  margin: 0;
  border-bottom: 1px solid black;
  background: transparent;
  font-size: 1em;
  box-sizing: border-box;
  appearance: auto;
}

.sheet-top-5col {
  display: flex;
  flex-direction: row;
  box-sizing: border-box;
}

/* ------------------------------- */
/* Middle Section Layout */
/* ------------------------------- */
.sheet-middle {
  background: #d0cabe;
  border-bottom: 1px solid black;
  display: flex;
  flex-direction: column;
  width: 100%;
  box-sizing: border-box;
}

/* New: 3-column layout with Dice, Modifiers, Logo */
.sheet-middle-3col {
  display: flex;
  flex-direction: row;
  width: 100%;
  box-sizing: border-box;
  background: #d0cabe;
  border: 1px solid black;
  margin: 0;
  padding: 0;
}
/* --------------------------------------------- */
/* Bottom Section: Tabs */
/* (Already working, use existing tab CSS!) */
/* --------------------------------------------- */

.sheet-bottom {
	background: #dcdcdc;
	display: flex;
	flex-direction: column;
}

/* ------------------------------- */
/* End Section Layout */
/* ------------------------------- */


/* ------------------------------- */
/* Investigator Info Section */
/* ------------------------------- */
/* Investigator Info Section Container */

/* Main Investigator Info Grid */
.sheet-grid-investigatorinfo {
  display: grid;
  grid-template-columns: 25% 75%;
  grid-auto-rows: min-content;
  gap: 0px;
  padding: 0;
  margin: 0;
  background: #d0cabe; /* correct */
  border: none;
  box-sizing: border-box;
}
.ui-dialog .tab-content .charsheet .sheet-grid-characteristics .sheet-attr-label {
	text-align: right;
}

/* Investigator Info Labels */
.sheet-info-label {
  font-weight: bold;
  text-align: left;
  padding: 2px 4px;
  margin: 0;
  background: #d0cabe; /* correct */
  align-self: center;
  color: black;
  white-space: nowrap;
}

/* Regular Input Fields */
.sheet-grid-investigatorinfo input[type="text"] {
  width: 100%;
  min-width: 0;
  box-sizing: border-box;
  padding: 2px;
  margin: 0;
  background: #f0f0f0;
  border: 1px solid #999;
  color: black;
}

/* Age/Sex row: add a 4th (auto) column for the toggle */
.ui-dialog .tab-content .charsheet .sheet-grid-age-sex {
	display: grid;
	grid-template-columns: 1fr auto 1fr 100px; /* + toggle column */
	width: 100%;
	align-items: center;
	gap: 2px;
	padding: 0;
	margin: 0;
	background: transparent;
}

/* Toggle cell layout */
.ui-dialog .tab-content .charsheet .sheet-awakened-toggle {
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 4px;
	white-space: nowrap;
}

.ui-dialog .tab-content .charsheet .sheet-awakened-checkbox {
	width: 14px;
	height: 14px;
	margin: 0;
}

/* Default: Mundane visible, Awakened hidden */
.ui-dialog .tab-content .charsheet .sheet-awakened-on  { display: none; }
.ui-dialog .tab-content .charsheet .sheet-awakened-off { display: inline; }

/* Checked: swap */
.ui-dialog .tab-content .charsheet .sheet-awakened-toggle input[type="checkbox"]:checked ~ .sheet-awakened-on  { display: inline; }
.ui-dialog .tab-content .charsheet .sheet-awakened-toggle input[type="checkbox"]:checked ~ .sheet-awakened-off { display: none; }

/* Attribute Mode (Mundane vs Awakened options): default + toggle via attr_show_awakened_mode */
.ui-dialog .tab-content .charsheet .sheet-awakened-mode-wrapper {
	display: flex;
	flex-direction: column;
	gap: 6px;
	width: 35px;
}

.ui-dialog .tab-content .charsheet .sheet-awakened-mode-wrapper .sheet-mundane-mode-pair {
	display: flex;
	flex-direction: column;
	gap: 2px;
}

.ui-dialog .tab-content .charsheet .sheet-awakened-mode-wrapper .sheet-awakened-mode-pair {
	display: none;
	flex-direction: column;
	gap: 2px;
}

.ui-dialog .tab-content .charsheet .sheet-awakened-mode-wrapper input[name="attr_show_awakened_mode"][value="1"] ~ .sheet-mundane-mode-pair {
	display: none;
}

.ui-dialog .tab-content .charsheet .sheet-awakened-mode-wrapper input[name="attr_show_awakened_mode"][value="1"] ~ .sheet-awakened-mode-pair {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-awakened-mode-wrapper .sheet-mode-option {
	display: flex;
	align-items: center;
	gap: 4px;
	margin: 0;
	margin-top: 4px;
	margin-left: 6px;
}

.ui-dialog .tab-content .charsheet .sheet-awakened-mode-wrapper .sheet-mode-option span {
	color: #000;
	font-size: 75%;
	line-height: 1;
	margin-right: 4px;
	width: 55px;
	min-width: 52px;
}

/* Base style: under max (light blue) */
.ui-dialog .tab-content .charsheet input.sheet-attr-budget-sensitive {
	background-color: rgba(173, 216, 230, 0.60); /* light blue */
	color: #000;
}

/* Equal to max (light green) */
.ui-dialog .tab-content .charsheet input.sheet-attr-budget-mirror[value="1"] + input.sheet-attr-budget-sensitive {
	background-color: rgba(144, 238, 144, 0.60); /* light green */
}

/* Over max (light red) */
.ui-dialog .tab-content .charsheet input.sheet-attr-budget-mirror[value="2"] + input.sheet-attr-budget-sensitive {
	background-color: rgba(255, 182, 193, 0.70); /* light red */
}

.sheet-grid-age-sex input[type="text"] {
	width: 100%;
	min-width: 0;
	padding: 2px;
	margin: 0;
	background: #f0f0f0;
	border: 1px solid #999;
	color: black;
	box-sizing: border-box;
}

.sheet-grid-age-sex .sheet-info-label {
	font-weight: bold;
	text-align: center;
	padding: 2px;
	color: black;
	background: transparent;
	white-space: nowrap;
}

/* ------------------------------------------------ */

/* ----------------- Characteristics -------------- */

.sheet-grid-characteristics {
    display: grid;
    grid-template-columns:
		1fr 2fr   /* STR */
		1fr 2fr   /* DEX */
		1fr 2fr   /* POW */
		1em
		1fr 1fr 1em 1fr; /* VIT */
	width: 100%;
    gap: 0px;
    padding: 2px;
    background: #d0cabe;
    border: none;
    box-sizing: border-box;
}

.sheet-grid-characteristics-lower {
  display: grid;
    grid-template-columns:
		1fr 2fr   /* Build */
		1fr 2fr   /* Move */
		1fr 2fr   /* AC */
		0.5em		  /* Divider */
		1fr 2fr   /* Init */
		1fr 2fr;  /* Luck */
  gap: 0px;
  padding: 2px 0px;
  width: 100%;
  background: #d0cabe;
  box-sizing: border-box;
  align-items: center;
}
.sheet-grid-characteristics-lower .sheet-grid-inline {
	display: grid;
	grid-template-columns: 1fr 1fr;
	column-gap: 0;
	align-items: center;
	gap: 0px;
	padding: 0px;
	margin: 0px;
}

.sheet-grid-characteristics-lower .sheet-grid-inline label {
	color: black;
	font-size: 0.97em;
	padding: 0 4px;
	gap: 0px;
}

.sheet-grid-characteristics-lower .sheet-grid-inline .sheet-checkbox-label {
	color: black;
	font-size: 1em;
	white-space: nowrap;
	text-align: left;
}

.sheet-grid-characteristics-lower .sheet-grid-inline .sheet-attr-input {
	height: 40px;
	width: 45px;
}

.sheet-grid-characteristics-lower .sheet-vertical-divider {
  width: 1px;
  background-color: #666;
  margin: 0px 0px 0px 10px;
  height: 40px; /* Or a fixed height like 100% or 40px */
}

/* ---------------------------- */
/* Spenders Section Layout      */
/* ---------------------------- */
.sheet-grid-spenders {
  display: grid;
  grid-template-columns: 0.5fr auto auto 0.5fr auto 1em;
  align-items: center;
  background: #d0cabe;
  border: none;
}

/* Optional: consistent small labels */
.sheet-info-label-small {
  font-weight: bold;
  text-align: left;
  padding: 0px 4px;
  font-size: 80%;
  color: black;
}

/* Input style (reuse existing small input style if defined) */
.sheet-grid-spenders input[readonly] {
  width: 100%;
  box-sizing: border-box;
  padding: 6px;
  text-align: center;
  background: #e0e0e0;
  border: 1px solid #999;
  color: black;
}

/* ------------------------------Sheet Racials-------------------------------------------- */
input.sheet-showracials::after {
    float: left;
    font-family: pictos;
    content: "E";
    opacity: 1.5;
}

input.sheet-showracials {
    float: left;
    font-family: pictos;
    content: "E";
    opacity: 0.5;
}

.charsheet .sheet-showracials:checked ~ div.sheet-section,
.charsheet .sheet-showracials:checked ~ div.sheet-racials1,
.charsheet .sheet-showracials:checked ~ div.sheet-racials2,
.charsheet .sheet-showracials:checked ~ div.sheet-racials3,
.charsheet .sheet-showracials:checked ~ div.sheet-racials4,
.charsheet .sheet-showracials:checked ~ div.sheet-racials5,
.charsheet .sheet-showracials:checked ~ div.sheet-racials6,
.charsheet .sheet-showracials:checked ~ div.sheet-racials7,
.charsheet .sheet-showracials:checked ~ div.sheet-racials8 {
    display: none;
}

/* ---------------------------- */
/* Race and Damage Bonus Section Layout & Select */
/* ---------------------------- */

/* Outer Race Container */
.sheet-race,
.sheet-damage_bonus {
    background: #d0cabe; /* Match combat/investigatorinfo/characteristics */
    border: 1px solid black;
    box-sizing: border-box;
}

/* Required Roll20-specific name selector (ensures this works in sandbox) */
select[name="attr_showracials"],
select[name="attr_damage_bonus"] {
  width: 100%;
  box-sizing: border-box;
  font-size: 1em;
  text-align: center;
  border: 1px solid #999;
  color: black;
}

/* ------------------------------ */
/* Edit Mode Toggle Input Behavior */
/* ------------------------------ */

/* Grid layout for stat/luck sections */
.sheet-grid-str,
.sheet-grid-dex,
.sheet-grid-pow,
.sheet-grid-con,
.sheet-grid-app,
.sheet-grid-edu,
.sheet-grid-siz,
.sheet-grid-int,
.sheet-grid-mag,
.sheet-grid-initiative {
  display: flex;
  align-items: center;
  width: 100%;
  background: #d0cabe;
  padding-top: 4px;
}

/* Wrapper around each stat input + overlay roll */
.sheet-luck-wrapper,
.sheet-str-wrapper,
.sheet-dex-wrapper,
.sheet-pow-wrapper,
.sheet-con-wrapper,
.sheet-app-wrapper,
.sheet-edu-wrapper,
.sheet-siz-wrapper,
.sheet-int-wrapper,
.sheet-mag-wrapper,
.sheet-move-wrapper,
.sheet-init-wrapper {
  position: relative;
  width: 100%;
}

/* Invisible roll buttons (overlays) — default hidden */
.sheet-luck-roll,
.sheet-str-roll,
.sheet-dex-roll,
.sheet-pow-roll,
.sheet-con-roll,
.sheet-app-roll,
.sheet-edu-roll,
.sheet-siz-roll,
.sheet-int-roll,
.sheet-mag-roll,
.sheet-move-roll,
.sheet-init-roll-button {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  pointer-events: auto;
  z-index: 2;
  margin: 0;
  padding: 0;
  display: none;
}
.sheet-layout .sheet-edit-controller[value="off"] ~ * input.sheet-edit-toggle-field[name="attr_mov"],
.sheet-layout .sheet-edit-controller[value="on"] ~ * input.sheet-edit-toggle-field[name="attr_mov"] {
  pointer-events: none;
  cursor: pointer;
  background-color: #e0e0e0;
  color: #666;
  border: 1px solid #999;
}

.sheet-layout .sheet-edit-controller[value="off"] ~ * .sheet-move-roll,
.sheet-layout .sheet-edit-controller[value="on"] ~ * .sheet-move-roll {
  display: block;
  pointer-events: auto;
  opacity: 0;
  cursor: pointer;
  border: 1px solid #999;
}

/* ------------------ */
/* Edit Mode OFF rules */
/* ------------------ */

/* Input fields become readonly-like */
.sheet-layout .sheet-edit-controller[value="off"] ~ * input.sheet-edit-toggle-field[name="attr_luck"],
.sheet-layout .sheet-edit-controller[value="off"] ~ * input.sheet-edit-toggle-field[name="attr_str"],
.sheet-layout .sheet-edit-controller[value="off"] ~ * input.sheet-edit-toggle-field[name="attr_dex"],
.sheet-layout .sheet-edit-controller[value="off"] ~ * input.sheet-edit-toggle-field[name="attr_pow"],
.sheet-layout .sheet-edit-controller[value="off"] ~ * input.sheet-edit-toggle-field[name="attr_con"],
.sheet-layout .sheet-edit-controller[value="off"] ~ * input.sheet-edit-toggle-field[name="attr_app"],
.sheet-layout .sheet-edit-controller[value="off"] ~ * input.sheet-edit-toggle-field[name="attr_edu"],
.sheet-layout .sheet-edit-controller[value="off"] ~ * input.sheet-edit-toggle-field[name="attr_siz"],
.sheet-layout .sheet-edit-controller[value="off"] ~ * input.sheet-edit-toggle-field[name="attr_int"] {
  pointer-events: none;
  cursor: pointer;
  background-color: #e0e0e0;
  color: #666;
  border: 1px solid #999;
}

/* Show roll button overlays */
.sheet-layout .sheet-edit-controller[value="off"] ~ * .sheet-luck-roll,
.sheet-layout .sheet-edit-controller[value="off"] ~ * .sheet-str-roll,
.sheet-layout .sheet-edit-controller[value="off"] ~ * .sheet-dex-roll,
.sheet-layout .sheet-edit-controller[value="off"] ~ * .sheet-pow-roll,
.sheet-layout .sheet-edit-controller[value="off"] ~ * .sheet-con-roll,
.sheet-layout .sheet-edit-controller[value="off"] ~ * .sheet-app-roll,
.sheet-layout .sheet-edit-controller[value="off"] ~ * .sheet-edu-roll,
.sheet-layout .sheet-edit-controller[value="off"] ~ * .sheet-siz-roll,
.sheet-layout .sheet-edit-controller[value="off"] ~ * .sheet-int-roll,
.sheet-layout .sheet-edit-controller[value="off"] ~ * .sheet-init-roll-button  {
  display: block;
  pointer-events: auto;
  opacity: 0;
  cursor: pointer;
  border: 1px solid #999;
}

/* ------------------ */
/* Edit Mode ON rules */
/* ------------------ */

/* Inputs are editable */
.sheet-layout .sheet-edit-controller[value="on"] ~ * input.sheet-edit-toggle-field[name="attr_luck"],
.sheet-layout .sheet-edit-controller[value="on"] ~ * input.sheet-edit-toggle-field[name="attr_str"],
.sheet-layout .sheet-edit-controller[value="on"] ~ * input.sheet-edit-toggle-field[name="attr_dex"],
.sheet-layout .sheet-edit-controller[value="on"] ~ * input.sheet-edit-toggle-field[name="attr_pow"],
.sheet-layout .sheet-edit-controller[value="on"] ~ * input.sheet-edit-toggle-field[name="attr_con"],
.sheet-layout .sheet-edit-controller[value="on"] ~ * input.sheet-edit-toggle-field[name="attr_app"],
.sheet-layout .sheet-edit-controller[value="on"] ~ * input.sheet-edit-toggle-field[name="attr_edu"],
.sheet-layout .sheet-edit-controller[value="on"] ~ * input.sheet-edit-toggle-field[name="attr_siz"],
.sheet-layout .sheet-edit-controller[value="on"] ~ * input.sheet-edit-toggle-field[name="attr_int"] {
  pointer-events: auto;
  cursor: text;
  background-color: #f0f0f0;
  color: black;
  border: 1px solid #999;
}

/* Hide roll button overlays */
.sheet-layout .sheet-edit-controller[value="on"] ~ * .sheet-luck-roll,
.sheet-layout .sheet-edit-controller[value="on"] ~ * .sheet-str-roll,
.sheet-layout .sheet-edit-controller[value="on"] ~ * .sheet-dex-roll,
.sheet-layout .sheet-edit-controller[value="on"] ~ * .sheet-pow-roll,
.sheet-layout .sheet-edit-controller[value="on"] ~ * .sheet-con-roll,
.sheet-layout .sheet-edit-controller[value="on"] ~ * .sheet-app-roll,
.sheet-layout .sheet-edit-controller[value="on"] ~ * .sheet-edu-roll,
.sheet-layout .sheet-edit-controller[value="on"] ~ * .sheet-siz-roll,
.sheet-layout .sheet-edit-controller[value="on"] ~ * .sheet-int-roll,
.sheet-layout .sheet-edit-controller[value="on"] ~ * .sheet-init-roll-button {
  display: none;
  pointer-events: none;
}

.sheet-vertical-divider {
  width: 1px;
  background-color: #666;
  margin: 0 10px;
  height: auto; /* Or a fixed height like 100% or 40px */
}

/* ------------------------------ */
/* Edit Mode Section & Button    */
/* ------------------------------ */

.sheet-edit-toggle {
    background: #d0cabe; /* Match combat/investigatorinfo/characteristics */
    box-sizing: border-box;
}

/* Edit Mode Button */
.sheet-edit-toggle button[name="act_edit_mode"] {
  width: 100%;
  background-color: #444;        /* Default OFF = dark gray */
  color: white;
  font-weight: bold;
  padding: 6px 0;
  font-size: 90%;
  cursor: pointer;
  text-align: center;
  border: 1px solid black;
}

/* Active Edit Mode ON = black with yellow text */
.sheet-edit-toggle input[name="attr_edit_mode"][value="on"] ~ button[name="act_edit_mode"] {
  background-color: black;
  color: yellow;
}

/* ---------------------------- */
/* HP, Strain, Vitality Grid & Layout             */
/* ---------------------------- */
/* Specific section widths */
.sheet-top-5col > .sheet-section:nth-child(1) { flex: 0 0 25%; }    /* Vitality */
.sheet-top-5col > .sheet-section:nth-child(2) { flex: 0 0 25%; }    /* Strain */
.sheet-top-5col > .sheet-section:nth-child(3) { flex: 0 0 25%; }    /* Hit Points */
.sheet-top-5col > .sheet-section:nth-child(4) { flex: 0 0 12%; }    /* Status */
.sheet-top-5col > .sheet-section:nth-child(5) { flex: 0 0 13%; }    /* Luck */

.sheet-top-5col > .sheet-section {
	border: 1px solid black;
	box-sizing: border-box;
}

/* Strain grid layout */
.sheet-grid-hp ,
.sheet-grid-strain,
.sheet-grid-vitality {
	display: grid;
	grid-template-columns: 0.5fr 1em 0.5fr;
	align-items: center;
	width: 100%;
	padding-top: 0px;
	background: #d0cabe; /* match section background */
}

/* Slash styling */
.sheet-hp-slash,
.sheet-strain-slash,
.sheet-vitality-slash,
.sheet-luck-slash {
	text-align: center;
	font-size: 150%;
	font-weight: bold;
}

/* -------------------- Status ----------------------------- */

/* Inner grid for status checkboxes */
.sheet-status-grid {
  display: grid;
  grid-template-columns: 14px auto;
  grid-template-rows: auto auto;
  align-items: center;
  justify-content: center;
  text-align: right;
  background: #d0cabe;
  padding: 0px;
  font-size: 0.75em;
  gap: 1px 2px;
  height: 100%;
}


/* ------------------- Luck --------------------------------- */
.sheet-grid-luck,
.sheet-grid-initiative {
	display: grid;
	align-items: center;
	justify-content: center;
	width: 100%;
	padding-top: 0px;
	background: #d0cabe; /* match section background */
}

/* ----------------------- Dice, Wounds, and Statuses ---------------------- */
.sheet-dicerollsection {
  background: #d9d9d9;
  display: block;
}

/* Dice Rolls (40%) */
.sheet-dice {
  flex: 0 0 34%;
  min-width: 0;
  background: #d0cabe;
  margin: 0;
  padding: 0;
}

.sheet-dice-roll-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(60px, 1fr)); /* Adjust minmax as needed */
  width: 100%;
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* Each roll row */
.sheet-dice-roll-wrapper {
  position: relative;
  height: 32px;
  background: #d0cabe;
  border: 1px solid #d9d9d9;
  padding: 2px 4px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
}

.sheet-dice-roll-wrapper button[type="roll"] {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  margin: 0;
  padding: 0;
  border: none;
  background: none;
  cursor: pointer;
  z-index: 2;
}

.sheet-dice-roll-wrapper span {
  z-index: 1;
  font-weight: bold;
  padding-left: 4px;
}

.sheet-dice-roll-wrapper button {
  flex-shrink: 0;
  margin-left: 6px;
}

/* Custom roll row */
.sheet-dice-custom {
  grid-column: span 2;
  display: flex;
  justify-content: space-between; /* input left, button right */
  align-items: center;
  gap: 6px;
  height: 100%;       /* ← ensure full height of the grid cell */
  box-sizing: border-box;
  padding: 0;         /* ensure no internal spacing */
}

/* Dice roll button */
.sheet-dice-custom button {
  color: #18650D;
  background-color: #248c15;
  font-weight: bold;
  text-align: center;
  width: 24px;
  height: 24px;
  padding: 0;
  border: 1px solid black;
  line-height: 1;          /* ← fix icon overflow */
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}

/* On hover */
.sheet-dice-custom button:hover {
  background-color: orange;
  color: white;
}
.sheet-dice-custom input {
  flex: 1;
  width: 100%;
  text-align: right;
  background: #f5f5f5;
  border: none;
  padding: 2px 4px;
  font-size: 0.9em;
}

/* ----------------------- Dice Modifiers ---------------------- */
.sheet-dice_modifiers {
  flex: 0 0 16%;
  min-width: 0;
  background: #d0cabe;
  margin: 0;
  padding: 0;
  display: block;
}

.sheet-dice-modifier-tabs {
  display: flex;
  flex-direction: column;
  width: 100%;
  box-sizing: border-box;
  gap: 0;
}

/* Modifier Button Base Style */
.sheet-dice-modifier-tabs button[type="action"] {
  flex: 0 0 24px;
  font-weight: bold;
  padding: 4px 6px;
  color: black;
  background: #d0cabe;
  border: 1px solid #d0cabe;
  text-align: center;
  cursor: pointer;
  height: 24px;
  box-sizing: border-box;
  margin: 0;
}

/* Active Negative Modifier (Red) */
.sheet-dice-modifier-tabs input[name="attr_dice_modifier_checkbox"][value="-20"] ~ button[name="act_-20"],
.sheet-dice-modifier-tabs input[name="attr_dice_modifier_checkbox"][value="-10"] ~ button[name="act_-10"] {
  background: #aa3333;
  color: white;
}

/* Active Positive Modifier (Blue) */
.sheet-dice-modifier-tabs input[name="attr_dice_modifier_checkbox"][value="10"] ~ button[name="act_10"],
.sheet-dice-modifier-tabs input[name="attr_dice_modifier_checkbox"][value="20"] ~ button[name="act_20"] {
  background: #3366aa;
  color: white;
}

/* Reset all on 0 */
.sheet-dice-modifier-tabs input[name="attr_dice_modifier_checkbox"][value="0"] ~ button {
  background: #d0cabe;
  color: black;
}

/* -------------------------------------------------------------------------- */

/* Body hit Location */
.sheet-rolltemplate-coc-body-hit-loc table {
    width: 100%;
    border: 1px solid black;
    color: black;
    background: #ffffff;
    text-align: center;
}
.sheet-rolltemplate-coc-body-hit-loc caption {
    text-align: center;
    background: black;
    color: white;
    font-weight: bold;
    padding: 2px;
  border: 1px solid black;
  line-height: 1.6em;
}
.sheet-rolltemplate-coc-body-hit-loc td {
  padding: 2px;
  border-bottom: 1px solid black;
  text-align: center;
}
.sheet-rolltemplate-coc-body-hit-loc td.sheet-template_label {
    font-weight: Bold;
    text-align: center;
}
.sheet-rolltemplate-coc-body-hit-loc td.sheet-template_value {
    text-align: center;
}
.sheet-rolltemplate-coc-body-hit-loc .inlinerollresult  {
  display: inline-block;
  min-width: 1.5em;
  text-align: center;
  border: 1px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-body-hit-loc .inlinerollresult.importantroll {
  border: 1px solid black;
    background: #702c91;
    text-align: center;
}

/* -------------------------------------------------------------------------- */

/* --------------------------- Wounds Start --------------------------------------- */
.ui-dialog .tab-content .charsheet .sheet-wounds {
  flex: 0 0 25%;
  text-align: center;
  background: #d0cabe;
  margin: 0;
  padding: 0;
}

.ui-dialog .tab-content .charsheet .sheet-wounds-tabs {
  display: flex;
  flex-direction: column;
  width: 100%;
  box-sizing: border-box;
  gap: 0;
}

/* Modifier Button Base Style */
.ui-dialog .tab-content .charsheet .sheet-wounds-tabs button[type="action"] {
  flex: 0 0 24px;
  font-weight: bold;
  color: black;
  background: #d0cabe;
  border: 1px solid #d0cabe;
  text-align: start;
  cursor: pointer;
  height: 30px;
  box-sizing: border-box;
  margin: 0;
}

/* Active state */
.ui-dialog .tab-content .charsheet .sheet-wounds-wrapper input[name="attr_major_wounds_checkbox"][value="1"] + button[name="act_major_wounds"],
.ui-dialog .tab-content .charsheet .sheet-wounds-wrapper input[name="attr_unconcious_checkbox"][value="1"] + button[name="act_unconcious"],
.ui-dialog .tab-content .charsheet .sheet-wounds-wrapper input[name="attr_dying_checkbox"][value="1"] + button[name="act_dying"] {
  background: #aa3333;
  color: white;
}

/* Default state */
.ui-dialog .tab-content .charsheet .sheet-wounds-wrapper input[name="attr_major_wounds_checkbox"][value="0"] + button[name="act_major_wounds"],
.ui-dialog .tab-content .charsheet .sheet-wounds-wrapper input[name="attr_unconcious_checkbox"][value="0"] + button[name="act_unconcious"],
.ui-dialog .tab-content .charsheet .sheet-wounds-wrapper input[name="attr_dying_checkbox"][value="0"] + button[name="act_dying"] {
  background: #d0cabe;
  color: black;
}

.ui-dialog .tab-content .charsheet .sheet-wounds-wrapper {
  display: grid;
  grid-template-columns: 0.5fr 1.5fr;
  background: #d0cabe;
  border: 1px solid #d9d9d9;
  align-items: center;
  padding: 2px 0 0 0;
  height: 100%;
}


.ui-dialog .tab-content .charsheet .sheet-wounds label {
  font-size: 100%;
  color: black;
  padding: 2px 0 0 4px;
  text-align: start;
  height: 24px;
  margin: 0;
  gap: 0;
}

/* ---------------------------- Wounds End ---------------------------------------- */

/* ---------------------------- Statuses Start ---------------------------------------- */

.ui-dialog .tab-content .charsheet .sheet-statuses {
  flex: 0 0 25%;
  text-align: center;
  background: #d0cabe;
  margin: 0;
  padding: 0;
}

.ui-dialog .tab-content .charsheet .sheet-statuses-wrapper {
	height: 24px;
}

.ui-dialog .tab-content .charsheet .sheet-statuses-wrapper input {
	height: 100%;
	background: #f5f5f5;
	border: 1px solid black;
	margin-top: 1px;
	text-align: center;
	font-weight: bold;
}



/* ---------------------------- Statuses End ---------------------------------------- */


/* --------------------- Tabbed Selection Bar Start ------------------------------------------------------- */

/* Hide all content sections by default */
.sheet-tab-content {
  display: none;
  padding: 10px;
}

/* Show selected tab's section */
.sheet-tab-controller[value="skills"] ~ .sheet-skills,
.sheet-tab-controller[value="perks"] ~ .sheet-perks,
.sheet-tab-controller[value="flaws"] ~ .sheet-flaws,
.sheet-tab-controller[value="ancestry"] ~ .sheet-ancestry,
.sheet-tab-controller[value="background"] ~ .sheet-background,
.sheet-tab-controller[value="careers"] ~ .sheet-careers,
.sheet-tab-controller[value="combat"] ~ .sheet-combat,
.sheet-tab-controller[value="spells"] ~ .sheet-spells,
.sheet-tab-controller[value="inventory"] ~ .sheet-inventory,
.sheet-tab-controller[value="backstory"] ~ .sheet-backstory,
.sheet-tab-controller[value="npcs"] ~ .sheet-npcs,
.sheet-tab-controller[value="vehicles"] ~ .sheet-vehicles,
.sheet-tab-controller[value="summary_text"] ~ .sheet-summary-text,
.sheet-tab-controller[value="summary_type"] ~ .sheet-summary-type,
.sheet-tab-controller[value="ledger"] ~ .sheet-ledger,
.sheet-tab-controller[value="tracker"] ~ .sheet-tracker {
  display: block;
}

/* Tab Button Bar Styling */
.ui-dialog .tab-content .charsheet .sheet-tab-buttons {
  display: flex;
  height: 25px;
  width: 100%;
  justify-content: space-around;
}

.ui-dialog .tab-content .charsheet .sheet-tab-buttons button {
  flex: 1;
  background-color: #444;
  color: white;
  font-weight: bold;
  border: 1px solid black;
  padding: 2px 0;
  font-size: 90%;
  cursor: pointer;
  transition: background-color 0.2s ease;
}



.sheet-tab-controller[value="skills"] ~ .sheet-tab-buttons button[name="act_skills"],
.sheet-tab-controller[value="perks"] ~ .sheet-tab-buttons button[name="act_perks"],
.sheet-tab-controller[value="flaws"] ~ .sheet-tab-buttons button[name="act_flaws"],
.sheet-tab-controller[value="ancestry"] ~ .sheet-tab-buttons button[name="act_ancestry"],
.sheet-tab-controller[value="background"] ~ .sheet-tab-buttons button[name="act_background"],
.sheet-tab-controller[value="careers"] ~ .sheet-tab-buttons button[name="act_careers"],
.sheet-tab-controller[value="combat"] ~ .sheet-tab-buttons button[name="act_combat"],
.sheet-tab-controller[value="spells"] ~ .sheet-tab-buttons button[name="act_spells"],
.sheet-tab-controller[value="inventory"] ~ .sheet-tab-buttons button[name="act_inventory"],
.sheet-tab-controller[value="backstory"] ~ .sheet-tab-buttons button[name="act_backstory"],
.sheet-tab-controller[value="npcs"] ~ .sheet-tab-buttons button[name="act_npcs"],
.sheet-tab-controller[value="summary_text"] ~ .sheet-tab-buttons button[name="act_summary_text"],
.sheet-tab-controller[value="summary_type"] ~ .sheet-tab-buttons button[name="act_summary_type"],
.sheet-tab-controller[value="vehicles"] ~ .sheet-tab-buttons button[name="act_vehicles"],
.sheet-tab-controller[value="ledger"] ~ .sheet-tab-buttons button[name="act_ledger"],
.sheet-tab-controller[value="tracker"] ~ .sheet-tab-buttons button[name="act_tracker"] {
  background-color: #222;
}

/* ---------------------- Skill Section --------------------------------------------- */

.sheet-skill-columns {
	display: flex;
	flex-wrap: nowrap;
	justify-content: space-between;
	column-gap: 8px;
	max-width: 840px;
	width: 100%;
}

.sheet-skill-column {
	width: 32%;
}

.sheet-skill-grid-header {
	display: grid;
	grid-template-columns: 20px 1fr 30px 30px;
	align-items: center;
	background-color: #333;
	color: white;
	font-weight: bold;
	border-bottom: 1px solid #000;
	padding: 2px 0;
	text-align: center;
}

.sheet-skill-grid {
  display: grid;
  grid-template-columns: 20px 1fr auto auto; /* last two are SP + Val */
  column-gap: 0px;
}

.sheet-skill-grid > :nth-child(1),
.sheet-skill-grid > :nth-child(2) {
  margin-right: 4px; /* manual spacing for checkbox + label */
}


/* .sheet-skill-grid > div { border: 1px solid red; } */

.ui-dialog .tab-content .charsheet .sheet-val-roll-static {
  position: relative;
  width: 100%;
  height: 100%;
  pointer-events: none; /* Block interactions unless inside */
  z-index: 0;
  display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-val-roll-static input {
  width: 100%;
  height: 100%;
  pointer-events: none;
  background-color: rgba(255,255,255,0.5);
  text-align: center;
  box-sizing: border-box;
}

.ui-dialog .tab-content .charsheet .sheet-val-roll-static div {
  width: 100%;
  height: 100%;
  pointer-events: none;
  background-color: rgba(255,255,255,0.5);
  text-align: center;
  box-sizing: border-box;
}

.ui-dialog .tab-content .charsheet .sheet-val-roll-static button[type="roll"] {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  cursor: pointer;
  z-index: 1;
  pointer-events: auto;
}

.ui-dialog .charsheet .repcontainer .repitem .itemcontrol .repcontrol_del {
  z-index: 10;
  position: relative;
}

.editmode .sheet-val-roll-static button[type="roll"] {
  pointer-events: none; /* disables rolling in edit mode */
}

/* Fix for repeating section control buttons (drag & delete) */
.repcontrol {
  z-index: 10;
  position: relative;
}


.sheet-skill-grid input[type="text"],
.sheet-skill-grid input[type="number"] {
  height: 20px;
  width: 30px;
  text-align: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

input[type="text"].sheet-skill-name-input {
    height:20px;
	width: 162px;
    text-align: left;
    margin-bottom: 1px;
}

input[type="text"].sheet-narrow-input {
    background-color: rgba(255,255,255,0.5);
    color: black;
    height: 16px;
    text-align: center;
    font-size: 85%;
}

.sheet-skill-spacer {
	height: 8px; /* Approx half a row */
}

.skill-label-wrapper {
  display: flex;
  align-items: center;
  gap: 4px;
}

.sheet-improved-indicator {
	font-size: 14px;
	font-weight: bold;
}

input[type="text"].sheet-improved-indicator {
  width: 14px;
  height: 14px;
  padding: 0;
  margin: 0;
  font-size: 12px;
  font-weight: bold;
  line-height: 14px;
  text-align: center;
  background-color: transparent;
  color: #339;
  border: 1px solid #666;
  box-sizing: border-box;

  appearance: none;
  -moz-appearance: none;
  -webkit-appearance: none;
}


.sheet-improved-indicator:focus {
  outline: none;
}

.ui-dialog .tab-content .charsheet .sheet-skill-summary-wrapper {
	margin-top: 8px;
	border: 1px solid black;
	background: #beccd0;
}


.ui-dialog .tab-content .charsheet .sheet-skill-summary-wrapper .sheet-skill-columns {
	display: flex;
	flex-direction: row;
	gap: 0;
}

.ui-dialog .tab-content .charsheet .sheet-skill-summary-wrapper .sheet-skill-column {
	display: flex;
	flex-direction: column;
	margin: 0;
	gap: 0;
	padding: 0;
	width: 100%;
}

.ui-dialog .tab-content .charsheet .sheet-skill-summary-wrapper .sheet-skill-columns > :nth-child(2) {
	border-left: 1px solid black;
	border-right: 1px solid black;
}

.ui-dialog .tab-content .charsheet .sheet-skill-summary-wrapper .section-head {
	margin: 0;
	border: 0;
}

/* Container (optional) */
.ui-dialog .tab-content .charsheet .sheet-skill-summary {
  background: #d0cabe;
  margin: 0;
  padding: 4px 0 4px 8px;
  min-height: 100px;
}


/* Preserve newlines + tabs, allow wrapping, and keep it block-level */
.ui-dialog .tab-content .charsheet .sheet-skill-summary span[name="attr_perk_skill_summary"],
.ui-dialog .tab-content .charsheet .sheet-skill-summary span[name="attr_flaw_skill_summary"],
.ui-dialog .tab-content .charsheet .sheet-skill-summary span[name="attr_racial_traits_skill_summary"],
.ui-dialog .tab-content .charsheet .sheet-skill-summary span[name="attr_racial_skill_summary"],
.ui-dialog .tab-content .charsheet .sheet-skill-summary span[name="attr_career_skill_summary"] {
  display: block;
  white-space: pre-wrap;   /* preserves \n and \t, wraps long lines */
  tab-size: 2;             /* optional: visual width for \t */
  line-height: 1.2;
  word-break: break-word;  /* safety for long tokens */
}

/* =============================== */
/* Backgrounds (v2) - CSS Wizardry */
/* Controller: attr_background_choice */
/* Generated from backgroundDataMap keys */
/* =============================== */

/* Hide all v2 background blocks by default (already true via .sheet-bgblock { display:none; }) */

.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="academic"] ~ .sheet-bg-academic,
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="corporate"] ~ .sheet-bg-corporate,
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="devotee"] ~ .sheet-bg-devotee,
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="enforcer"] ~ .sheet-bg-enforcer,
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="fringer"] ~ .sheet-bg-fringer,
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="laborer"] ~ .sheet-bg-laborer,
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="media"] ~ .sheet-bg-media,
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="nomad"] ~ .sheet-bg-nomad,
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="offworlder"] ~ .sheet-bg-offworlder,
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="privileged"] ~ .sheet-bg-privileged,
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="streetborn"] ~ .sheet-bg-streetborn,
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="survivor"] ~ .sheet-bg-survivor,
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="underworld"] ~ .sheet-bg-underworld {
  display: block;
}

.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="academic"] ~ .sheet-tab-buttons button[name="act_academic"],
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="corporate"] ~ .sheet-tab-buttons button[name="act_corporate"],
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="devotee"] ~ .sheet-tab-buttons button[name="act_devotee"],
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="enforcer"] ~ .sheet-tab-buttons button[name="act_enforcer"],
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="fringer"] ~ .sheet-tab-buttons button[name="act_fringer"],
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="laborer"] ~ .sheet-tab-buttons button[name="act_laborer"],
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="media"] ~ .sheet-tab-buttons button[name="act_media"],
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="nomad"] ~ .sheet-tab-buttons button[name="act_nomad"],
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="offworlder"] ~ .sheet-tab-buttons button[name="act_offworlder"],
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="privileged"] ~ .sheet-tab-buttons button[name="act_privileged"],
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="streetborn"] ~ .sheet-tab-buttons button[name="act_streetborn"],
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="survivor"] ~ .sheet-tab-buttons button[name="act_survivor"],
.ui-dialog .tab-content .charsheet .sheet-tab-controller[name="attr_background_choice"][value="underworld"] ~ .sheet-tab-buttons button[name="act_underworld"] {
  background-color: #222;
}

/* Locking for Backgrounds (v2) non-skill choice checkboxes */
/* Pattern: hidden attr_*_checkbox_lock (value 1) immediately followed by checkbox attr_*_checkbox */
.ui-dialog .tab-content .charsheet input[type="hidden"][name$="_checkbox_lock"][value="1"] + input[type="checkbox"][name$="_checkbox"] {
  pointer-events: none;
  opacity: 0.5;
  cursor: not-allowed;
}

.ui-dialog .tab-content .charsheet input[type="hidden"][name$="_checkbox_lock"][value="1"] + input[type="checkbox"][name$="_checkbox"] ~ .sheet-bg-choice-text {
  opacity: 0.6;
}

/* ===================================================================== */
/* Backgrounds (v2) — Universal 13-Tab Layout                              */
/* Adds: feature row + 3-column grid (trained skills / starting kit / contacts) */
/* ===================================================================== */

.ui-dialog .tab-content .charsheet .sheet-bgblock-v2 {
	display: none;
	flex-direction: column;
	gap: 8px;
	width: 100%;
}

.ui-dialog .tab-content .charsheet .sheet-backgrounds-v2 .sheet-tab-buttons {
	display: flex;
	flex-wrap: wrap;
	height: auto;              /* override fixed 25px so it can wrap */
	justify-content: flex-start; /* space-around looks odd when wrapped */
	gap: 2px;
}

.ui-dialog .tab-content .charsheet .sheet-backgrounds-v2 .sheet-tab-buttons button {
	flex: 1 1 100px;  /* grow + shrink, base size 100px */
	min-width: 100px; /* hard minimum */
}

.ui-dialog .tab-content .charsheet .sheet-bg-v2-feature {
	display: grid;
	grid-template-columns: 1fr auto;
	grid-auto-rows: auto;
	gap: 4px 8px;
	padding: 6px 8px;
	border: 1px solid rgba(0,0,0,0.12);
	border-radius: 6px;
}

.ui-dialog .tab-content .charsheet .sheet-bg-v2-feature-name {
	font-weight: 700;
}

.ui-dialog .tab-content .charsheet .sheet-bg-v2-feature-usage {
	justify-self: end;
	font-size: 11px;
	opacity: 0.8;
	white-space: nowrap;
}

.ui-dialog .tab-content .charsheet .sheet-bg-v2-feature-desc {
	grid-column: 1 / -1;
	font-size: 12px;
	line-height: 1.35;
}

.ui-dialog .tab-content .charsheet .sheet-bg-v2-columns {
	display: grid;
	grid-template-columns: 1fr 1fr 1fr;
	gap: 8px;
}

.ui-dialog .tab-content .charsheet .sheet-bg-v2-col {
	border: 1px solid rgba(0,0,0,0.12);
	border-radius: 6px;
	padding: 6px 8px;
	min-width: 0;
}

.ui-dialog .tab-content .charsheet .sheet-bg-v2-col-header {
	font-weight: 700;
	margin-bottom: 6px;
}

.ui-dialog .tab-content .charsheet .sheet-bg-v2-col-body {
	display: flex;
	flex-direction: column;
	gap: 4px;
	background: lightgray;
}

.ui-dialog .tab-content .charsheet .sheet-bg-v2-item-name {
	font-weight: 700;
}

.ui-dialog .tab-content .charsheet .sheet-bg-v2-item-desc {
	font-size: 12px;
	line-height: 1.3;
	opacity: 0.95;
}

@media (max-width: 700px) {
	.ui-dialog .tab-content .charsheet .sheet-bg-v2-columns {
		grid-template-columns: 1fr;
	}
}

.ui-dialog .tab-content .charsheet .sheet-bg-v2-choice {
	display: flex;
	gap: 6px;
	align-items: flex-start;
}

.ui-dialog .tab-content .charsheet .sheet-bg-v2-choice > input[type="checkbox"] {
	margin: 2px 0 0 0;
	flex: 0 0 auto;
}

.ui-dialog .tab-content .charsheet .sheet-bg-v2-choice .sheet-bg-v2-item {
	flex: 1 1 auto;
}

.ui-dialog .tab-content .charsheet label.sheet-bg-v2-choice {
	color: inherit;
	opacity: 1;
}

.ui-dialog .tab-content .charsheet .sheet-bg-v2-trained .sheet-bg-skill-row {
	column-gap: 6px;
}

.ui-dialog .tab-content .charsheet .sheet-bg-v2-trained .sheet-bg-skill-row input[type="checkbox"] {
	margin-right: 6px;
}

.ui-dialog .tab-content .charsheet label.sheet-bg-v2-choice .sheet-bg-v2-item-name,
.ui-dialog .tab-content .charsheet label.sheet-bg-v2-choice .sheet-bg-v2-item-desc{
	color: inherit;
	font-size:85%;
	font-weight: bold;
}

.ui-dialog .tab-content .charsheet label.sheet-bg-v2-choice .sheet-bg-v2-item-desc {
	font-weight: normal;
}

.ui-dialog .tab-content .charsheet .sheet-bg-skill-row input[type="hidden"][name^="attr_bg_"][name$="_lock"][value="1"] ~ input[type="checkbox"][name^="attr_bg_"][name$="_mdr_checkbox"] {
	pointer-events: none;
	opacity: 0.5;
}

/* Grey out the label text when locked */
.ui-dialog .tab-content .charsheet .sheet-bg-skill-row input[type="hidden"][name^="attr_bg_"][name$="_lock"][value="1"] ~ .sheet-bg-skill-label {
	opacity: 0.5;
}

/* Optional: show a “not-allowed” cursor on the row when locked */
.ui-dialog .tab-content .charsheet .sheet-bg-skill-row input[type="hidden"][name^="attr_bg_"][name$="_lock"][value="1"] ~ * {
	cursor: not-allowed;
}

/* PATCH: Background Feature Tracker visibility (show only for active background tab) */
.ui-dialog .tab-content .charsheet .sheet-tracker-item.sheet-bg-feature {
	display: none;
}

/* Hide all background feature tracker items by default */
.ui-dialog .tab-content .charsheet .sheet-tracker-section.sheet-tracker-talent .sheet-tracker-item.sheet-bg-feature {
	display: none;
}

/* Dropdown row (mirrors career select visual weight, but scoped) */
.ui-dialog .tab-content .charsheet .sheet-backgrounds-v2 .sheet-background-grid {
	display: grid;
	grid-template-columns: 90px 1fr;
	gap: 6px;
	align-items: center;
	margin-top: 6px;
	margin-bottom: 4px;
}


.ui-dialog .tab-content .charsheet .sheet-backgrounds-v2 .sheet-background-grid select[name="attr_background_locked_choice"] {
	max-width: 150px;
}

.ui-dialog .tab-content .charsheet .sheet-backgrounds-v2 select[name="attr_background_locked_choice"] {
	text-align: center;
	text-align-last: center; /* helps in Firefox/Chromium for selected option */
}


.ui-dialog .tab-content .charsheet .sheet-backgrounds-v2 select[name="attr_background_locked_choice"] option {
	text-align: center;
	text-align-last: center; /* helps in Firefox/Chromium for selected option */
}

.ui-dialog .tab-content .charsheet .sheet-backgrounds-v2 .sheet-background-grid-label {
	font-weight: 700;
	margin-bottom: 8px;
}

/* Background block overlay mechanics */
.ui-dialog .tab-content .charsheet .sheet-backgrounds-v2 .sheet-bgblock-v2 {
	position: relative;
}

.ui-dialog .tab-content .charsheet .sheet-backgrounds-v2 .sheet-bg-locked-overlay {
	display: none;
	position: absolute;
	top: 0px;
	left: 0;
	right: 0;
	background: rgba(0, 0, 0, 0.6);
	color: white;
	font-weight: bold;
	padding: 10px;
	text-align: center;
	z-index: 10;
}

/* When this background is not active (ready=0), show overlay and disable interactions */
.ui-dialog .tab-content .charsheet .sheet-backgrounds-v2 .sheet-bgblock-v2 input.sheet-bg-ready-controller[value="0"] ~ .sheet-bg-locked-overlay {
	display: block;
}

.ui-dialog .tab-content .charsheet .sheet-backgrounds-v2 .sheet-bgblock-v2 input.sheet-bg-ready-controller[value="0"] ~ .sheet-bg-v2-feature,
.ui-dialog .tab-content .charsheet .sheet-backgrounds-v2 .sheet-bgblock-v2 input.sheet-bg-ready-controller[value="0"] ~ .sheet-bg-v2-columns {
	pointer-events: none;
	opacity: 0.4;
	filter: grayscale(80%);
}

.ui-dialog .tab-content .charsheet .sheet-backgrounds-v2 .sheet-bgblock-v2 input.sheet-bg-ready-controller[value="1"] ~ .sheet-bg-v2-feature,
.ui-dialog .tab-content .charsheet .sheet-backgrounds-v2 .sheet-bgblock-v2 input.sheet-bg-ready-controller[value="1"] ~ .sheet-bg-v2-columns {
	pointer-events: auto;
	opacity: 1;
	filter: none;
}

/* Show only the locked background’s items */
.ui-dialog .tab-content .charsheet .sheet-tracker-section.sheet-tracker-talent .sheet-tracker-group-row input[name="attr_background_locked_choice"][value="academic"] ~ .sheet-tracker-group-body .sheet-bg-academic {
	display: flex;
}

ui-dialog .tab-content .charsheet .sheet-tracker-section.sheet-tracker-talent .sheet-tracker-group-row input[name="attr_background_locked_choice"][value="corporate"] ~ .sheet-tracker-group-body .sheet-bg-corporate {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tracker-section.sheet-tracker-talent .sheet-tracker-group-row input[name="attr_background_locked_choice"][value="devotee"] ~ .sheet-tracker-group-body .sheet-bg-devotee {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tracker-section.sheet-tracker-talent .sheet-tracker-group-row input[name="attr_background_locked_choice"][value="enforcer"] ~ .sheet-tracker-group-body .sheet-bg-enforcer {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tracker-section.sheet-tracker-talent .sheet-tracker-group-row input[name="attr_background_locked_choice"][value="fringer"] ~ .sheet-tracker-group-body .sheet-bg-fringer {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tracker-section.sheet-tracker-talent .sheet-tracker-group-row input[name="attr_background_locked_choice"][value="laborer"] ~ .sheet-tracker-group-body .sheet-bg-laborer {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tracker-section.sheet-tracker-talent .sheet-tracker-group-row input[name="attr_background_locked_choice"][value="media"] ~ .sheet-tracker-group-body .sheet-bg-media {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tracker-section.sheet-tracker-talent .sheet-tracker-group-row input[name="attr_background_locked_choice"][value="nomad"] ~ .sheet-tracker-group-body .sheet-bg-nomad {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tracker-section.sheet-tracker-talent .sheet-tracker-group-row input[name="attr_background_locked_choice"][value="offworlder"] ~ .sheet-tracker-group-body .sheet-bg-offworlder {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tracker-section.sheet-tracker-talent .sheet-tracker-group-row input[name="attr_background_locked_choice"][value="privileged"] ~ .sheet-tracker-group-body .sheet-bg-privileged {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tracker-section.sheet-tracker-talent .sheet-tracker-group-row input[name="attr_background_locked_choice"][value="streetborn"] ~ .sheet-tracker-group-body .sheet-bg-streetborn {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tracker-section.sheet-tracker-talent .sheet-tracker-group-row input[name="attr_background_locked_choice"][value="survivor"] ~ .sheet-tracker-group-body .sheet-bg-survivor {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tracker-section.sheet-tracker-talent .sheet-tracker-group-row input[name="attr_background_locked_choice"][value="underworld"] ~ .sheet-tracker-group-body .sheet-bg-underworld {
	display: flex;
}

/* ------------------------------- Background and Talent ------------------------------------------- */

.sheet-talent-section-head {
  text-align: center;
  margin: 0.5em 0;
}

.sheet-talent-header th {
  background-color: #444; /* dark header for contrast */
  color: white;
  font-weight: bold;
  text-align: center;
  padding: 4px;
  border: 1px solid black;
  font-size: 90%;
}

.sheet-talent-header th:nth-child(1) {
  width: 5%;
}

.sheet-talent-header th:nth-child(2) {
  width: 40%;
}

.sheet-talent-header th:nth-child(3) {
  width: 50%;
}

.sheet-talent-header th:nth-child(4) {
  width: 5%;
}

.sheet-background-section-head {
  text-align: center;
  margin: 0.5em 0;
  font-size: 1.1em;
  font-weight: bold;
}

.ui-dialog .tab-content .charsheet .sheet-bgblock-flex {
  display: flex;
  gap: 1rem; /* optional spacing between columns */
  flex-wrap: wrap; /* just in case of narrow widths */
}
.ui-dialog .tab-content .charsheet .sheet-bg-skill-row {
  margin: 4px 0 0 0.25rem;
  display: flex;
  align-items: center;
}

/* Skills first */
.ui-dialog .tab-content .charsheet .sheet-trained-skills {
  order: 1;
  flex: 1;
  border: 1px solid black;
}

/* Talents second */
.ui-dialog .tab-content .charsheet .sheet-starting-talents {
  order: 2;
  flex: 1;
  border: 1px solid black;
}

/* Item third */
.ui-dialog .tab-content .charsheet .sheet-starting-item {
  order: 3;
  flex: 1;
  border: 1px solid black;
}

.ui-dialog .tab-content .charsheet input[name$="_lock"][value="1"] ~ input[type="checkbox"].sheet-bg-skill-checkbox {
  pointer-events: none;
  opacity: 0.3;
  cursor: not-allowed;
}

.ui-dialog .tab-content .charsheet input[name$="_lock"][value="1"] ~ input[type="checkbox"].sheet-bg-skill-checkbox ~ label.sheet-bg-skill-label {
  opacity: 0.5;
}

.ui-dialog .tab-content .charsheet .sheet-trained-skills h4,
.ui-dialog .tab-content .charsheet .sheet-starting-talents h4,
.ui-dialog .tab-content .charsheet .sheet-starting-item h4 {
	margin-bottom: 10px;
	border: 1px solid black;
	background: black;
	color: white;
	text-align: center;
}

.ui-dialog .tab-content .charsheet .sheet-starting-item span {
	display: block;
}

.ui-dialog .tab-content .charsheet .sheet-trained-skills label,
.ui-dialog .tab-content .charsheet .sheet-starting-talents label,
.ui-dialog .tab-content .charsheet .sheet-starting-item span {
	color: black;
	font-size: 100%;
	padding: 0 0 0 4px;
}

.ui-dialog .tab-content .charsheet .bg-description .sheet-quote {
    display: block;
    font-weight: bold;
    font-style: italic;
    margin-bottom: 0.2em; /* slight spacing if needed */
}

/* Table styling for racial talents and backgrounds */

.sheet-talent-grid {
  display: block;
  width: 100%;
  border: 1px solid black;
  margin-top: 5px;
  box-sizing: border-box;
}

/* Header row styles */
.sheet-talent-header-row {
  display: grid;
  grid-template-columns:  30px 1fr 2fr 40px;
  background-color: #444;
  color: white;
  font-weight: bold;
  text-align: left;
  padding: 0;
  margin: 0;
  border-bottom: 1px solid black;
  font-size: 100%;
  box-sizing: border-box;
}

/* Data rows */
/* Base row: checkbox | label | description | 40px */
.sheet-talent-row {
  display: grid;
  grid-template-columns: 30px 1fr 2fr 40px;
  align-items: start;
  border-bottom: 1px solid #ccc;
  font-size: 100%;
  box-sizing: border-box;
}

.sheet-talent-checkbox      { grid-column: 1; }
.sheet-talent-label         { grid-column: 2; }
.sheet-talent-description   { grid-column: 3; }
.sheet-talent-prereq        { grid-column: 4; display: none; font-size: 90%; opacity: .85; padding-left: .5rem; }

/* Toggle: when the checkbox BEFORE .sheet-ancestry is checked, expand grid + show prereqs */
.sheet-prereq-toggle:checked ~ .sheet-ancestry .sheet-talent-row,
.sheet-prereq-toggle:checked ~ .sheet-ancestry .sheet-talent-header-row {
  grid-template-columns: 30px 1fr 2fr 1fr 40px; /* + prereq column */
}
.sheet-prereq-toggle:checked ~ .sheet-ancestry .sheet-talent-prereq {
  display: block;
  grid-column: 4;
  color: white;
  width: 120px;
}

/* Toolbar visuals */
.sheet-talent-toolbar {
  display: flex;
  justify-content: flex-end;
  margin: .25rem 0 .5rem;
}

/* Visually hide the controller but keep it clickable via the label */
.sheet-prereq-toggle {
  position: absolute;
  width: 1px; height: 1px; overflow: hidden;
  clip: rect(0 0 0 0); white-space: nowrap;
}

/* Draw a faux checkbox in the label */
.sheet-prereq-toggle-label {
  display: inline-flex;
  gap: .4rem;
  padding: 0 0 0 14px;
  align-items: center;
  cursor: pointer;
  font-size: 90%;
  text: wrap;
}
.sheet-prereq-toggle + .sheet-talent-toolbar .sheet-prereq-toggle-label::before {
  content: "☐";
  color: white;
}
.sheet-prereq-toggle:checked + .sheet-talent-toolbar .sheet-prereq-toggle-label::before {
  content: "☑";
  color: #6495ED;
}

/* Cell formatting for consistent alignment */
.sheet-talent-row .col-a,
.sheet-talent-row .col-val {
  text-align: center;
}
.col-val {
  width: 40px;
  height: 100%;
  padding: 0;
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  box-sizing: border-box;
}

/* Constrain input size in Val column */
.col-val input {
  width: 30px;            /* slightly less to account for padding/borders */
  min-width: 0;
  max-width: 100%;
  padding: 0 2px;
  margin: 0;
  height: 20px;
  box-sizing: border-box;
  text-align: center;
  font-size: 0.85em;
}

.col-desc {
  width: 200px;
  height: 100%;
  padding: 0;
  margin: 0;
  display: flex;
  box-sizing: border-box;
}

.col-benefit {
  width: 125px;
  height: 100%;
  padding: 0;
  margin: 0;
  display: flex;
  box-sizing: border-box;
  flex-wrap: nowrap;
}

/* -------------------- end of Background and Talent ------------------------*/

/* ------------------- Tabs - Background styling - Start ------------------------------------------------------- */

/* Default hidden */
.sheet-bgblock {
  display: none;
}

.sheet-racials1,
.sheet-racials2,
.sheet-racials3,
.sheet-racials4,
.sheet-racials5,
.sheet-racials6,
.sheet-racials7,
.sheet-racials8 {
  display: none;
}


.sheet-bgblock-flex {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: 10px;
  padding: 10px 0;
}

.sheet-bg-content-left {
  flex: 1 1 48%;
  min-width: 280px;
}

.sheet-bg-content-right {
  flex: 1 1 48%;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100px;
  border: 1px dashed #666;
  background: #1a1a1a;
  padding: 5px;
}

.sheet-bg-content-right img {
  max-width: 100%;
  height: auto;
  object-fit: contain;
}

input[name="attr_showracials"][value="alteri"] ~ .sheet-racials1 {
  display: block;
}

input[name="attr_showracials"][value="draevi"] ~ .sheet-racials2 {
  display: block;
}

input[name="attr_showracials"][value="feran"] ~ .sheet-racials3 {
  display: block;
}

input[name="attr_showracials"][value="human"] ~ .sheet-racials4 {
  display: block;
}

input[name="attr_showracials"][value="khadra"] ~ .sheet-racials5 {
  display: block;
}

input[name="attr_showracials"][value="kitsu"] ~ .sheet-racials6 {
  display: block;
}

input[name="attr_showracials"][value="lyranni"] ~ .sheet-racials7 {
  display: block;
}

input[name="attr_showracials"][value="veyra"] ~ .sheet-racials8 {
  display: block;
}

.sheet-ancestry-flex {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.sheet-ancestry-label {
  font-weight: bold;
  font-size: 90%;
  color: black;
  margin-top: 4px;
}

.sheet-talent-textarea {
  width: 100%;
  height: 75px;
  resize: vertical;
  background-color: rgba(255, 255, 255, 0.5);
  color: black;
  padding: 4px;
  border: 1px solid #666;
  box-sizing: border-box;
}

/* --------------------- Tabs - Background styling - End ----------------------------------------------------- */

/* --------------------- Tabs - Talent styling - Start ----------------------------------------------------- */

/* Talents tab: hide all race blocks by default */
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry .sheet-racials1,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry .sheet-racials2,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry .sheet-racials3,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry .sheet-racials4,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry .sheet-racials5,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry .sheet-racials6,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry .sheet-racials7,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry .sheet-racials8 {
	display: none; }

/* === Show selected race inside the Talents tab === */
/* Each rule shows both direct siblings and descendants that appear AFTER the controller */

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry input[name="attr_showracials"][value="alteri"] ~ .sheet-racials1,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry input[name="attr_showracials"][value="alteri"] ~ * .sheet-racials1 { display: block; }

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry input[name="attr_showracials"][value="draevi"] ~ .sheet-racials2,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry input[name="attr_showracials"][value="draevi"] ~ * .sheet-racials2 { display: block; }

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry input[name="attr_showracials"][value="feran"] ~ .sheet-racials3,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry input[name="attr_showracials"][value="feran"] ~ * .sheet-racials3 { display: block; }

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry input[name="attr_showracials"][value="human"] ~ .sheet-racials4,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry input[name="attr_showracials"][value="human"] ~ * .sheet-racials4 { display: block; }

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry input[name="attr_showracials"][value="khadra"] ~ .sheet-racials5,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry input[name="attr_showracials"][value="khadra"] ~ * .sheet-racials5 { display: block; }

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry input[name="attr_showracials"][value="kitsu"] ~ .sheet-racials6,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry input[name="attr_showracials"][value="kitsu"] ~ * .sheet-racials6 { display: block; }

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry input[name="attr_showracials"][value="lyranni"] ~ .sheet-racials7,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry input[name="attr_showracials"][value="lyranni"] ~ * .sheet-racials7 { display: block; }

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry input[name="attr_showracials"][value="veyra"] ~ .sheet-racials8,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry input[name="attr_showracials"][value="veyra"] ~ * .sheet-racials8 { display: block; }


/* Talent tab layout styling */
.ui-dialog .tab-content .charsheet .sheet-talent-tab {
  display: none;
}

/* --------------------- Tabs - Talent styling - End ----------------------------------------------------- */

/* --------------------- Tabs - New Talent styling - Start ----------------------------------------------------- */

.ui-dialog .tab-content .charsheet .sheet-xp-tracker {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 0.5rem;
  padding: 0.5rem;
  background: #1f1f1f;
  border: 1px solid #666;
  border-radius: 6px;
}

.ui-dialog .tab-content .charsheet .sheet-xp-row {
  display: flex;
  flex-direction: column;
}

.ui-dialog .tab-content .charsheet .sheet-xp-field {
  padding: 4px;
  font-size: 100%;
  background-color: #111;
  color: #eee;
  border: 1px solid #444;
  border-radius: 4px;
  width: 60px;
}

.ui-dialog .tab-content .charsheet .sheet-xp-field[readonly] {
  pointer-events: none;
  background-color: #222;
  color: #ccc;
  font-size: 100%;
  width: 40px;
}
.ui-dialog .tab-content .charsheet .sheet-talent-summary {
  padding: 0.75rem;
  background-color: #1a1a1a;
  border: 1px solid #333;
}

.ui-dialog .tab-content .charsheet .sheet-talent-summary-header {
  font-size: 100%;
  font-weight: bold;
  margin-bottom: 0.5rem;
  color: #ccc;
  border-bottom: 1px solid #444;
  padding-bottom: 0.25rem;
}

.ui-dialog .tab-content .charsheet span[name="attr_perk_summary"] {
  display: block;
  white-space: pre-wrap;
  color: #ddd;
  font-size: 100%;
  line-height: 1.4;
  margin-top: 0.5rem;
}

.ui-dialog .tab-content .charsheet span[name="attr_flaw_summary"] {
  display: block;
  white-space: pre-wrap;
  color: #ddd;
  font-size: 100%;
  line-height: 1.4;
  margin-top: 0.5rem;
}

.ui-dialog .tab-content .charsheet span[name="attr_talent_summary"] {
  display: block;
  white-space: pre-wrap;
  color: #ddd;
  font-size: 100%;
  line-height: 1.4;
  margin-top: 0.5rem;
}

.ui-dialog .tab-content .charsheet .sheet-talent-summary-wrapper {
  background: #1a1a1a;
  border: 1px solid #444;
  border-radius: 6px;
  margin: 0.5rem 0;
  padding: 0.5rem;
}

.ui-dialog .tab-content .charsheet .sheet-talent-summary-title {
  font-weight: bold;
  font-size: 100%;
  color: #ccc;
  border-bottom: 1px solid #444;
  margin-bottom: 0.5rem;
}

.ui-dialog .tab-content .charsheet .sheet-talent-summary-body {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.ui-dialog .tab-content .charsheet .sheet-talent-summary-row {
  display: grid;
  grid-template-columns: 2.5rem 200px 1fr; /* Tier / Name / Description */
  align-items: start;
  column-gap: 0.75rem;
  padding: 0.25rem 0;
}

.ui-dialog .tab-content .charsheet .sheet-talent-summary-tier {
  color: #aaa;
  font-weight: bold;
  white-space: nowrap;
}

.ui-dialog .tab-content .charsheet .sheet-talent-summary-name {
  font-weight: bold;
  color: #eee;
  white-space: nowrap;
}

.ui-dialog .tab-content .charsheet .sheet-talent-summary-desc {
  color: #aaa;
  font-size: 100%;
  white-space: normal;
}

/* Talent Tier Container */
.ui-dialog .tab-content .charsheet .sheet-talent-tier {
  margin-top: 1rem;
  padding: 0.5rem;
  background: #151515;
  border: 1px solid #333;
  border-radius: 6px;
}

/* Header for Talent Tier */
.ui-dialog .tab-content .charsheet .sheet-talent-tier-header {
  font-size: 100%;
  color: #ccc;
  border-bottom: 1px solid #444;
}

.ui-dialog .tab-content .charsheet .sheet-talent-row {
  display: grid;
  grid-template-columns: 28px 200px 1fr;
  gap: 0.5rem;
  align-items: start;
  margin-bottom: 0.75rem;
  padding: 0.5rem;
  border: 1px solid #333;
  border-radius: 4px;
}

.ui-dialog .tab-content .charsheet .sheet-talent-checkbox {
  margin: 0.35rem 0 0 0.25rem;
  align-self: start;
}

.ui-dialog .tab-content .charsheet .sheet-talent-label {
  font-weight: bold;
  font-size: 100%;
  color: #eee;
  white-space: nowrap;
}

.ui-dialog .tab-content .charsheet .sheet-talent-description {
  font-size: 110%;
  color: #aaa;
  white-space: normal;
}

.ui-dialog .tab-content .charsheet .sheet-skill-choice-placeholder {
  display: none;
  grid-column: 1 / -1; /* make sub-options span full width */
  margin-top: 0.5rem;
}


/* Disable interaction via _enabled or _lockflag */
.ui-dialog .tab-content .charsheet input[name$="_enabled"][value="0"] ~ input[type="checkbox"].sheet-talent-checkbox,
.ui-dialog .tab-content .charsheet input[name$="_lockflag"][value="1"] ~ input[type="checkbox"].sheet-talent-checkbox {
  pointer-events: none;
  opacity: 0.3;
  cursor: not-allowed;
}

/* Grey out labels and description when disabled */
.ui-dialog .tab-content .charsheet input[name$="_enabled"][value="0"] ~ input[type="checkbox"].sheet-talent-checkbox ~ .sheet-talent-label,
.ui-dialog .tab-content .charsheet input[name$="_enabled"][value="0"] ~ input[type="checkbox"].sheet-talent-checkbox ~ .sheet-talent-description,
.ui-dialog .tab-content .charsheet input[name$="_lockflag"][value="1"] ~ input[type="checkbox"].sheet-talent-checkbox ~ .sheet-talent-label,
.ui-dialog .tab-content .charsheet input[name$="_lockflag"][value="1"] ~ input[type="checkbox"].sheet-talent-checkbox ~ .sheet-talent-description {
  opacity: 0.5;
}

/* Disable interaction and style on talent sub-option section if locked */
.ui-dialog .tab-content .charsheet input[name$="_enabled"][value="0"] ~ input[type="checkbox"] ~ .sheet-skill-choice-placeholder {
  pointer-events: none;
  opacity: 0.3;
}

/* Draevi Talents w/skills */
.ui-dialog .tab-content .charsheet input[name="attr_show_marks_of_the_road_bonus"][value="1"] ~ .sheet-skill-choice-placeholder,
/* Feran Talents w/skills */
.ui-dialog .tab-content .charsheet input[name="attr_show_scavengers_instinct_bonus"][value="1"] ~ .sheet-skill-choice-placeholder,
/* Human Talents w/skills */
/* Khadra Talents w/skills */
.ui-dialog .tab-content .charsheet input[name="attr_show_legacy_of_iron_bonus"][value="1"] ~ .sheet-skill-choice-placeholder,
/* Kitsu Talents w/skills */
.ui-dialog .tab-content .charsheet input[name="attr_show_aether_flick_bonus"][value="1"] ~ .sheet-skill-choice-placeholder,
.ui-dialog .tab-content .charsheet input[name="attr_show_streetwise_instincts_bonus"][value="1"] ~ .sheet-skill-choice-placeholder {
  display: block;
}

.ui-dialog .tab-content .charsheet .sheet-skill-choice-options {
  display: flex;
  flex-direction: row;
  gap: 1rem;
  margin-top: 0.5rem;
  margin-left: 2rem;
}

.ui-dialog .tab-content .charsheet .sheet-skill-option {
  display: flex;
  align-items: center;
  background: #1a1a1a;
  border: 1px solid #333;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 100%;
  color: #ddd;
}


.ui-dialog .tab-content .charsheet .sheet-skill-option input[type="checkbox"] {
  margin-right: 0.5rem;
}

/* Fade label/description for locked Tier 4 */
.ui-dialog .tab-content .charsheet input[name$="_lockflag"][value="1"] ~ input.sheet-tier4-checkbox ~ .sheet-talent-label,
.ui-dialog .tab-content .charsheet input[name$="_lockflag"][value="1"] ~ input.sheet-tier4-checkbox ~ .sheet-talent-description {
  opacity: 0.5;
}

/* === Talents: merged summary + XP row (overrides) === */
.ui-dialog .tab-content .charsheet .sheet-talent-row-one {
  display: grid;
  grid-template-columns: minmax(120px, 10%) minmax(0, 1fr); /* summary | XP */
  gap: 0.5rem;
  align-items: start;
}

/* Neutralize the panel look when used inside the merged row */
.ui-dialog .tab-content .charsheet .sheet-talent-row-one .sheet-talent-summary {
  margin: 0;                 /* override 1rem top margin */               /* remove inner padding */
  border: 0;
}

/* Make the XP tracker compact and right-aligned in its 10% column */
.ui-dialog .tab-content .charsheet .sheet-talent-row-one .sheet-xp-tracker {
  display: flex;             /* override grid from base card */
  align-items: center;
  justify-content: flex-end;
  border: 0;
}

/* Tighter XP row inside the compact column */
.ui-dialog .tab-content .charsheet .sheet-talent-row-one .sheet-xp-row {
  display: flex;             /* override column stack if desired */
  flex-direction: column;    /* keep label above input; change to 'row' if you prefer side-by-side */
  align-items: center;
  gap: 2px;
  margin: 0;
}

.ui-dialog .tab-content .charsheet .sheet-talent-row-one .sheet-xp-row label {
  font-weight: bold;
  color: #ccc;
  margin: 0;
  text-align: center;
}

.ui-dialog .tab-content .charsheet .sheet-talent-row-one .sheet-xp-field {
  width: 100%;
  max-width: 80px;           /* keeps it tidy in the right column */
  text-align: center;
}

/* ===== Talents → Racial Traits (Name | Rules Text) ===== */
/* Single-row cards, 20% / 80% split */

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry .sheet-talent-racials .sheet-racial-traits {
    margin-top: 0.5rem;
}

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry .sheet-talent-racials .sheet-racial-traits .sheet-talent-tier-header {
    margin: 0 0 0.5rem 0;
	color: black;
	text-align: center;
}

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry .sheet-talent-racials .sheet-racial-trait-list {
    display: flex;
    flex-direction: column;
    gap: 0.6rem; /* spacing between rows */
}

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry .sheet-talent-racials .sheet-racial-trait-row {
    display: grid;
    grid-template-columns: minmax(110px, 10%) minmax(0, 1fr);
    gap: 8px 12px;
    padding: 0.65rem 0.75rem;
    border: 1px solid #333;
    border-radius: 6px;
    background-color: #1a1a1a; /* match panel skin */
    box-sizing: border-box;
}

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry .sheet-talent-racials .sheet-racial-trait-name {
    font-weight: 600;
    align-self: start;
    line-height: 1.25;
	color: #cfcfcf;
}

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-ancestry .sheet-talent-racials .sheet-racial-trait-text {
    line-height: 1.35;
	color: #cfcfcf;
	white-space: pre-line;
}


/* --------------------- Tabs - New Talent styling - End ----------------------------------------------------- */

/* --------------------- Tabs - Careers - Start ----------------------------------------------------- */

.ui-dialog .tab-content .charsheet .sheet-career-grid {
  display: grid;
  grid-template-columns: 1.5fr repeat(5, 1fr) 1.5fr;
  gap: 4px;
  align-items: center;
  margin-bottom: 4px;
}

.ui-dialog .tab-content .charsheet .sheet-career-header {
  font-weight: bold;
  background-color: #ccc;
  text-align: center;
}

.ui-dialog .tab-content .charsheet .sheet-career-grid label {
  font-weight: bold;
  font-size: 0.85em;
  text-align: center;
}

.ui-dialog .tab-content .charsheet .sheet-career-grid input,
.ui-dialog .tab-content .charsheet .sheet-career-grid select {
  width: 100%;
  box-sizing: border-box;
  text-align: center;
}

.ui-dialog .tab-content .charsheet .sheet-career-grid select {
  width: 100%;
  margin: 0;
  padding: 2px 4px;
  box-sizing: border-box;
  vertical-align: middle;
  height: 100%; /* or a fixed height like 23px to match other inputs */
}

/* --------------------- Career Tabs (Inside Careers Tab) -------------------------- */

/* Hide all career sub-tabs by default */
.sheet-career-tabs-container > .sheet-career-tab {
    display: none;
}

.ui-dialog .tab-content .charsheet .sheet-career-section > div {
	margin-top: 0px;
	margin-bottom: 2px;
}

.ui-dialog .tab-content .charsheet .sheet-career-section .sheet-career-tabs-container > div {
	margin-top: 12px;
	margin-bottom: 0px;
}

/* Show selected career tab */
input[name="attr_selected_career"][value="codeweaver"] ~ .sheet-career-tabs-container .sheet-tab-codeweaver,
input[name="attr_selected_career"][value="dreamshaper"] ~ .sheet-career-tabs-container .sheet-tab-dreamshaper,
input[name="attr_selected_career"][value="gravesinger"] ~ .sheet-career-tabs-container .sheet-tab-gravesinger,
input[name="attr_selected_career"][value="mindbender"] ~ .sheet-career-tabs-container .sheet-tab-mindbender,
input[name="attr_selected_career"][value="sigilbound"] ~ .sheet-career-tabs-container .sheet-tab-sigilbound,
input[name="attr_selected_career"][value="soulmender"] ~ .sheet-career-tabs-container .sheet-tab-soulmender,
input[name="attr_selected_career"][value="spirit_warden"] ~ .sheet-career-tabs-container .sheet-tab-spirit_warden,
input[name="attr_selected_career"][value="stormweaver"] ~ .sheet-career-tabs-container .sheet-tab-stormweaver,
input[name="attr_selected_career"][value="veil_dancer"] ~ .sheet-career-tabs-container .sheet-tab-veil_dancer,
input[name="attr_selected_career"][value="brawler"] ~ .sheet-career-tabs-container .sheet-tab-brawler,
input[name="attr_selected_career"][value="breacher"] ~ .sheet-career-tabs-container .sheet-tab-breacher,
input[name="attr_selected_career"][value="combat_engineer"] ~ .sheet-career-tabs-container .sheet-tab-combat_engineer,
input[name="attr_selected_career"][value="combat_medic"] ~ .sheet-career-tabs-container .sheet-tab-combat_medic,
input[name="attr_selected_career"][value="faceman"] ~ .sheet-career-tabs-container .sheet-tab-faceman,
input[name="attr_selected_career"][value="icon"] ~ .sheet-career-tabs-container .sheet-tab-icon,
input[name="attr_selected_career"][value="investigator"] ~ .sheet-career-tabs-container .sheet-tab-investigator,
input[name="attr_selected_career"][value="marksman"] ~ .sheet-career-tabs-container .sheet-tab-marksman,
input[name="attr_selected_career"][value="operator"] ~ .sheet-career-tabs-container .sheet-tab-operator,
input[name="attr_selected_career"][value="pathfinder"] ~ .sheet-career-tabs-container .sheet-tab-pathfinder,
input[name="attr_selected_career"][value="pilot"] ~ .sheet-career-tabs-container .sheet-tab-pilot,
input[name="attr_selected_career"][value="shadowblade"] ~ .sheet-career-tabs-container .sheet-tab-shadowblade,
input[name="attr_selected_career"][value="slicer"] ~ .sheet-career-tabs-container .sheet-tab-slicer,
input[name="attr_selected_career"][value="street_ronin"] ~ .sheet-career-tabs-container .sheet-tab-street_ronin,
input[name="attr_selected_career"][value="tactician"] ~ .sheet-career-tabs-container .sheet-tab-tactician,
input[name="attr_selected_career"][value="arcane_gunslinger"] ~ .sheet-career-tabs-container .sheet-tab-arcane_gunslinger,
input[name="attr_selected_career"][value="bioforged"] ~ .sheet-career-tabs-container .sheet-tab-bioforged,
input[name="attr_selected_career"][value="hexbreaker"] ~ .sheet-career-tabs-container .sheet-tab-hexbreaker,
input[name="attr_selected_career"][value="soul_forger"] ~ .sheet-career-tabs-container .sheet-tab-soul_forger {
    display: block;
}

/* Sub-tab button bar inside the Careers tab */
.ui-dialog .tab-content .charsheet .sheet-career-tabs {
    display: flex;
    width: 100%;
    justify-content: space-around;
    margin-bottom: 10px;
}

.ui-dialog .tab-content .charsheet .sheet-career-tabs button {
    flex: 1;
    background-color: #000;
    color: white;
    font-weight: bold;
    border: 1px solid black;
    padding: 4px 0;
    font-size: 85%;
    cursor: pointer;
    transition: background-color 0.2s ease;
}
.ui-dialog .tab-content .charsheet .sheet-careers .sheet-tab-buttons {
	flex: 1;
	margin-top: 2px;
	margin-right: 2px;
	height: 24px;
}

.ui-dialog .tab-content .charsheet .sheet-careers button.sheet-tab-buttons {
  flex: 1;
  height: 24px;
  background-color: #444;
  color: white;
  font-weight: bold;
  border: 1px solid black;
  padding: 2px 0px;
  font-size: 85%;
  cursor: pointer;
  transition: background-color 0.2s ease;
  background: red;
}

/* Arcane career tabs: allow wrapping */
.ui-dialog .tab-content .charsheet .sheet-career-tab-buttons-arcane {
	flex-wrap: wrap;          /* key: allows multiple rows */
	justify-content: flex-start; /* space-around fights wrapping */
	gap: 2px;                 /* optional spacing between buttons */
}

/* Core career tabs: allow wrapping */
.ui-dialog .tab-content .charsheet .sheet-career-tab-buttons-core {
	flex-wrap: wrap;          /* key: allows multiple rows */
	justify-content: flex-start; /* space-around fights wrapping */
	gap: 2px;                 /* optional spacing between buttons */
}

/* Specialist career tabs: allow wrapping */
.ui-dialog .tab-content .charsheet .sheet-career-tab-buttons-specialist {
	flex-wrap: wrap;          /* key: allows multiple rows */
	justify-content: flex-start; /* space-around fights wrapping */
	gap: 2px;                 /* optional spacing between buttons */
}

/* Style each career button */
.ui-dialog .tab-content .charsheet .sheet-career-tab-buttons-arcane button {
	flex: 1 1 80px;          /* grow, shrink, preferred/min-ish width */
	min-width: 80px;         /* ensures wrap happens instead of micro-buttons */
    background-color: #3E3A5F;
    color: white;
    font-weight: bold;
    border: 1px solid black;
    padding: 4px 0;
    font-size: 80%;
    cursor: pointer;
    transition: background-color 0.2s ease;
}

/* Core buttons: flexible, but don't shrink below a usable width */
.ui-dialog .tab-content .charsheet .sheet-career-tab-buttons-core button {
	flex: 1 1 80px;          /* grow, shrink, preferred/min-ish width */
	min-width: 80px;         /* ensures wrap happens instead of micro-buttons */
	background-color: #4A4E54;
	color: white;
	font-weight: bold;
	border: 1px solid black;
	padding: 4px 0;
	font-size: 80%;
	cursor: pointer;
	transition: background-color 0.2s ease;
}

.ui-dialog .tab-content .charsheet .sheet-career-tab-buttons-specialist button {
	flex: 1 1 80px;          /* grow, shrink, preferred/min-ish width */
	min-width: 80px;         /* ensures wrap happens instead of micro-buttons */
    background-color: #52472F;
    color: white;
    font-weight: bold;
    border: 1px solid black;
    padding: 4px 0;
    font-size: 80%;
    cursor: pointer;
    transition: background-color 0.2s ease;
}

/* Highlight selected sub-tab */
input[name="attr_selected_career"][value="codeweaver"] ~ .sheet-career-tabs button[name="act_codeweaver"],
input[name="attr_selected_career"][value="dreamshaper"] ~ .sheet-career-tabs button[name="act_dreamshaper"],
input[name="attr_selected_career"][value="gravesinger"] ~ .sheet-career-tabs button[name="act_gravesinger"],
input[name="attr_selected_career"][value="mindbender"] ~ .sheet-career-tabs button[name="act_mindbender"],
input[name="attr_selected_career"][value="sigilbound"] ~ .sheet-career-tabs button[name="act_sigilbound"],
input[name="attr_selected_career"][value="soulmender"] ~ .sheet-career-tabs button[name="act_soulmender"],
input[name="attr_selected_career"][value="spirit_warden"] ~ .sheet-career-tabs button[name="act_spirit_warden"],
input[name="attr_selected_career"][value="stormweaver"] ~ .sheet-career-tabs button[name="act_stormweaver"],
input[name="attr_selected_career"][value="veil_dancer"] ~ .sheet-career-tabs button[name="act_veil_dancer"],
input[name="attr_selected_career"][value="brawler"] ~ .sheet-career-tabs button[name="act_brawler"],
input[name="attr_selected_career"][value="breacher"] ~ .sheet-career-tabs button[name="act_breacher"],
input[name="attr_selected_career"][value="combat_engineer"] ~ .sheet-career-tabs button[name="act_combat_engineer"],
input[name="attr_selected_career"][value="combat_medic"] ~ .sheet-career-tabs button[name="act_combat_medic"],
input[name="attr_selected_career"][value="faceman"] ~ .sheet-career-tabs button[name="act_faceman"],
input[name="attr_selected_career"][value="icon"] ~ .sheet-career-tabs button[name="act_icon"],
input[name="attr_selected_career"][value="investigator"] ~ .sheet-career-tabs button[name="act_investigator"],
input[name="attr_selected_career"][value="marksman"] ~ .sheet-career-tabs button[name="act_marksman"],
input[name="attr_selected_career"][value="operator"] ~ .sheet-career-tabs button[name="act_operator"],
input[name="attr_selected_career"][value="pathfinder"] ~ .sheet-career-tabs button[name="act_pathfinder"],
input[name="attr_selected_career"][value="pilot"] ~ .sheet-career-tabs button[name="act_pilot"],
input[name="attr_selected_career"][value="shadowblade"] ~ .sheet-career-tabs button[name="act_shadowblade"],
input[name="attr_selected_career"][value="slicer"] ~ .sheet-career-tabs button[name="act_slicer"],
input[name="attr_selected_career"][value="street_ronin"] ~ .sheet-career-tabs button[name="act_street_ronin"],
input[name="attr_selected_career"][value="tactician"] ~ .sheet-career-tabs button[name="act_tactician"],
input[name="attr_selected_career"][value="arcane_gunslinger"] ~ .sheet-career-tabs button[name="act_arcane_gunslinger"],
input[name="attr_selected_career"][value="bioforged"] ~ .sheet-career-tabs button[name="act_bioforged"],
input[name="attr_selected_career"][value="hexbreaker"] ~ .sheet-career-tabs button[name="act_hexbreaker"],
input[name="attr_selected_career"][value="soul_forger"] ~ .sheet-career-tabs button[name="act_soul_forger"] {
    background-color: #333;
}

.ui-dialog .tab-content .charsheet .sheet-primary-career-summary,
.ui-dialog .tab-content .charsheet .sheet-secondary-career-summary {
  margin: 1rem 0;
  padding: 0.75rem;
  background-color: #1a1a1a;
  border: 1px solid #333;
  border-radius: 6px;
}

.ui-dialog .tab-content .charsheet .sheet-primary-career-summary-header,
.ui-dialog .tab-content .charsheet .sheet-secondary-career-summary-header {
  font-size: 100%;
  font-weight: bold;
  margin-bottom: 0.5rem;
  color: #ccc;
  border-bottom: 1px solid #444;
  padding-bottom: 0.25rem;
}

.ui-dialog .tab-content .charsheet span[name="attr_primary_career_talent_summary"],
.ui-dialog .tab-content .charsheet span[name="attr_secondary_career_talent_summary"] {
  display: block;
  white-space: pre-wrap;
  color: #ddd;
  font-size: 100%;
  line-height: 1.4;
  margin-top: 0.5rem;
}

.ui-dialog .tab-content .charsheet .sheet-primary-career-summary-wrapper,
.ui-dialog .tab-content .charsheet .sheet-secondary-career-summary-wrapper {
  background: #1a1a1a;
  border: 1px solid #444;
  border-radius: 6px;
  margin: 0.5rem 0;
  padding: 0.5rem;
}

.ui-dialog .tab-content .charsheet .sheet-primary-career-summary-title,
.ui-dialog .tab-content .charsheet .sheet-secondary-career-summary-title {
  font-weight: bold;
  font-size: 100%;
  color: #ccc;
  border-bottom: 1px solid #444;
  margin-bottom: 0.5rem;
}

.ui-dialog .tab-content .charsheet .sheet-primary-career-summary-body,
.ui-dialog .tab-content .charsheet .sheet-secondary-career-summary-body {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.ui-dialog .tab-content .charsheet .sheet-primary-career-summary-row,
.ui-dialog .tab-content .charsheet .sheet-secondary-career-summary-row {
  display: grid;
  grid-template-columns: 2.5rem 200px 1fr; /* Tier / Name / Description */
  align-items: start;
  column-gap: 0.75rem;
  padding: 0.25rem 0;
}

.ui-dialog .tab-content .charsheet .sheet-primary-career-summary-tier,
.ui-dialog .tab-content .charsheet .sheet-secondary-career-summary-tier {
  color: #aaa;
  font-weight: bold;
  white-space: nowrap;
}

.ui-dialog .tab-content .charsheet .sheet-primary-career-summary-name,
.ui-dialog .tab-content .charsheet .sheet-secondary-career-summary-name {
  font-weight: bold;
  color: #eee;
  white-space: nowrap;
}

.ui-dialog .tab-content .charsheet .sheet-primary-career-summary-desc,
.ui-dialog .tab-content .charsheet .sheet-secondary-career-summary-desc {
  color: #aaa;
  font-size: 100%;
  white-space: normal;
}

/* Disable checkbox interaction if _enabled=0 or _lockflag=1 */
.ui-dialog .tab-content .charsheet input[name$="_enabled"][value="0"] ~ input[type="checkbox"].sheet-career-talent-checkbox,
.ui-dialog .tab-content .charsheet input[name$="_lockflag"][value="1"] ~ input[type="checkbox"].sheet-career-talent-checkbox {
  pointer-events: none;
  opacity: 0.3;
  cursor: not-allowed;
}

/* Grey out label and description if locked or disabled */
.ui-dialog .tab-content .charsheet input[name$="_enabled"][value="0"] ~ input[type="checkbox"].sheet-career-talent-checkbox ~ .sheet-career-talent-label,
.ui-dialog .tab-content .charsheet input[name$="_enabled"][value="0"] ~ input[type="checkbox"].sheet-career-talent-checkbox ~ .sheet-career-talent-description,
.ui-dialog .tab-content .charsheet input[name$="_lockflag"][value="1"] ~ input[type="checkbox"].sheet-career-talent-checkbox ~ .sheet-career-talent-label,
.ui-dialog .tab-content .charsheet input[name$="_lockflag"][value="1"] ~ input[type="checkbox"].sheet-career-talent-checkbox ~ .sheet-career-talent-description {
  opacity: 0.5;
}

/* Capstone visual fade (optional match for career Capstone) */
.ui-dialog .tab-content .charsheet input[name$="_lockflag"][value="1"] ~ input.sheet-capstone-checkbox ~ .sheet-career-talent-label,
.ui-dialog .tab-content .charsheet input[name$="_lockflag"][value="1"] ~ input.sheet-capstone-checkbox ~ .sheet-career-talent-description  {
  opacity: 0.5;
}

/* Talent Tier Container */
.ui-dialog .tab-content .charsheet .sheet-career-talent-tier {
  display: grid;
  margin-top: 1rem;
  padding: 0.5rem;
  background: #151515;
  border: 1px solid #333;
  border-radius: 6px;
}

/* Header for Talent Tier */
.ui-dialog .tab-content .charsheet .sheet-career-talent-tier-header {
  display: grid;
  font-size: 100%;
  margin-bottom: 0.5rem;
  color: #ccc;
  border-bottom: 1px solid #333;
  padding-bottom: 0.25rem;
}

/* Header row styles */
.ui-dialog .tab-content .charsheet .sheet-career-talent-header-row {
  display: grid;
  grid-template-columns: 30px 1fr 2fr 40px;
  background-color: #444;
  color: white;
  font-weight: bold;
  text-align: left;
  padding: 0;
  margin: 0;
  border-bottom: 1px solid black;
  font-size: 100%;
  box-sizing: border-box;
}

/* Data rows */
.ui-dialog .tab-content .charsheet .sheet-career-talent-row {
  display: grid;
  grid-template-columns: 30px 175px 570px;
  align-items: start;
  border: 1px solid #333;
  gap: 0.5rem;
  padding: 0.5rem;
  margin-bottom: 0.75rem;
  font-size: 100%;
  box-sizing: border-box;
}

.ui-dialog .tab-content .charsheet .sheet-career-talent-checkbox      { grid-column: 1; }
.ui-dialog .tab-content .charsheet .sheet-career-talent-label         { grid-column: 2; font-weight: bold; font-size: 100%; color: #eee; white-space: wrap; }
.ui-dialog .tab-content .charsheet .sheet-career-talent-description   { grid-column: 3; font-size: 110%; color: #aaa; white-space: normal; }
.ui-dialog .tab-content .charsheet .sheet-career-talent-prereq        { grid-column: 4; display: none; font-size: 90%; opacity: .85; padding-left: .5rem; }

/* Toggle: when the checkbox BEFORE .sheet-career-talents is checked, expand grid + show prereqs */
.ui-dialog .tab-content .charsheet .sheet-career-prereq-toggle:checked ~ .sheet-career-talents .sheet-career-talent-row,
.ui-dialog .tab-content .charsheet .sheet-career-prereq-toggle:checked ~ .sheet-career-talents .sheet-career-talent-header-row {
  display: grid;
  grid-template-columns: 30px 175px 450px 120px; /* + prereq column */
}

.ui-dialog .tab-content .charsheet .sheet-career-prereq-toggle:checked ~ .sheet-career-talents .sheet-career-talent-prereq {
  display: block;
  color: blue;
  width: 120px;
}

.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-codeweaver input[name="attr_show_career_codeweaver_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-codeweaver input[name="attr_show_career_codeweaver_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-codeweaver input[name="attr_show_career_codeweaver_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-codeweaver input[name="attr_show_career_codeweaver_prereqs_t5"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-mindbender input[name="attr_show_career_mindbender_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-mindbender input[name="attr_show_career_mindbender_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-mindbender input[name="attr_show_career_mindbender_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-mindbender input[name="attr_show_career_mindbender_prereqs_t5"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-sigilbound input[name="attr_show_career_sigilbound_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-sigilbound input[name="attr_show_career_sigilbound_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-sigilbound input[name="attr_show_career_sigilbound_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-sigilbound input[name="attr_show_career_sigilbound_prereqs_t5"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-spirit_warden input[name="attr_show_career_spirit_warden_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-spirit_warden input[name="attr_show_career_spirit_warden_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-spirit_warden input[name="attr_show_career_spirit_warden_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-spirit_warden input[name="attr_show_career_spirit_warden_prereqs_t5"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-stormweaver input[name="attr_show_career_stormweaver_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-stormweaver input[name="attr_show_career_stormweaver_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-stormweaver input[name="attr_show_career_stormweaver_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-stormweaver input[name="attr_show_career_stormweaver_prereqs_t5"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-veil_dancer input[name="attr_show_career_veil_dancer_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-veil_dancer input[name="attr_show_career_veil_dancer_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-veil_dancer input[name="attr_show_career_veil_dancer_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-veil_dancer input[name="attr_show_career_veil_dancer_prereqs_t5"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq {
  display: block;
  color: white;
  width: 120px;
}

.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-combat_engineer input[name="attr_show_career_combat_engineer_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-combat_engineer input[name="attr_show_career_combat_engineer_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-combat_engineer input[name="attr_show_career_combat_engineer_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-combat_engineer input[name="attr_show_career_combat_engineer_prereqs_t5"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-combat_medic input[name="attr_show_career_combat_medic_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-combat_medic input[name="attr_show_career_combat_medic_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-combat_medic input[name="attr_show_career_combat_medic_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-combat_medic input[name="attr_show_career_combat_medic_prereqs_t5"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-faceman input[name="attr_show_career_faceman_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-faceman input[name="attr_show_career_faceman_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-faceman input[name="attr_show_career_faceman_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-faceman input[name="attr_show_career_faceman_prereqs_t5"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-icon input[name="attr_show_career_icon_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-icon input[name="attr_show_career_icon_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-icon input[name="attr_show_career_icon_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-icon input[name="attr_show_career_icon_prereqs_t5"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-investigator input[name="attr_show_career_investigator_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-investigator input[name="attr_show_career_investigator_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-investigator input[name="attr_show_career_investigator_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-investigator input[name="attr_show_career_investigator_prereqs_t5"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-marksman input[name="attr_show_career_marksman_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-marksman input[name="attr_show_career_marksman_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-marksman input[name="attr_show_career_marksman_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-marksman input[name="attr_show_career_marksman_prereqs_t5"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-operator input[name="attr_show_career_operator_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-operator input[name="attr_show_career_operator_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-operator input[name="attr_show_career_operator_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-operator input[name="attr_show_career_operator_prereqs_t5"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-pilot input[name="attr_show_career_pilot_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-pilot input[name="attr_show_career_pilot_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-pilot input[name="attr_show_career_pilot_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-pilot input[name="attr_show_career_pilot_prereqs_t5"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-shadowblade input[name="attr_show_career_shadowblade_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-shadowblade input[name="attr_show_career_shadowblade_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-shadowblade input[name="attr_show_career_shadowblade_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-shadowblade input[name="attr_show_career_shadowblade_prereqs_t5"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-slicer input[name="attr_show_career_slicer_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-slicer input[name="attr_show_career_slicer_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-slicer input[name="attr_show_career_slicer_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-slicer input[name="attr_show_career_slicer_prereqs_t5"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-street_ronin input[name="attr_show_career_street_ronin_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-street_ronin input[name="attr_show_career_street_ronin_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-street_ronin input[name="attr_show_career_street_ronin_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-street_ronin input[name="attr_show_career_street_ronin_prereqs_t5"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq  {
  display: block;
  color: white;
  width: 120px;
}

.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-arcane_gunslinger input[name="attr_show_career_arcane_gunslinger_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-arcane_gunslinger input[name="attr_show_career_arcane_gunslinger_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-arcane_gunslinger input[name="attr_show_career_arcane_gunslinger_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-bioforged input[name="attr_show_career_bioforged_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-bioforged input[name="attr_show_career_bioforged_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-bioforged input[name="attr_show_career_bioforged_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-hexbreaker input[name="attr_show_career_hexbreaker_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-hexbreaker input[name="attr_show_career_hexbreaker_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-hexbreaker input[name="attr_show_career_hexbreaker_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-soul_forger input[name="attr_show_career_soul_forger_prereqs_t2"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-soul_forger input[name="attr_show_career_soul_forger_prereqs_t3"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq,
.ui-dialog .tab-content .charsheet .sheet-career-block.sheet-career-soul_forger input[name="attr_show_career_soul_forger_prereqs_t4"]:checked ~ .sheet-career-talents .sheet-career-talent-prereq {
  display: block;
  color: white;
  width: 120px;
}

/* Toolbar visuals */
.ui-dialog .tab-content .charsheet .sheet-career-talent-toolbar {
  display: flex;
  justify-content: flex-end;
  margin: .25rem 0 .5rem;
}

/* Visually hide the controller but keep it clickable via the label */
.ui-dialog .tab-content .charsheet .sheet-career-prereq-toggle {
  position: absolute;
  width: 1px; height: 1px; overflow: hidden;
  clip: rect(0 0 0 0); white-space: nowrap;
}

/* Draw a faux checkbox in the label */
.sheet-career-talent-tree .sheet-career-prereq-toggle-label {
  display: inline-flex;
  gap: .4rem;
  padding: 0 0 0 14px;
  align-items: center;
  cursor: pointer;
  font-size: 110%;
  text: wrap;
}
.sheet-career-prereq-toggle + .sheet-career-talent-toolbar .sheet-career-prereq-toggle-label::before {
  content: "☐";
  color: white;
}

.sheet-career-prereq-toggle:checked + .sheet-career-talent-toolbar .sheet-career-prereq-toggle-label::before {
  content: "☑";
  color: #6495ED;
}

/* Skill Columns Layout */
.ui-dialog .tab-content .charsheet .sheet-career-skill-columns {
  display: flex;
  gap: 1rem;
  justify-content: space-between;
  margin-bottom: 0.5rem;
}

/* Each Column */
.ui-dialog .tab-content .charsheet .sheet-career-skill-col {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  border: 1px solid black;
}

.ui-dialog .tab-content .charsheet .sheet-career-skill-header {
	padding: 0px 0px 0px 2px;
}

/* Wrapper for each skill (checkbox + label) */
.ui-dialog .tab-content .charsheet .sheet-career-skill-wrapper {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* Optional: Match checkbox and label spacing */
.ui-dialog .tab-content .charsheet .sheet-career-skill-wrapper input[type="checkbox"] {
  margin-left: 4px;
}

/* Optional: Label styling */
.ui-dialog .tab-content .charsheet .sheet-career-skill-wrapper label {
  font-size: 90%;
  color: black;
}

/* Lock behavior (already defined in your CSS) remains unchanged */



.ui-dialog .tab-content .charsheet .sheet-career-skill-block {
  display: block;
}

.ui-dialog .tab-content .charsheet input[name="attr_show_career_skills"][value="1"] ~ .sheet-career-skill-block {
  display: none;
}

.ui-dialog .tab-content .charsheet input[name="attr_show_career_skills"][value="1"] ~ .sheet-career-tabs button[name="act_toggle_career_skills"] {
    background-color: #444;
}

.ui-dialog .tab-content .charsheet input[name="attr_show_career_skills"][value="0"] ~ .sheet-career-tabs button[name="act_toggle_career_skills"] {
    background-color: #222;
}

/* Locking career skill checkboxes using *_lock hidden inputs */
.ui-dialog .tab-content .charsheet input[type="checkbox"][name$="_mdr_checkbox"] {
  pointer-events: auto;
}

.ui-dialog .tab-content .charsheet input[type="checkbox"][name$="_mdr_checkbox"] + label {
  cursor: pointer;
}

/* Locked state: when corresponding lock input is set to "1" */
.ui-dialog .tab-content .charsheet input[type="hidden"][name$="_mdr_checkbox_lock"][value="1"]
  + input[type="checkbox"][name$="_mdr_checkbox"] {
  pointer-events: none;
  opacity: 0.5;
  cursor: not-allowed;
}

.ui-dialog .tab-content .charsheet input[type="hidden"][name$="_mdr_checkbox_lock"][value="1"]  + input[type="checkbox"][name$="_mdr_checkbox"] + label {
  pointer-events: none;
  opacity: 0.5;
  cursor: not-allowed;
}

/* === SHOW overlay when career is NOT active === */
.ui-dialog .tab-content .charsheet .sheet-career-tab {
  position: relative;
}

.ui-dialog .tab-content .charsheet .sheet-career-tab input.sheet-career-ready-controller[value="0"] ~ .sheet-career-locked-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  color: white;
  font-weight: bold;
  padding: 10px;
  text-align: center;
  z-index: 10;
  display: flex;
  flex-direction: column;
  justify-content: flex-start; /* since you removed centering */
  gap: 4px;
}

.sheet-career-locked-overlay .sheet-career-prereq-text {
  font-weight: normal;
  white-space: pre-wrap;
  tab-size: 4;
  -moz-tab-size: 4;  
  text-align: left;
  line-height: 1.2;
  font-size: 12px;
  padding: 4px 8px;
  margin-top: 2px;
}

.sheet-career-locked-overlay .sheet-career-prereq-text span {
  display: block;
  white-space: pre-wrap;
  tab-size: 4;
  -moz-tab-size: 4;
  overflow-wrap: anywhere;
  margin-left: 210px;
}

.ui-dialog .tab-content .charsheet .sheet-career-tab input.sheet-career-ready-controller[value="0"] ~ .sheet-career-interactive-block {
  pointer-events: none;
  opacity: 0.4;
  filter: grayscale(80%);
}

.ui-dialog .tab-content .charsheet .sheet-career-tab input.sheet-career-ready-controller[value="1"] ~ .sheet-career-interactive-block {
  pointer-events: auto;
  opacity: 1;
  filter: none;
}

.ui-dialog .tab-content .charsheet .sheet-tab-codeweaver input[name="attr_codeweaver_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-dreamshaper input[name="attr_dreamshaper_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-gravesinger input[name="attr_gravesinger_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-mindbender input[name="attr_mindbender_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-sigilbound input[name="attr_sigilbound_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-soulmender input[name="attr_soulmender_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-spirit_warden input[name="attr_spirit_warden_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-stormweaver input[name="attr_stormweaver_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-veil_dancer input[name="attr_veil_dancer_ready"][value="1"] ~ .sheet-career-locked-overlay,

.ui-dialog .tab-content .charsheet .sheet-tab-brawler input[name="attr_brawler_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-breacher input[name="attr_breacher_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-combat_engineer input[name="attr_combat_engineer_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-combat_medic input[name="attr_combat_medic_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-faceman input[name="attr_faceman_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-icon input[name="attr_icon_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-investigator input[name="attr_investigator_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-marksman input[name="attr_marksman_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-operator input[name="attr_operator_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-pathfinder input[name="attr_pathfinder_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-pilot input[name="attr_pilot_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-shadowblade input[name="attr_shadowblade_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-slicer input[name="attr_slicer_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-street_ronin input[name="attr_street_ronin_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-tactician input[name="attr_tactician_ready"][value="1"] ~ .sheet-career-locked-overlay,

.ui-dialog .tab-content .charsheet .sheet-tab-arcane_gunslinger input[name="attr_arcane_gunslinger_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-bioforged input[name="attr_bioforged_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-hexbreaker input[name="attr_hexbreaker_ready"][value="1"] ~ .sheet-career-locked-overlay,
.ui-dialog .tab-content .charsheet .sheet-tab-soul_forger input[name="attr_soul_forger_ready"][value="1"] ~ .sheet-career-locked-overlay {
  display: none;
}

/* --------------------- Tabs - Careers - End ----------------------------------------------------- */

/* ------------------------------- */
/* Main tab content block for Combat */
/* ------------------------------- */
.sheet-tab-content .sheet-combat {
  margin-top: 10px;
  background: #d0cabe; /* Light tan/gray inside sections */
  padding: 10px;
  border: 1px solid black;
}

/* ------------------------------- */
/* Inner row layout (within sections) */
/* ------------------------------- */
.sheet-combat .sheet-colrow {
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0;
  margin: 0;
  background: #d0cabe; /* Also needs to match section background */
}

/* ------------------------------- */
/* Combat Section Header (h4 Section-Head) */
/* ------------------------------- */
.section-head {
  font-size: 1.2em;
  font-weight: bold;
  text-align: center;
  background-image: linear-gradient(black, #112749); /* Black to dark blue */
  background-color: #112749; /* fallback */
  color: white;
  padding: 4px;
  border: 1px solid black;
  margin-bottom: 10px;
}

/* --------------------------------------- Combat ---------------------------------- */

/* ---------------- Combat Section Flex Layout ---------------- */

/* Fieldset */
fieldset.repeating_weaponsmdr,
fieldset.repeating_armorsmdr,
fieldset.repeating_spellsmdr,
fieldset.repeating_omnidecksmdr,
fieldset.repeating_programsmdr {
  margin: 0;
  padding: 0;
  border: none;
}

/* Container for all repeating entries */
.repcontainer {
  display: flex;
  flex-direction: column;
  width: 100%;
  gap: 0;
}

/* Each repeated entry */
.repitem {
  display: flex;
  flex-direction: row;
  align-items: center;
  width: 100%;
  padding: 0;
  margin: 0;
}

/* Each flex-row inside weapon */
.repitem .flex-row,
.sheet-weapon-header .flex-row,
.sheet-armor-header .flex-row,
.sheet-spell-header .flex-row,
.sheet-omnideck-header .flex-row,
.sheet-program-header .flex-row,
.sheet-weapon-default .flex-row,
.sheet-armor-default .flex-row,
.sheet-spell-default .flex-row,
.sheet-omnideck-default .flex-row,
.sheet-program-default .flex-row,
.sheet-weapon-block .flex-row,
.sheet-armor-block .flex-row,
.sheet-spell-block .flex-row,
.sheet-omnideck-block .flex-row,
.sheet-program-block .flex-row,
.repeating_spellsmdr .flex-row,
.repeating_weaponsmdr .flex-row {
  display: flex;
  flex-wrap: nowrap;
  flex-direction: row;
  align-items: center;
  width: 100%;
  height: 24px;
  padding: 0;
  margin: 0;
  gap: 0;
}

/* General Flex Cell */
.flex-cell {
  padding: 0; /* No padding inside cells */
  margin: 0;
  border: 1px solid black;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 24px;
}

.flex-cell-wrapper {
  padding: 0; /* No padding inside cells */
  margin: 0;
  border: 1px solid black;
  box-sizing: border-box;
  display: flex;
  flex: 1 1 6%;
  align-items: center;
  justify-content: center;
  height: 24px;
}

/* Flex Widths */
.weapon-name { flex: 2 1 24%; }
.repitem .weapon-name { flex: 2 1 24%; }
.weapon-impale { flex: 0 0 24px; }
.repitem .weapon-impale { flex: 0 0 24px; }
.weapon-skill { flex: 1.5 1 14%; }
.weapon-skill-display { flex: 1 1 6%; }
.weapon-damage { flex: 1 1 6%; }
.weapon-damage-bonus { flex: 1 1 6%; }
.weapon-range, .weapon-attacks, .weapon-ammo { flex: 1 1 6%; }
.weapon-malf, .weapon-contested, .weapon-strain { flex: 0.8 1 6%; }
.repitem .sheet-toggle-wrapper { width: 24px; height: 24px; }

.weapon-trait { width: 100%; }

/* Weapons: wrapper that lets the advanced panel wrap below the main strip */
.ui-dialog .tab-content .charsheet .sheet-weaponblock-grid-row {
  display: flex;
  flex-wrap: wrap;
  width: 818px;
  min-width: 818px;
  max-width: 100%;
  gap: 0px;
  padding: 0px;
  margin-bottom: 0px;
  background-color: rgba(255,255,255,0.04);
  box-sizing: border-box;
}

/* Ensure the main strip spans the wrapper width */
.ui-dialog .tab-content .charsheet .sheet-weaponblock-grid-row > .flex-row {
  width: 100%;
}

/* Match spells’ advanced block behavior/box model */
.ui-dialog .tab-content .charsheet .sheet-weaponblock-advanced {
  display: none;
  width: 818px;           /* mirrors spells: wrapper 820, advanced 800 */
  max-width: 100%;
  flex-wrap: wrap;
  gap: 0px;
  margin-bottom: 0px;
  background-color: rgba(255,255,255,0.04);
  box-sizing: border-box; /* switch from content-box to border-box */
}

/* Flex Widths */
.armor-name { flex: 2 1 28%; }
.armor-equipped { flex: 0 0 24px; }
.armor-physical { flex: 0.8 1 6%; }
.armor-arcane { flex: 0.8 1 6%; }
.armor-layer { flex: 1.5 1 18%; }
.armor-category { flex: 1.5 1 18%; }
.armor-traits { flex: 1.5 1 24%; }

/* ========= Combat → Armor: Totals Row ========= */
/* Sits above the header; aligns with Phys/Arc. columns */

.ui-dialog .tab-content .charsheet .sheet-armor-totals {
    margin: 0;
}

.ui-dialog .tab-content .charsheet .sheet-armor-totals .flex-row {
    display: flex;
    flex-wrap: nowrap;
    flex-direction: row;
    align-items: center;
    width: 100%;
    height: 24px;
    padding: 0;
    margin: 0;
    gap: 0;
}



.ui-dialog .tab-content .charsheet .sheet-armor-totals .flex-cell {
    padding: 0;
    margin: 0;
    border: 1px solid black;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 24px;
    /* Let section background show through so it blends with the grid */
    background: transparent;
}

/* Totals inputs: look like the normal value boxes, but read-only and bold */
.ui-dialog .tab-content .charsheet .sheet-armor-totals .armor-name,
.ui-dialog .tab-content .charsheet .sheet-armor-totals .armor-physical input.sheet-armor-total-field,
.ui-dialog .tab-content .charsheet .sheet-armor-totals .armor-arcane  input.sheet-armor-total-field {
    width: 100%;
    height: 100%;
    padding: 0 4px;
    margin: 0;
    box-sizing: border-box;
    font-size: 1.1em;
    text-align: center;
    background: #d9d9d9;      /* matches other value inputs */
    font-weight: bold;
    pointer-events: none;      /* read-only feel */
    cursor: default;
    color: #333;
}


/* Spacer cells in the totals row (no special styling needed beyond the grid) */
.ui-dialog .tab-content .charsheet .sheet-armor-totals .armor-equipped,
.ui-dialog .tab-content .charsheet .sheet-armor-totals .armor-layer,
.ui-dialog .tab-content .charsheet .sheet-armor-totals .armor-category,
.ui-dialog .tab-content .charsheet .sheet-armor-totals .armor-traits {
    background: transparent;
}


/* Flex Widths */
.spell-name { flex: 2 1 30%; }
.spell-prepared { flex: 0 0 24px; }
.spell-skill { flex: 1.5 1 20%; }
.spell-skill-display { flex: 1 1 10%; }
.spell-roll { flex: 0 0 24px; }
.spell-type { flex: 1 1 10%; }
.spell-reflexive { flex: 0 0 24px; }
.spell-contested { flex: 1 1 10%; }
.spell-damage { flex: 1 1 10%; }
.spell-strain { flex: 1 1 10%; }

.spell-xp-cost { flex: 1 1 7%; }
.spell-rarity { flex: 1 1 7%; }
.spell-ac-cost { flex: 1 1 7%; }
.spell-range { flex: 1 1 7%; }
.spell-cast-time { flex: 1 1 7%; }
.spell-duration { flex: 1 1 7%; }
.spell-element { flex: 1 1 7%; }

/* Flex Widths */
.omnideck-name { flex: 2 1 28%; }
.omnideck-equipped { flex: 0 0 24px; }
.omnideck-skill { flex: 1.5 1 15%; }
.omnideck-skill-display { flex: 1 1 6%; }
.omnideck-ir, .omnideck-mr, .omnideck-fr, .omnideck-roll-wrapper { flex: 1 1 8%; }
.omnideck-roll { flex: 0 0 24px; }
.omnideck-dic, .omnideck-dit, .omnideck-ar, .omnideck-prog_slots, .omnideck-mod_slots { flex: 1 1 6%; }

/* Flex Widths */
.program-name { flex: 2 1 28%; }
.program-active { flex: 0 0 24px; }
.program-roll { flex: 0 0 24px; }
.program-damage { flex: 1 1 7%; }
.program-effect { flex: 1 1 65%; }

/*  Header Row */
.sheet-weapon-header,
.sheet-armor-header,
.sheet-spell-header ,
.sheet-omnideck-header,
.sheet-program-header {
  background: black;
  color: white;
  font-weight: bold;
}

.sheet-weapon-header .flex-cell,
.sheet-armor-header .flex-cell,
.sheet-spell-header .flex-cell,
.sheet-omnideck-header .flex-cell,
.sheet-program-header .flex-cell {
  background: black;
  color: white;
  text-align: center;
}

.ui-dialog .tab-content .charsheet  .flex-wrapper-cell {
	width: 24px;
}

/* Inputs and Selects */
.flex-cell input[type="text"],
.flex-cell select {
  width: 100%;
  height: 100%;
  padding: 0px;
  box-sizing: content-box;
  font-size: 0.9em;
  text-align: center;
  background: #d9d9d9;
}

.flex-cell select {
  margin: 0;
  padding: 2px 4px;
  box-sizing: border-box;
  vertical-align: middle;
  height: 100%; /* or a fixed height like 23px to match other inputs */
}

/* Disabled (Unarmed row) */
.sheet-weapon-default input[disabled],
.sheet-weapon-default select[disabled] {
  background: #d9d9d9;
  color: #666;
  border: none;
}
.ui-dialog .tab-content .charsheet .sheet-weaponblock-advanced-default,
.ui-dialog .tab-content .charsheet .sheet-weaponblock-advanced {
  display: none;             /* ← Enforce a fixed row width */
  max-width: 100%;            /* ← Prevent overflow if container is smaller */
  flex-wrap: wrap;
  gap: 2px;
  margin-bottom: 4px;
  background-color: rgba(255, 255, 255, 0.04);
  box-sizing: content-box;
}

/* Show if value = 1 */
.ui-dialog .tab-content .charsheet input[name="attr_show_weapon_advanced"][value="1"] ~ .sheet-weaponblock-advanced,
.ui-dialog .tab-content .charsheet input[name="attr_show_weapon_advanced_default"][value="1"] ~ .sheet-weaponblock-advanced-default,
.ui-dialog .tab-content .charsheet .repitem input[name="attr_show_weapon_advanced"][value="1"] ~ .sheet-weaponblock-advanced {
  display: flex; /* or block, depending on layout */
}

/* Roll Button Style */
button[type="roll"].new-roll {
  color: #18650D;
  background-color: #248c15;
  font-weight: bold;
  text-align: center;
  width: 24px;
  height: 24px;
  padding: 0;
  line-height: 1;          /* ← fix icon overflow */
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}

/* On hover */
button[type="roll"]:hover.new-roll {
  background-color: orange;
  color: white;
}

/* Disabled roll button */
.sheet-weapon-default .weapon-roll button[disabled] {
  background: #702c91;
}

/* Hide both by default */
.sheet-roll-noimpale,
.sheet-roll-impale {
  display: none;
}

/* Show impale only */
.sheet-attack-toggle[value="impale"] + .sheet-roll-noimpale {
  display: none;
}
.sheet-attack-toggle[value="impale"] + .sheet-roll-noimpale + .sheet-roll-impale {
  display: inline-block;
}

/* Show noimpale only */
.sheet-attack-toggle[value="noimpale"] + .sheet-roll-noimpale {
  display: inline-block;
}
.sheet-attack-toggle[value="noimpale"] + .sheet-roll-noimpale + .sheet-roll-impale {
  display: none;
}

.omnideck-roll-wrapper {
  display: flex;
  flex-direction: row;         /* Force row layout */
  align-items: center;         /* Vertically center items */
  gap: 0;                      /* No spacing between button/input unless desired */
  width: 100%;                 /* Fill container */
  height: 24px;                /* Match your standard row height */
  box-sizing: border-box;
}

/* Optional: match your visual standard for cells */
.omnideck-roll-wrapper .flex-cell {
  flex: 1 1 auto;
  height: 100%;
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

.ui-dialog .tab-content .charsheet .sheet-val-roll-static input[type="text"] {
  flex: 1 1 100%;
  width: 100%;
  z-index: 1;
  position: relative;
}

.ui-dialog .tab-content .charsheet .sheet-val-roll-static .weapon-roll {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 2;
  pointer-events: auto;
  background: transparent;
  color: transparent;
}


/* ------------------------------- Spells ----------------------- */
/* Container for all repeating entries */
.ui-dialog .tab-content .charsheet .sheet-spells .repcontainer {
  display: flex;
  flex-direction: column;
  width: 100%;
  gap: 0;
}

/* Each repeated entry */
.ui-dialog .tab-content .charsheet .sheet-spells .repitem {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  flex-grow: 1;
  align-items: center;
  width: 100%;
  padding: 0;
  margin: 0;
}

/* === Spell Tracker Layout === */
.ui-dialog .tab-content .charsheet .sheet-spell-tracker-grid-row {
  display: flex;
  flex-direction: row;
  gap: 4px;
  justify-content: flex-start;
  align-items: flex-end; /* This aligns child items (input blocks) to bottom */
  flex-wrap: wrap;
  margin-bottom: 4px;
  border: 1px solid black;
  padding: 4px;
}


.ui-dialog .tab-content .charsheet .sheet-spell-tracker-grid-row .sheet-spell-row {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  width: 80px; /* Adjust width as needed */
  gap: 2px;
}

.ui-dialog .tab-content .charsheet .sheet-spell-row input[type="text"] {
	width: 100%;
	max-width: 100%;
	text-align: center;
	font-size: 100%;
	padding: 2px;
}

.ui-dialog .tab-content .charsheet .sheet-spell-row .sheet-strain-max,
.ui-dialog .tab-content .charsheet .sheet-spell-row .sheet-spell-capacity {
	background: #d4ecf9;
}

.ui-dialog .tab-content .charsheet .sheet-spell-row label {
	font-size: 100%;
	color: black;
	text-align: center;
}

.ui-dialog .tab-content .charsheet .sheet-spell-separator {
  width: 1px;
  height: auto; /* or a fixed height like 100% if needed */
  background-color: #333; /* separator color */
  margin: 0 6px; /* horizontal spacing around the line */
  align-self: stretch; /* ensures it fills the height of the parent */
}



/* === Rest Buttons Row === */
.ui-dialog .tab-content .charsheet .sheet-strain-buttons-row {
  display: flex;
  flex-direction: row;
  gap: 4px;
  align-items: center;
  justify-content: flex-start;
  margin-top: 5px;
  padding: 0px;
}


/* === Optional Styling for Buttons === */
.ui-dialog .tab-content .charsheet .sheet-rest-button-wrapper,
.ui-dialog .tab-content .charsheet .sheet-roll-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 5px;
}

/* Default input style */
.ui-dialog .tab-content .charsheet .sheet-prep-cost-input {
  background-color: rgba(255, 255, 255, 0.5);
  color: black;
}

/* Base style for the overflow-sensitive input */
.ui-dialog .tab-content .charsheet .sheet-overflow-sensitive {
  background-color: rgba(255, 255, 255, 0.5);
  color: black;
}

/* Overflow warning */
.ui-dialog .tab-content .charsheet input.sheet-overflow-mirror[value="1"] ~ input.sheet-overflow-sensitive {
  background-color: red;
  color: yellow;
}


/* ---------- Layout ---------- */

.sheet-roll-wrapper,
.sheet-rest-button-wrapper {
  position: relative;
  display: inline-block;
}

.sheet-roll-label {
  display: inline-block;
  background-color: #444;
  color: white;
  font-weight: bold;
  border: 1px solid black;
  padding: 6px 10px;
  font-size: 90%;
  text-align: center;
  border-radius: 4px;
  cursor: pointer;
  user-select: none;
}

/* Invisible roll button overlays the label */
.sheet-roll-hidden {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  cursor: pointer;
  z-index: 2;
  margin: 0;
  padding: 0;
}

.spell-cost-input,
.spell-capacity-input {
  width: 67px;
  height: 23px;
  font-size: 90%;
  text-align: center;
  background-color: rgba(255, 255, 255, 0.7);
  color: black;
  border: 1px solid #888;
  box-sizing: border-box;
}

.sheet-strain-buttons .sheet-tab-button {
  padding: 4px 6px;
  font-size: 90%;
  font-weight: bold;
  color: white;
  background: linear-gradient(to bottom, #3b3b3b, #1e1e1e);
  border: 1px solid #444;
  border-radius: 4px;
  text-align: center;
  cursor: pointer;
  width: 100px;
}

.sheet-spell-row-wrapper {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 10px;
  padding-bottom: 0px;
  border-bottom: 1px solid #ccc;
  width: 100%;
}

/* Shift left column down to align with top of textarea */
.sheet-spell-info-left {
  width: 35%;
  display: flex;
  flex-direction: column;
  gap: 0px;
  margin-top: 30px; /* <-- shift down */
}

.sheet-spell-info-right {
  width: 65%;
  display: flex;
  flex-direction: column;
  padding: 0px 4px;
}

.sheet-spell-meta-row {
  display: flex;
  align-items: center;
  gap: 0px;
}

/* Label block with fixed width */
.sheet-spell-label {
  font-weight: bold;
  font-size: 100%;
  white-space: nowrap;
  color: black;
  display: inline-block;
  box-sizing: border-box;
  width: 100%;
  padding: 4px;
}

/* Special case for section heading (like "Description") */
.sheet-spell-info-right > .sheet-spell-label {
  width: auto;
  margin-bottom: 4px;
}

.sheet-wide-input {
  font-size: 100%;
  height: 23px;
  text-align: center;
  background-color: rgba(255, 255, 255, 0.5);
  color: black;
  border: 1px solid #aaa;
  padding: 2px;
  box-sizing: border-box;
}
.sheet-spell-textarea {
  width: 100%;
  height: 70px;
  font-size: 90%;
  background-color: rgba(255, 255, 255, 0.5);
  resize: vertical;
  color: black;
  border: 1px solid #666;
  box-sizing: border-box;
}

/* ---------- Prepared Toggle Styling via Mirror ---------- */
/* Match select width to input */
.sheet-prepared-toggle {
  width: 150px;
  font-size: 100%;
  text-align: center;
  padding: 2px;
  border: 1px solid black;
  background-color: rgba(255, 255, 255, 0.5);
  color: black;
  box-sizing: border-box;
}


/* Mirror value selector styles */
input.sheet-prepared-mirror[value="0"] ~ select.sheet-prepared-toggle {
  background-color: #d3d3d3;
  color: #000000;
}
input.sheet-prepared-mirror[value="1"] ~ select.sheet-prepared-toggle {
  background-color: black;
  color: #00ff00;
}

/* --------------- Spell Input Section (Repeating) ------------------ */
/* === Main spell block container === */
.ui-dialog .tab-content .charsheet .sheet-spellblock-grid-row {
  display: flex;
  flex-wrap: wrap;
  width: 820px;            /* Match the advanced block width */
  min-width: 820px;
  max-width: 100%;
  gap: 2px;
  padding: 4px;
  margin-bottom: 4px;
  border: 1px solid #666;
  background-color: rgba(255, 255, 255, 0.04);
  box-sizing: border-box;
}

/* === Field wrapper (general) === */
.ui-dialog .tab-content .charsheet .sheet-spellblock-row {
  display: flex;
  flex-direction: column;
  flex: 0 1 auto;
  flex-basis: 60px;
  min-width: 0;
  gap: 2px;
  box-sizing: border-box;
}
.ui-dialog .tab-content .charsheet .sheet-spellblock-row.spell-element {
	 flex-basis: 65px;
}

/* === Spell Name Field === */
.ui-dialog .tab-content .charsheet .sheet-spellblock-row.spell-name {
  flex-basis: 175px;
  }
.ui-dialog .tab-content .charsheet .sheet-spellblock-row.spell-name input[type="text"] {
  width: 100%;
}

/* === Label (default) === */
.ui-dialog .tab-content .charsheet .sheet-spellblock-row label {
  font-size: 85%;
  font-weight: bold;
  color: black;
  text-align: center;
  line-height: 1.2;
  margin: 0;
  padding: 0;
}

.ui-dialog .tab-content .charsheet .sheet-spellblock-row.concentration,
.ui-dialog .tab-content .charsheet .sheet-spellblock-row.prepared,
.ui-dialog .tab-content .charsheet .sheet-spellblock-row.reflexive {
  display: flex;
  flex-direction: column; /* Stack label and checkbox vertically */
  justify-content: start; /* Center both vertically in cell */
  align-items: center;     /* Center horizontally */
  flex-basis: 20px;
}

.ui-dialog .tab-content .charsheet .sheet-spellblock-row.concentration label,
.ui-dialog .tab-content .charsheet .sheet-spellblock-row.prepared label,
.ui-dialog .tab-content .charsheet .sheet-spellblock-row.reflexive label {
  font-size: 85%;
  text-align: center;
  padding: 0;
  line-height: 1;
  margin-top: 1px;
  margin-bottom: 5px;
}

.ui-dialog .tab-content .charsheet .sheet-spellblock-row.concentration input[type="checkbox"],
.ui-dialog .tab-content .charsheet .sheet-spellblock-row.prepared input[type="checkbox"],
.ui-dialog .tab-content .charsheet .sheet-spellblock-row.reflexive input[type="checkbox"] {
  width: 16px;
  height: 16px;
}


/* === Input & select shared style === */
.ui-dialog .tab-content .charsheet .sheet-spellblock-row input[type="text"],
.ui-dialog .tab-content .charsheet .sheet-spellblock-row select {
  height: 24px;
  font-size: 90%;
  text-align: center;
  background-color: rgba(255,255,255,0.9);
  color: black;
  border: 1px solid #888;
  padding: 2px 4px;
  width: 100%;
  box-sizing: border-box;
}

.ui-dialog .tab-content .charsheet .sheet-spellblock-row.spell-skill {
  flex-basis: 130px; /* or whatever width you prefer */
}
.ui-dialog .tab-content .charsheet .sheet-spellblock-row.spell-skill select {
	font-size: 82%;
}

.ui-dialog .tab-content .charsheet .sheet-spellblock-row.spell-type {
  flex-basis: 125px; /* or whatever width you prefer */
}

/* === Skill Val + Button === */
.ui-dialog .tab-content .charsheet .sheet-spellblock-row.sheet-val-roll-wrapper {
  position: relative;
  flex-basis: 30px;
  display: flex;
  flex-direction: column;
  align-items: stretch; /* ← ensures input and button fill the full area */
  justify-content: flex-start;
}

.ui-dialog .tab-content .charsheet .sheet-spellblock-row.sheet-val-roll-wrapper button.new-roll {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%; /* ← covers entire wrapper now */
  opacity: 0;
  z-index: 2;
  cursor: pointer;
}


/* === Description: Full row, not inline === */
.ui-dialog .tab-content .charsheet .sheet-spellblock-row.full-width {
  width: 100%;
  flex-basis: 100%;
}
.ui-dialog .tab-content .charsheet .sheet-spellblock-row.full-width label {
  margin: 4px 0;
}
.ui-dialog .tab-content .charsheet .sheet-spellblock-row.full-width textarea {
  width: 100%;
  height: 35px;
  font-size: 90%;
  background-color: rgba(255,255,255,0.9);
  border: 1px solid #888;
  padding: 4px;
  resize: vertical;
  color: black;
  box-sizing: border-box;
}

/* Hide by default */
.ui-dialog .tab-content .charsheet .sheet-spellblock-advanced {
  display: none;
  width: 800px;               /* ← Enforce a fixed row width */
  max-width: 100%;            /* ← Prevent overflow if container is smaller */
  flex-wrap: wrap;
  gap: 2px;
  margin-bottom: 4px;
  background-color: rgba(255, 255, 255, 0.04);
  box-sizing: border-box;
}

/* Show if value = 1 */
.ui-dialog .tab-content .charsheet .repitem input[name="attr_show_spell_advanced"][value="1"] ~ .sheet-spellblock-advanced {
  display: flex; /* or block, depending on layout */
}

.ui-dialog .tab-content .charsheet .repitem .sheet-toggle-button,
.ui-dialog .tab-content .charsheet .sheet-toggle-button{
  font-size: 14px;
  height: 24px;
  width: 24px;
  padding: 0;
  background: #444;
  color: white;
  border: 1px solid #222;
  border-radius: 2px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.ui-dialog .tab-content .charsheet .sheet-spellblock-row.sheet-toggle-wrapper {
  flex-basis: 28px;
  align-self: center; /* ← vertically align the entire row to bottom */
  padding: 0;
  margin-top: 6px;
}

/* Hide all buttons by default */
.ui-dialog .tab-content .charsheet .sheet-roll-uncontested,
.ui-dialog .tab-content .charsheet .sheet-roll-targeted,
.ui-dialog .tab-content .charsheet .sheet-roll-contested {
	display: none;
}

/* Conditional show based on mirrored input */
.ui-dialog .tab-content .charsheet .sheet-layout .sheet-spelltype-mirror[value="spell_type_uncontested"] ~ .sheet-val-roll-wrapper .sheet-roll-uncontested,
.ui-dialog .tab-content .charsheet .sheet-layout .sheet-spelltype-mirror[value="spell_type_area_uncontested"] ~ .sheet-val-roll-wrapper .sheet-roll-uncontested,
.ui-dialog .tab-content .charsheet .sheet-layout .sheet-spelltype-mirror[value="spell_type_targeted"] ~ .sheet-val-roll-wrapper .sheet-roll-targeted,
.ui-dialog .tab-content .charsheet .sheet-layout .sheet-spelltype-mirror[value="spell_type_contested"] ~ .sheet-val-roll-wrapper .sheet-roll-contested,
.ui-dialog .tab-content .charsheet .sheet-layout .sheet-spelltype-mirror[value="spell_type_area_contested"] ~ .sheet-val-roll-wrapper .sheet-roll-contested {
	display: inline-block;
	  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  cursor: pointer;
  z-index: 1;
  pointer-events: auto;
}


/* ----------------- Gear and Inventory ---------------------- */

.ui-dialog .tab-content .charsheet .sheet-tech {
  background: #d0cabe; /* Also needs to match section background */
}

.ui-dialog .tab-content .charsheet .sheet-inventory-item-appl,
.ui-dialog .tab-content .charsheet .sheet-inventory-item {
  display: flex;
  flex-direction: column;
  width: 100%;
  background: #d0cabe; /* Also needs to match section background */
}

.ui-dialog .tab-content .charsheet .sheet-inventory-item-appl-header,
.ui-dialog .tab-content .charsheet .sheet-inventory-item-header,
.ui-dialog .tab-content .charsheet .ct-header-row {
  display: flex;
  flex-wrap: nowrap;
  flex-direction: row;
  align-items: center;
  width: 100%;
  height: 24px;
  padding: 0;
  margin: 0;
  gap: 0;
  background: black;
  color: white;
  font-weight: bold;
}

.ui-dialog .tab-content .charsheet .ct-mod-header-row {
  display: flex;
  flex-wrap: nowrap;
  flex-direction: row;
  align-items: center;
  width: 100%;
  height: 24px;
  padding: 0;
  margin: 0;
  gap: 0;
  background: #808080;
  color: black;
  font-weight: bold;
}

.ui-dialog .tab-content .charsheet .sheet-inventory-item-appl,
.ui-dialog .tab-content .charsheet .sheet-inventory-item,
.ui-dialog .tab-content .charsheet .ct-row,
.ui-dialog .tab-content .charsheet .ct-effect-row,
.ui-dialog .tab-content .charsheet .ct-mod,
.ui-dialog .tab-content .charsheet .ct-mod-row,
.ui-dialog .tab-content .charsheet .ct-mod-checkbox-row {
  display: flex;
  flex-wrap: nowrap;
  flex-direction: row;
  align-items: center;
  width: 100%;
  height: 24px;
  padding: 0;
  margin: 0;
  gap: 0;
  background-color: #d0cabe;
}

.ui-dialog .tab-content .charsheet .repeating_inventory-item-appl,
.ui-dialog .tab-content .charsheet .repeating_inventory-item,
.ui-dialog .tab-content .charsheet .repeating_ct {
  margin-bottom: 0px;
  padding: 0px;
  border: none;
  background-color: #d0cabe;
}

/* Container for all repeating entries */
.ui-dialog .tab-content .charsheet .repcontainer {
  display: flex;
  flex-direction: column;
  width: 100%;
  gap: 0;
  margin-bottom: 10px;
}

/* Each repeated entry */
.ui-dialog .tab-content .charsheet .repitem {
  display: flex;
  flex-direction: row;
  align-items: center;
  width: 100%;
  padding: 0;
  margin: 0;
}

.ui-dialog .tab-content .charsheet .repcontainer[data-groupname="repeating_ct"] > .repitem {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.ui-dialog .tab-content .charsheet .repcontainer[data-groupname="repeating_ct"] > .repitem .flex-row {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  width: 100%;
  gap: 0;
}

.ui-dialog .tab-content .charsheet .repcontainer[data-groupname="repeating_ct"] {
  display: flex;
  flex-direction: column;
  gap: 10px;
  border: 1px solid black;
}

.ui-dialog .tab-content .charsheet .sheet-inventory-item-appl-header .flex-row,
.ui-dialog .tab-content .charsheet .sheet-inventory-item-header .flex-row,
.ui-dialog .tab-content .charsheet .ct-header-row .flex-row,
.ui-dialog .tab-content .charsheet .ct-row .flex-row {
  display: flex;
  flex-wrap: nowrap;
  flex-direction: row;
  align-items: center;
  width: 100%;
  height: 24px;
  padding: 0;
  margin: 0;
  gap: 0;
  text-align: center;
}

.ui-dialog .tab-content .charsheet .ct-effect-row,
.ui-dialog .tab-content .charsheet .ct-mod-row {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: auto; /* Let content flow */
  padding: 4px 0;
}

.ui-dialog .tab-content .charsheet .ct-effect-row textarea,
.ui-dialog .tab-content .charsheet .ct-mod-row textarea {
  height: 30px;
  resize: vertical;
  box-sizing: border-box;
  width: 100%;
  font-size: 90%;
  color: black;
  font-style: bold;
}

.ui-dialog .tab-content .charsheet .ct-effect-row textarea {
  background: #e3e3f7;
}

.ui-dialog .tab-content .charsheet .ct-mod-row textarea {
  background: #d3d3d3;
}


.ui-dialog .tab-content .charsheet .flex-cell {
  padding: 0;
  margin: 0;
  border: 1px solid black;
  box-sizing: border-box;
  height: 24px;
  background-color: inherit;
}

.ui-dialog .tab-content .charsheet .flex-cell input[type="text"],
.ui-dialog .tab-content .charsheet .flex-cell input[type="number"] {
  width: 100%;
  height: 100%;
  padding: 0 4px;
  margin: 0;
  border: none;
  line-height: 24px; /* match parent height */
  background: transparent;
  font-size: 90%;
  box-sizing: border-box;
}


.ui-dialog .tab-content .charsheet .item-name, .ui-dialog .tab-content .charsheet .item-appl-name { flex: 2 1 20%; font-weight:bold; }

.ui-dialog .tab-content .charsheet .item-appl-qty, .ui-dialog .tab-content .charsheet .item-appl-uses,
.ui-dialog .tab-content .charsheet .item-appl-used, .item-appl-uses-scene, .ui-dialog .tab-content .charsheet .item-appl-used-scene,
.ui-dialog .tab-content .charsheet .item-appl-uses-session, .ui-dialog .tab-content .charsheet .item-appl-used-session { flex: 1 1 6%; font-size:90%; text-align: center;}

.ui-dialog .tab-content .charsheet .item-description, .ui-dialog .tab-content .charsheet .item-appl-description { flex: 2 1 38%; }

.ui-dialog .tab-content .charsheet .item-properties { flex: 2 1 36%; }

.ui-dialog .tab-content .charsheet .item-appl-qty, .ui-dialog .tab-content .charsheet .item-qty { font-weight: bold; text-align: center; }

.ui-dialog .tab-content .charsheet .item-appl-uses, .ui-dialog .tab-content .charsheet .item-appl-used { background-color: #444; color: #fff; }

.ui-dialog .tab-content .charsheet .item-appl-uses-scene, .ui-dialog .tab-content .charsheet .item-appl-used-scene { background-color: #808080; color: #fff; }

.ui-dialog .tab-content .charsheet .item-appl-uses-session, .ui-dialog .tab-content .charsheet .item-appl-used-session { background-color: #d3d3d3; color: #000; }


.ui-dialog .tab-content .charsheet .ct-name,
.ui-dialog .tab-content .charsheet .ct-mod-name { flex: 2 1 20%; font-weight:bold; text-align: center; }

.ui-dialog .tab-content .charsheet .ct-vitality,
.ui-dialog .tab-content .charsheet .ct-level,
.ui-dialog .tab-content .charsheet .ct-capacity,
.ui-dialog .tab-content .charsheet .ct-mod-capreq { flex: 0 1 8%; text-align: center; }

.ui-dialog .tab-content .charsheet .ct-description { flex: 2 1 56%; text-align: center; }

.ui-dialog .tab-content .charsheet .ct-mod-requirements { flex: 2 1 72%; text-align: center; }

.ui-dialog .tab-content .charsheet .ct-mod-checkbox { flex: 0 0 24px; }

.ui-dialog .tab-content .charsheet .ct-mod-checkbox-label { flex: 0 1 100px; color: #000; border: none; font-size: 100%; }

.ui-dialog .tab-content .charsheet input.ct-mod-checkbox,
.ui-dialog .tab-content .charsheet input.ct-mod-label {
  height: 14px;
  width: 14px;
}

.ui-dialog .tab-content .charsheet .ct-mod-wrapper1,
.ui-dialog .tab-content .charsheet .ct-mod-wrapper2,
.ui-dialog .tab-content .charsheet .ct-mod-wrapper3,
.ui-dialog .tab-content .charsheet .ct-mod-wrapper4,
.ui-dialog .tab-content .charsheet .ct-mod-wrapper5,
.ui-dialog .tab-content .charsheet .ct-mod-wrapper6,
.ui-dialog .tab-content .charsheet .ct-mod-wrapper7,
.ui-dialog .tab-content .charsheet .ct-mod-wrapper8 {
	display: none;
	flex-direction: column;
	width: 100%;
	height: 100%;
	border: 1px solid black;
}

.ui-dialog .tab-content .charsheet .sheet-gear-flex {
  display: flex;
  flex-direction: row;
  gap: 6px;
}

/* Grid layout for Cash and Assets inputs */
.ui-dialog .tab-content .charsheet .sheet-cash-grid {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 8px;
  background-color: #d0cabe;
  border: 1px solid #aaa;
  box-sizing: border-box;
}

/* Each label/input or label/textarea pair */
.ui-dialog .tab-content .charsheet .sheet-cash-row {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Label column style */
.ui-dialog .tab-content .charsheet .sheet-cash-label {
  width: 110px;
  font-weight: bold;
  font-size: 100%;
  white-space: nowrap;
  color: black;
  padding: 4px;
}

.ui-dialog .tab-content .charsheet .sheet-cash-grid input,
.ui-dialog .tab-content .charsheet .sheet-cash-grid textarea {
  margin: 0; /* remove any unwanted margin */
  padding: 4px; /* ensure inner spacing */
  box-sizing: border-box;
}

.ui-dialog .tab-content .charsheet .sheet-gear-textarea {
  width: 100%;
  height: 200px; /* or whatever you need */
  font-size: 90%;
  background-color: rgba(255, 255, 255, 0.5);
  resize: vertical;
  color: black;
  border: 1px solid #666;
  padding: 6px;
  box-sizing: border-box;
}

.ui-dialog .tab-content .charsheet .repitem input[name="attr_show_ct_mod1_proxy"][value="1"] ~ .ct-mod-wrapper1,
.ui-dialog .tab-content .charsheet .repitem input[name="attr_show_ct_mod2_proxy"][value="1"] ~ .ct-mod-wrapper2,
.ui-dialog .tab-content .charsheet .repitem input[name="attr_show_ct_mod3_proxy"][value="1"] ~ .ct-mod-wrapper3,
.ui-dialog .tab-content .charsheet .repitem input[name="attr_show_ct_mod4_proxy"][value="1"] ~ .ct-mod-wrapper4,
.ui-dialog .tab-content .charsheet .repitem input[name="attr_show_ct_mod5_proxy"][value="1"] ~ .ct-mod-wrapper5,
.ui-dialog .tab-content .charsheet .repitem input[name="attr_show_ct_mod6_proxy"][value="1"] ~ .ct-mod-wrapper6,
.ui-dialog .tab-content .charsheet .repitem input[name="attr_show_ct_mod7_proxy"][value="1"] ~ .ct-mod-wrapper7,
.ui-dialog .tab-content .charsheet .repitem input[name="attr_show_ct_mod8_proxy"][value="1"] ~ .ct-mod-wrapper8 {
  display: block;
}

/* ------------------------ Money Ledger (reuses core ledger row styles) ------------------------ */
.ui-dialog .tab-content .charsheet .money-choice         { flex: 1 1 18%; }
.ui-dialog .tab-content .charsheet .money-credit,
.ui-dialog .tab-content .charsheet .money-credit-header   { flex: 1 1 10%; }
.ui-dialog .tab-content .charsheet .money-debit,
.ui-dialog .tab-content .charsheet .money-debit-header    { flex: 1 1 10%; }
.ui-dialog .tab-content .charsheet .money-description     { flex: 2 1 52%; }
.ui-dialog .tab-content .charsheet .money-total,
.ui-dialog .tab-content .charsheet .money-total-header    { flex: 1 1 10%; }

/* Numeric alignment for amount fields */
.ui-dialog .tab-content .charsheet .money-credit input,
.ui-dialog .tab-content .charsheet .money-debit input,
.ui-dialog .tab-content .charsheet .money-total input {
    text-align: right;
}

/* Scope to the repeating group and target the actual INPUTS */
.ui-dialog .tab-content .charsheet .repcontainer[data-groupname="repeating_moneyledger"] .flex-cell input.sheet-money-credit {
  background-color: #d9f4d4;
}

.ui-dialog .tab-content .charsheet .repcontainer[data-groupname="repeating_moneyledger"] .flex-cell input.sheet-money-debit {
  background-color: #ff5b61;
  color: white;
}

.ui-dialog .tab-content .charsheet .repcontainer[data-groupname="repeating_moneyledger"] .flex-cell input.sheet-money-total {
  background-color: #d4ecf9; /* beats .sheet-readonly */
  color: black;
}

/* ------------------- Backstory ----------------------------- */

.ui-dialog .tab-content .charsheet .sheet-section-full {
  border: 1px solid black;
  background-color: #d0cabe;
  margin: 0;
  gap: 0;
  padding: 0;
}

.ui-dialog .tab-content .charsheet .section-head-row {
  display: flex;
  margin: 0;
  padding: 0;
  gap: 0;
  margin-bottom: -8px;
  margin-top: -8px;
}

.ui-dialog .tab-content .charsheet .section-head-row label {
  font-size: 100%;
  color: black;
  text-align: center;
}

.ui-dialog .tab-content .charsheet .sheet-contact-head-type {
  width: 3%;
}

.ui-dialog .tab-content .charsheet .sheet-contact-head-name {
  width: 22%;
}

.ui-dialog .tab-content .charsheet .sheet-contact-head-cost {
  width: 3%;
  text-align: center;
}

.ui-dialog .tab-content .charsheet .sheet-contact-head-level {
  width: 12%;
}

.ui-dialog .tab-content .charsheet .sheet-contact-head-progress {
  width: 3%;
  text-align: center;
}

.ui-dialog .tab-content .charsheet .sheet-contact-head-description {
  width: 57%;
}

.ui-dialog .tab-content .charsheet .sheet-section-full .repcontainer .repitem {
  margin: 0;
  padding: 0;
  gap: 0;
  display: flex; /* horizontal layout */
  align-items: start;
  margin-bottom: -8px;
}

.ui-dialog .tab-content .charsheet .sheet-contact-type {
  width: 3%;
  height: 25px;
  border: 1px solid #666;
  box-sizing: border-box;
  text-align: center;
  appearance: none;
}

.ui-dialog .tab-content .charsheet .sheet-contact-name {
  width: 22%;
  height: 25px;
  border: 1px solid #666;
  box-sizing: border-box;
  text-align: start;
  background-color: rgba(255, 255, 255, 0.5);
}

.ui-dialog .tab-content .charsheet .sheet-contact-cost {
  width: 3%;
  height: 25px;
  border: 1px solid #666;
  box-sizing: border-box;
  text-align: center;
}

.ui-dialog .tab-content .charsheet .sheet-contact-level {
  width: 12%;
  height: 25px;
  border: 1px solid #666;
  box-sizing: border-box;
  text-align: start;
  appearance: none;
}

.ui-dialog .tab-content .charsheet .sheet-contact-progress {
  width: 3%;
  height: 25px;
  border: 1px solid #666;
  box-sizing: border-box;
  text-align: center;
}

.ui-dialog .tab-content .charsheet .sheet-contact-description {
  width: 57%;
  height: 25px;
  resize: vertical;
  background-color: rgba(255, 255, 255, 0.5);
  color: black;
  border: 1px solid #666;
  box-sizing: border-box;
  text-align: start;
  align-items: center;
}

/* ===========================
   Backstory • Perks & Flaws
   - Scoped to sheet only
   - Light green (Perks), light red (Flaws)
   - Racial-talent style rows with Label / Flavor / Description
   =========================== */

.ui-dialog .tab-content .charsheet .sheet-perks {
    margin-top: 0px;
	background: #f2faf4;
}

.ui-dialog .tab-content .charsheet .sheet-perks .section-head {
    margin: 0 0 8px 0;
}

/* === Readability tweaks for Perks (light background friendly) === */
.ui-dialog .tab-content .charsheet .sheet-perks .sheet-perk-group {
  background: #f2faf4;              /* lighter green panel */
  border: 1px solid #bfe2c9;
  border-left-color: #7fbe93;       /* accent */
}

.ui-dialog .tab-content .charsheet .sheet-perks .section-subhead {
    margin: 0;
	padding: 0 0 0 10px;
	font-size: 110%;
    font-weight: 600;
	background: green;
	color: black;
}

/* ===== Perks: two-column row like Talents (left: name, right: text) ===== */
.ui-dialog .tab-content .charsheet .sheet-perks .sheet-talent-row {
  display: grid;
  grid-template-columns: 22px minmax(100px, 150px) 1fr;
  grid-template-rows: min-content min-content;  /* row 1 = flavor, row 2 = description */
  align-items: start;                            /* no baseline stretching */
  height: 100%;
  background: #aaf0c9;
  border: 1px solid #198450;
  border-radius: 6px;
  border-bottom: none;                     /* replace earlier dotted divider */
  column-gap: 10px;   /* keep horizontal spacing */
  row-gap: 0;  /* belt & suspenders */
  margin: 0;
}

.ui-dialog .tab-content .charsheet .sheet-perks .sheet-talent-row:last-child {
    border-bottom: 0;
}

.ui-dialog .tab-content .charsheet .sheet-perks .sheet-talent-checkbox { grid-column: 1; margin-top: 2px; }


.ui-dialog .tab-content .charsheet .sheet-perks .sheet-talent-label {
  grid-column: 2;
  color: #0f2d1f;
  font-weight: 700;
  font-size: 13px;
  margin: 0;
  padding: 0;
  line-height: 1.1;     /* tighter; prevents extra leading */
  align-self: start;
}

.ui-dialog .tab-content .charsheet .sheet-perks .sheet-talent-flavor {
  grid-column: 3;                          /* right column */
  display: flex;
  height: 100%;
  font-style: italic;
  font-size: 0.95em;
  color: #24332a;
  margin: 0;
  padding: 0;
  line-height: 1.12;
}

.ui-dialog .tab-content .charsheet .sheet-perks .sheet-talent-description {
  grid-column: 3;                          /* right column, below flavor */
  display: flex;
  height: 100%;
  font-size: 1em;                        /* smaller for readability */
  color: #111;
  margin: 0;            /* remove any top margin */
  padding: 0;
  line-height: 1.22;
}

/* Row layout matches talents’ merged summary row */
.ui-dialog .tab-content .charsheet .sheet-perk-row-one {
  display: grid;
  grid-template-columns: minmax(120px, 10%) minmax(0, 1fr); /* XP | Summary */
  gap: 0.5rem;
  align-items: start;
  margin: 0;
}

/* XP badge (left) */
.ui-dialog .tab-content .charsheet .sheet-perk-xp {
  display: flex; justify-content: flex-end;
}

.ui-dialog .tab-content .charsheet .sheet-perk-xp .sheet-xp-row {
  display: flex; flex-direction: column; align-items: center;
  gap: 2px; margin: 0;
}

.ui-dialog .tab-content .charsheet .sheet-perk-xp .sheet-xp-row label {
  background: #7fbe93;           /* green header chip */
  border: 1px solid black;
  color: #0f2d1f;
  font-weight: 700;
  font-size: 1.1em;
  padding: 4px 8px;
  border-radius: 6px 6px 0 0;
}

/* keep small, centered numeric field (reuses your .sheet-xp-field sizing) */
.ui-dialog .tab-content .charsheet .sheet-perk-xp .sheet-xp-field {
  max-width: 72px; text-align: center;
  border: 1px solid black; border-top: 0;
  border-radius: 0 0 6px 6px;
  background: black;
  color: white;
}

/* Summary panel (right) */
.ui-dialog .tab-content .charsheet .sheet-perk-summary {
  background: black;
  border: 1px solid black;
  border-radius: 6px;
  font-size: 110%;
}

.ui-dialog .tab-content .charsheet .sheet-perk-summary-header {
  margin: 0;
  font-weight: 700;
  font-size: 1.1em;
  color: #0f2d1f;
  background: #7fbe93;
  border-bottom: 1px solid black;
}

/* Perks — lock remaining unchecked within a filled group */
/* Leaving code, removing CSS to actually lock
.ui-dialog .tab-content .charsheet .sheet-perks .sheet-perk-group > input[name="attr_perk10_slots_full"][value="1"] ~ .sheet-talent-row .sheet-talent-checkbox:not(:checked) {
    pointer-events: none;
	opacity:.5;
	filter: grayscale(30%);
}
.ui-dialog .tab-content .charsheet .sheet-perks .sheet-perk-group  > input[name="attr_perk15_slots_full"][value="1"] ~ .sheet-talent-row .sheet-talent-checkbox:not(:checked) {
    pointer-events: none;
	opacity:.5;
	filter: grayscale(30%);
}
*/

/* ===========================
   Flaws (aligned to Perks styles)
   =========================== */

.ui-dialog .tab-content .charsheet .sheet-flaws {
  margin-top: 0px;
}

.ui-dialog .tab-content .charsheet .sheet-flaws .section-head {
  margin: 0 0 8px 0;
}

/* Group wrapper */
.ui-dialog .tab-content .charsheet .sheet-flaws .sheet-flaw-group {
  background: #fef4f4;        /* very light red panel */
  border: 1px solid #f1c9c9;
  border-left-color: #e58f8f; /* accent */
}

/* Subhead (match your Perks subhead, but red) */
.ui-dialog .tab-content .charsheet .sheet-flaws .section-subhead {
  margin: 0;
  padding: 0 0 0 10px;
  font-size: 110%;
  font-weight: 600;
  background: #f2bcbc;        /* light red strip */
  color: black;
}

/* Two-column row (checkbox + name | flavor/description) */
.ui-dialog .tab-content .charsheet .sheet-flaws .sheet-talent-row {
  display: grid;
  grid-template-columns: 22px minmax(100px, 150px) 1fr;
  grid-template-rows: min-content min-content; /* row1: flavor, row2: description */
  align-items: start;
  height: 100%;
  background: #ffd6d6;        /* light red card (parallel to #aaf0c9) */
  border: 1px solid #b24545;  /* darker red border (parallel to #198450) */
  border-radius: 6px;
  border-bottom: none;
  column-gap: 10px;
  row-gap: 0;
  margin: 0;
}

.ui-dialog .tab-content .charsheet .sheet-flaws .sheet-talent-row:last-child {
  border-bottom: 0;
}

/* Columns */
.ui-dialog .tab-content .charsheet .sheet-flaws .sheet-talent-checkbox {
  grid-column: 1;
  margin-top: 2px;
}

.ui-dialog .tab-content .charsheet .sheet-flaws .sheet-talent-label {
  grid-column: 2;
  color: #2b1818;     /* deep red-brown for contrast */
  font-weight: 700;
  font-size: 13px;
  margin: 0;
  padding: 0;
  line-height: 1.1;
  align-self: start;
}

.ui-dialog .tab-content .charsheet .sheet-flaws .sheet-talent-flavor {
  grid-column: 3;     /* right column */
  display: flex;
  height: 100%;
  font-style: italic;
  font-size: 0.9em;
  color: black;
  margin: 0;
  padding: 0;
  line-height: 1.12;
}

.ui-dialog .tab-content .charsheet .sheet-flaws .sheet-talent-description {
  grid-column: 3;     /* right column, below flavor */
  display: flex;
  height: 100%;
  font-size: 1em;
  color: black;
  margin: 0;
  padding: 0;
  line-height: 1.22;
}

/* Same grid as perks/talents */
.ui-dialog .tab-content .charsheet .sheet-flaw-row-one {
  display: grid;
  grid-template-columns: minmax(120px, 10%) minmax(0, 1fr); /* XP | Summary */
  gap: 0.5rem;
  align-items: start;
}

/* XP badge (left) */
.ui-dialog .tab-content .charsheet .sheet-flaw-xp {
  display: flex; justify-content: flex-end;
}

.ui-dialog .tab-content .charsheet .sheet-flaw-xp .sheet-xp-row {
  display: flex; flex-direction: column; align-items: center;
  gap: 2px; margin: 0;
}

.ui-dialog .tab-content .charsheet .sheet-flaw-xp .sheet-xp-row label {
  background: #e58f8f;           /* red header chip */
  border: 1px solid #cc6b6b;
  color: #3d1414;
  font-weight: 700;
  font-size: 1.1em;
  padding: 4px 8px;
  border-radius: 6px 6px 0 0;
}

.ui-dialog .tab-content .charsheet .sheet-flaw-xp .sheet-xp-field {
  max-width: 72px; text-align: center;
  border: 1px solid #cc6b6b; border-top: 0;
  border-radius: 0 0 6px 6px;
  background: black;
  color: white;
}

/* Summary panel (right) */
.ui-dialog .tab-content .charsheet .sheet-flaw-summary {
  border: 1px solid black;
  border-radius: 6px;
  background: black;
  padding: 0.5rem;
}

.ui-dialog .tab-content .charsheet .sheet-flaw-summary-header {
  margin: 0 0 0.35rem 0;
  font-weight: 700;
  font-size: 1.1em;
  color: #4a1818;
  background: #e58f8f;
  border-bottom: 1px solid black;
  padding-bottom: 0.25rem;
}

/* Flaws — lock remaining unchecked within a filled group */
/* Leaving code, removing CSS to actually lock
.ui-dialog .tab-content .charsheet .sheet-flaws .sheet-flaw-group > input[name="attr_flaw5_slots_full"][value="1"] ~ .sheet-talent-row .sheet-talent-checkbox:not(:checked) {
    pointer-events: none;
	opacity:.5;
	filter: grayscale(30%);
}
.ui-dialog .tab-content .charsheet .sheet-flaws .sheet-flaw-group > input[name="attr_flaw10_slots_full"][value="1"] ~ .sheet-talent-row .sheet-talent-checkbox:not(:checked) {
    pointer-events: none;
	opacity:.5;
	filter: grayscale(30%);
}
*/
/* ------------------------------------------- BACKSTORY ---------------------------------- */

.ui-dialog .tab-content .charsheet .sheet-backstory-grid {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
  margin-top: 10px;
}

.ui-dialog .tab-content .charsheet .sheet-backstory-col {
  flex: 1 1 48%;
  min-width: 280px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.ui-dialog .tab-content .charsheet .sheet-backstory-label {
  font-weight: bold;
  font-size: 100%;
  color: black;
  padding: 2px 0;
}

.ui-dialog .tab-content .charsheet .sheet-backstory-textarea {
  width: 100%;
  height: 75px;
  resize: vertical;
  background-color: rgba(255, 255, 255, 0.5);
  color: black;
  padding: 4px;
  border: 1px solid #666;
  box-sizing: border-box;
}

/* ------------------ Tracker ------------------ */
.ui-dialog .tab-content .charsheet .sheet-tracker-section {
  display: flex;
  gap: 1em;
}
.ui-dialog .tab-content .charsheet .sheet-tracker-section-spacer {
	height: 20px;
}

.ui-dialog .tab-content .charsheet .sheet-tracker-column {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.ui-dialog .tab-content .charsheet .sheet-tracker-item {
  display: none;
  align-items: center;
  gap: 0.5em;
  padding: 4px 0;
}

.ui-dialog .tab-content .charsheet .sheet-tracker-stim {
	background: #C1E1C1;
}

.ui-dialog .tab-content .charsheet .sheet-tracker-talent {
	background: #7DF9FF;
}

.ui-dialog .tab-content .charsheet .sheet-tracker-racial-talents {
	color: #0000FF;
}
.ui-dialog .tab-content .charsheet .sheet-tracker-other {
	color: #000000;
}
.ui-dialog .tab-content .charsheet .sheet-tracker-career-talents {
	color: #808000;
}

.ui-dialog .tab-content .charsheet .sheet-tracker h4 {
	text-align: center;
}

/* Flaws Tracker - Scene */
.ui-dialog .tab-content .charsheet input[name="attr_show_flaw_soul_flare"][value="1"] ~ .sheet-flaw-soul-flare {
  display: flex;
}

/* Perk Tracker - Scene */
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_blood_born_survivor"][value="1"] ~ .sheet-perk-blood-born-survivor,
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_dirty_fighter"][value="1"] ~ .sheet-perk-dirty-fighter,
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_resilient_frame"][value="1"] ~ .sheet-perk-resilient-frame {
  display: flex;
}

/* Racial Talent Tracker - Scene */
.ui-dialog .tab-content .charsheet input[name="attr_show_alteri_intent_mirroring"][value="1"] ~ .sheet-alteri-intent-mirroring,
.ui-dialog .tab-content .charsheet input[name="attr_show_alteri_predictive_empathy"][value="1"] ~ .sheet-alteri-predictive-empathy,
.ui-dialog .tab-content .charsheet input[name="attr_show_alteri_seamless_transition"][value="1"] ~ .sheet-alteri-seamless-transition,
.ui-dialog .tab-content .charsheet input[name="attr_show_alteri_social_attunement"][value="1"] ~ .sheet-alteri-social-attunement,
.ui-dialog .tab-content .charsheet input[name="attr_show_draevi_claim_the_ground"][value="1"] ~ .sheet-draevi-claim-the-ground,
.ui-dialog .tab-content .charsheet input[name="attr_show_draevi_read_the_ground"][value="1"] ~ .sheet-draevi-read-the-ground,
.ui-dialog .tab-content .charsheet input[name="attr_show_draevi_stand_when_others_stagger"][value="1"] ~ .sheet-draevi-stand-when-others-stagger,
.ui-dialog .tab-content .charsheet input[name="attr_show_feran_somethings_off"][value="1"] ~ .sheet-feran-somethings-off,
.ui-dialog .tab-content .charsheet input[name="attr_show_feran_anglecraft"][value="1"] ~ .sheet-feran-anglecraft,
.ui-dialog .tab-content .charsheet input[name="attr_show_feran_clean_footing"][value="1"] ~ .sheet-feran-clean-footing,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_bad_idea_lets_go"][value="1"] ~ .sheet-human-bad-idea-lets-go,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_borrowed_authority"][value="1"] ~ .sheet-human-borrowed-authority,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_close_enough"][value="1"] ~ .sheet-human-close-enough,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_make_it_someones_problem"][value="1"] ~ .sheet-human-make-it-someones-problem,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_make_it_work"][value="1"] ~ .sheet-human-make-it-work,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_right_tool"][value="1"] ~ .sheet-human-right-tool,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_burden_accepted"][value="1"] ~ .sheet-khadra-burden-accepted,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_carried_to_the_end"][value="1"] ~ .sheet-khadra-carried-to-the-end,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_consult_the_old_spirits"][value="1"] ~ .sheet-khadra-consult-the-old-spirits,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_deliberate_force"][value="1"] ~ .sheet-khadra-deliberate-force,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_endure_to_completion"][value="1"] ~ .sheet-khadra-endure-to-completion,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_oath_set_before_the_storm"][value="1"] ~ .sheet-khadra-oath-set-before-the-storm,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_prepared_not_rushed"][value="1"] ~ .sheet-khadra-prepared-not-rushed,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_stone_set_focus"][value="1"] ~ .sheet-khadra-stone-set-focus,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_witness_to_honor"][value="1"] ~ .sheet-khadra-witness-to-honor,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_work_without_turning_aside"][value="1"] ~ .sheet-khadra-work-without-turning-aside,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_flicker_edge_movement"][value="1"] ~ .sheet-kitsu-flicker-edge-movement,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_twitch_reflex"][value="1"] ~ .sheet-kitsu-twitch-reflex,
.ui-dialog .tab-content .charsheet input[name="attr_show_lyranni_arcane_composure"][value="1"] ~ .sheet-lyranni-arcane-composure,
.ui-dialog .tab-content .charsheet input[name="attr_show_lyranni_bearing_of_power"][value="1"] ~ .sheet-lyranni-bearing-of-power,
.ui-dialog .tab-content .charsheet input[name="attr_show_lyranni_between_the_currents"][value="1"] ~ .sheet-lyranni-between-the-currents,
.ui-dialog .tab-content .charsheet input[name="attr_show_lyranni_caste_memory"][value="1"] ~ .sheet-lyranni-caste-memory,
.ui-dialog .tab-content .charsheet input[name="attr_show_lyranni_quiet_read"][value="1"] ~ .sheet-lyranni-quiet-read,
.ui-dialog .tab-content .charsheet input[name="attr_show_lyranni_veil_literate"][value="1"] ~ .sheet-lyranni-veil-literate,
.ui-dialog .tab-content .charsheet input[name="attr_show_lyranni_veil_touch"][value="1"] ~ .sheet-lyranni-veil-touch,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_battlefield_sync"][value="1"] ~ .sheet-veyra-battlefield-sync,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_dark_grid_savant"][value="1"] ~ .sheet-veyra-dark-grid-savant,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_echo_map_recall"][value="1"] ~ .sheet-veyra-echo-map-recall,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_mask_the_signal"][value="1"] ~ .sheet-veyra-mask-the-signal,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_nocturne_optimizer"][value="1"] ~ .sheet-veyra-nocturne-optimizer,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_overclock_instinct"][value="1"] ~ .sheet-veyra-overclock-instinct,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_recursive_salvager"][value="1"] ~ .sheet-veyra-recursive-salvager,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_stealth_harmonic"][value="1"] ~ .sheet-veyra-stealth-harmonic,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_thread_the_vents"][value="1"] ~ .sheet-veyra-thread-the-vents,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_vent_ghost"][value="1"] ~ .sheet-veyra-vent-ghost {
	display: flex;
}

/* Perk Tracker - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_combat_veteran"][value="1"] ~ .sheet-perk-combat-veteran,
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_corp_groomed"][value="1"] ~ .sheet-perk-corp-groomed,
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_danger_sense"][value="1"] ~ .sheet-perk-danger-sense,
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_final_stand"][value="1"] ~ .sheet-perk-final-stand,
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_forgettable_presence"][value="1"] ~ .sheet-perk-forgettable-presence,
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_hard_preparation"][value="1"] ~ .sheet-perk-hard-preparation,
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_institutional_weight"][value="1"] ~ .sheet-perk-institutional-weight,
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_last_clear_thought"][value="1"] ~ .sheet-perk-last-clear-thought,
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_mind_leash"][value="1"] ~ .sheet-perk-mind-leash,
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_photographic_recall"][value="1"] ~ .sheet-perk-photographic-recall,
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_scorched_soul"][value="1"] ~ .sheet-perk-scorched-soul,
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_shadow_mark"][value="1"] ~ .sheet-perk-shadow-mark,
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_tactical_instinct"][value="1"] ~ .sheet-perk-tactical-instinct,
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_veil_anchor"][value="1"] ~ .sheet-perk-veil-anchor,
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_veil_drenched_intuition"][value="1"] ~ .sheet-perk-veil-drenched-intuition {
  display: flex;
}

/* Flaws Tracker - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_flaw_blood_debt"][value="1"] ~ .sheet-flaw-blood-debt,
.ui-dialog .tab-content .charsheet input[name="attr_show_flaw_burned_bridges"][value="1"] ~ .sheet-flaw-burned-bridges,
.ui-dialog .tab-content .charsheet input[name="attr_show_flaw_distinctive_look"][value="1"] ~ .sheet-flaw-distinctive-look,
.ui-dialog .tab-content .charsheet input[name="attr_show_flaw_hex_stained"][value="1"] ~ .sheet-flaw-hex-stained,
.ui-dialog .tab-content .charsheet input[name="attr_show_flaw_hunted"][value="1"] ~ .sheet-flaw-hunted,
.ui-dialog .tab-content .charsheet input[name="attr_show_flaw_marked_by_the_black"][value="1"] ~ .sheet-flaw-marked-by-the-black,
.ui-dialog .tab-content .charsheet input[name="attr_show_flaw_obligation"][value="1"] ~ .sheet-flaw-obligation,
.ui-dialog .tab-content .charsheet input[name="attr_show_flaw_wanted_low_priority"][value="1"] ~ .sheet-flaw-wanted-low-priority {
  display: flex;
}

/* Perk Tracker - Campaign */
.ui-dialog .tab-content .charsheet input[name="attr_show_perk_blood_born_survivor"][value="1"] ~ .sheet-perk-blood-born-survivor {
  display: flex;
}

/* Racial Trait Tracker - Scene */
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="draevi"] ~ .sheet-tracker-section .sheet-draevi-surefooted-motion {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="feran"] ~ .sheet-tracker-section .sheet-feran-spatial-grace {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="khadra"] ~ .sheet-tracker-section .sheet-khadra-stone-set-discipline  {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="veyra"] ~ .sheet-tracker-section .sheet-veyra-quietstep {
	display: flex;
}

/* Racial Trait Tracker - Sesssion */
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="draevi"] ~ .sheet-tracker-section .sheet-draevi-grounded-awareness,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="draevi"] ~ .sheet-tracker-section .sheet-draevi-primal-endurance {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="feran"] ~ .sheet-tracker-section .sheet-feran-pack-intuition,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="feran"] ~ .sheet-tracker-section .sheet-feran-reactive-momentum  {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="human"] ~ .sheet-tracker-section .sheet-human-act-before-it-settles,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="human"] ~ .sheet-tracker-section .sheet-human-fail-forward,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="human"] ~ .sheet-tracker-section .sheet-human-push-through {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="khadra"] ~ .sheet-tracker-section .sheet-khadra-oathbound-bearing,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="khadra"] ~ .sheet-tracker-section .sheet-khadra-unyielding-frame {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="kitsu"] ~ .sheet-tracker-section .sheet-kitsu-cyber-spirit-instinct,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="kitsu"] ~ .sheet-tracker-section .sheet-kitsu-fox-eared-reflexes,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="kitsu"] ~ .sheet-tracker-section .sheet-kitsu-mask-of-the-foxfire,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="kitsu"] ~ .sheet-tracker-section .sheet-kitsu-strain-the-moment {
	display: flex;
}

.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="lyranni"] ~ .sheet-tracker-section .sheet-lyranni-resonant-mind,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="lyranni"] ~ .sheet-tracker-section .sheet-lyranni-ritual-poise,
.ui-dialog .tab-content .charsheet .sheet-tab-content.sheet-tracker input[name="attr_showracials"][value="lyranni"] ~ .sheet-tracker-section .sheet-lyranni-veil-attunement {
	display: flex;
}

/* Racial Talent Tracker - Alteri - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_alteri_author_of_the_moment"][value="1"] ~ .sheet-alteri-author-of-the-moment,
.ui-dialog .tab-content .charsheet input[name="attr_show_alteri_hardened_biometric_assimilation"][value="1"] ~ .sheet-alteri-hardened-biometric-assimilation,
.ui-dialog .tab-content .charsheet input[name="attr_show_alteri_immaculate_impersonation"][value="1"] ~ .sheet-alteri-immaculate-impersonation,
.ui-dialog .tab-content .charsheet input[name="attr_show_alteri_living_mask_archive"][value="1"] ~ .sheet-alteri-living-mask-archive,
.ui-dialog .tab-content .charsheet input[name="attr_show_alteri_perfect_adaptation"][value="1"] ~ .sheet-alteri-perfect-adaptation,
.ui-dialog .tab-content .charsheet input[name="attr_show_alteri_social_null_field"][value="1"] ~ .sheet-alteri-social-null-field {
	display: flex;
}

/* Racial Talent Tracker - Draevi - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_draevi_bound_to_the_old_paths"][value="1"] ~ .sheet-draevi-bound-to-the-old-paths,
.ui-dialog .tab-content .charsheet input[name="attr_show_draevi_circle_of_the_standing_stones"][value="1"] ~ .sheet-draevi-circle-of-the-standing-stones,
.ui-dialog .tab-content .charsheet input[name="attr_show_draevi_echoes_beneath_the_stone"][value="1"] ~ .sheet-draevi-echoes-beneath-the-stone,
.ui-dialog .tab-content .charsheet input[name="attr_show_draevi_endure_the_long_walk"][value="1"] ~ .sheet-draevi-endure-the-long-walk,
.ui-dialog .tab-content .charsheet input[name="attr_show_draevi_eyes_of_the_pathkeeper"][value="1"] ~ .sheet-draevi-eyes-of-the-pathkeeper,
.ui-dialog .tab-content .charsheet input[name="attr_show_draevi_ground_remembers_me"][value="1"] ~ .sheet-draevi-ground-remembers-me,
.ui-dialog .tab-content .charsheet input[name="attr_show_draevi_shared_burden_shared_breath"][value="1"] ~ .sheet-draevi-shared-burden-shared-breath,
.ui-dialog .tab-content .charsheet input[name="attr_show_draevi_those_who_walked_before"][value="1"] ~ .sheet-draevi-those-who-walked-before,
.ui-dialog .tab-content .charsheet input[name="attr_show_draevi_unbroken_path"][value="1"] ~ .sheet-draevi-unbroken-path,
.ui-dialog .tab-content .charsheet input[name="attr_show_draevi_voice_of_those_who_remain"][value="1"] ~ .sheet-draevi-voice-of-those-who-remain,
.ui-dialog .tab-content .charsheet input[name="attr_show_draevi_weight_of_presence"][value="1"] ~ .sheet-draevi-weight-of-presence,
.ui-dialog .tab-content .charsheet input[name="attr_show_draevi_whispers_of_what_was"][value="1"] ~ .sheet-draevi-whispers-of-what-was {
	display: flex;
}

/* Racial Talent Tracker - Feran - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_feran_chaos_has_a_line"][value="1"] ~ .sheet-feran-chaos-has-a-line,
.ui-dialog .tab-content .charsheet input[name="attr_show_feran_finish_it"][value="1"] ~ .sheet-feran-finish-it,
.ui-dialog .tab-content .charsheet input[name="attr_show_feran_ive_got_you"][value="1"] ~ .sheet-feran-ive-got-you,
.ui-dialog .tab-content .charsheet input[name="attr_show_feran_lines_between_us"][value="1"] ~ .sheet-feran-lines-between-us,
.ui-dialog .tab-content .charsheet input[name="attr_show_feran_measured_chase"][value="1"] ~ .sheet-feran-measured-chase,
.ui-dialog .tab-content .charsheet input[name="attr_show_feran_pack_memory_of_salt_and_smoke"][value="1"] ~ .sheet-feran-pack-memory-of-salt-and-smoke,
.ui-dialog .tab-content .charsheet input[name="attr_show_feran_pack_memory_of_vapor_and_sight"][value="1"] ~ .sheet-feran-pack-memory-of-vapor-and-sight,
.ui-dialog .tab-content .charsheet input[name="attr_show_feran_predator_reflexes"][value="1"] ~ .sheet-feran-predator-reflexes,
.ui-dialog .tab-content .charsheet input[name="attr_show_feran_run_it_down"][value="1"] ~ .sheet-feran-run-it-down,
.ui-dialog .tab-content .charsheet input[name="attr_show_feran_sense_the_shift"][value="1"] ~ .sheet-feran-sense-the-shift,
.ui-dialog .tab-content .charsheet input[name="attr_show_feran_shared_blind_instinct"][value="1"] ~ .sheet-feran-shared-blind-instinct,
.ui-dialog .tab-content .charsheet input[name="attr_show_feran_silent_hand_off"][value="1"] ~ .sheet-feran-silent-hand-off,
.ui-dialog .tab-content .charsheet input[name="attr_show_feran_the_second_route"][value="1"] ~ .sheet-feran-the-second-route,
.ui-dialog .tab-content .charsheet input[name="attr_show_feran_there_is_still_a_way"][value="1"] ~ .sheet-feran-there-is-still-a-way,
.ui-dialog .tab-content .charsheet input[name="attr_show_feran_where_the_floor_gives_way"][value="1"] ~ .sheet-feran-where-the-floor-gives-way {
	display: flex;
}

/* Racial Talent Tracker - Human - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_human_hold_it_together"][value="1"] ~ .sheet-human-hold-it-together,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_if_this_works_we_win"][value="1"] ~ .sheet-human-if-th-is-works-we-win,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_ill_handle_it"][value="1"] ~ .sheet-human-ill-handle-it,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_ill_take_the_hit"][value="1"] ~ .sheet-human-ill-take-the-hit,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_inside_the_blast_radius"][value="1"] ~ .sheet-human-inside-the-blast-radius,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_it_only_has_to_work_once"][value="1"] ~ .sheet-human-it-only-has-to-work-once,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_ive_been_in_worse"][value="1"] ~ .sheet-human-ive-been-in-worse,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_ive_run_worse_odds"][value="1"] ~ .sheet-human-ive-run-worse-odds,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_never_tell_me_the_odds"][value="1"] ~ .sheet-human-never-tell-me-the-odds,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_someone_has_to_do_it"][value="1"] ~ .sheet-human-someone-has-to-do-it,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_still_standing"][value="1"] ~ .sheet-human-still-standing,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_this_is_on_me"][value="1"] ~ .sheet-human-th-is-is-on-me,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_too_late_to_stop_me"][value="1"] ~ .sheet-human-too-late-to-stop-me,
.ui-dialog .tab-content .charsheet input[name="attr_show_human_wrong_place_right_time"][value="1"] ~ .sheet-human-wrong-place-right-time {
	display: flex;
}

/* Racial Talent Tracker - Khadra - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_borrowed_hands"][value="1"] ~ .sheet-khadra-borrowed-hands,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_cost_before_collapse"][value="1"] ~ .sheet-khadra-cost-before-collapse,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_endure_the_long_night"][value="1"] ~ .sheet-khadra-endure-the-long-night,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_hold_the_line"][value="1"] ~ .sheet-khadra-hold-the-line,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_oath_echo_discipline"][value="1"] ~ .sheet-khadra-oath-echo-discipline,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_path_of_the_immovable"][value="1"] ~ .sheet-khadra-path-of-the-immovable,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_rooted_in_purpose"][value="1"] ~ .sheet-khadra-rooted-in-purpose,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_stonecut_precision"][value="1"] ~ .sheet-khadra-stonecut-precision,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_stonewalk_rhythm"][value="1"] ~ .sheet-khadra-stonewalk-rhythm,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_the_ancestors_are_watching"][value="1"] ~ .sheet-khadra-the-ancestors-are-watching,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_the_line_is_here"][value="1"] ~ .sheet-khadra-the-line-is-here,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_the_long_memory_of_stone"][value="1"] ~ .sheet-khadra-the-long-memory-of-stone,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_the_sign_fulfilled"][value="1"] ~ .sheet-khadra-the-sign-fulfilled,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_the_weight_of_my_words"][value="1"] ~ .sheet-khadra-the-weight-of-my-words,
.ui-dialog .tab-content .charsheet input[name="attr_show_khadra_unyielding_frame"][value="1"] ~ .sheet-khadra-unyielding-frame {
	display: flex;
}

/* Racial Talent Tracker - Kitsu - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_mask_of_the_moment"][value="1"] ~ .sheet-kitsu-mask-of-the-moment,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_pulse_trickster"][value="1"] ~ .sheet-kitsu-pulse-trickster,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_veil_sniff"][value="1"] ~ .sheet-kitsu-veil-sniff,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_whisperstep"][value="1"] ~ .sheet-kitsu-whisperstep,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_foxs_masquerade"][value="1"] ~ .sheet-kitsu-foxs-masquerade,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_hollow_sound"][value="1"] ~ .sheet-kitsu-hollow-sound,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_sensory_overclock"][value="1"] ~ .sheet-kitsu-sensory-overclock,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_urban_echo"][value="1"] ~ .sheet-kitsu-urban-echo,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_blurring_veil"][value="1"] ~ .sheet-kitsu-blurring-veil,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_coded_whisper"][value="1"] ~ .sheet-kitsu-coded-whisper,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_mirror_nerve"][value="1"] ~ .sheet-kitsu-mirror-nerve,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_one_breath_casting"][value="1"] ~ .sheet-kitsu-one-breath-casting,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_phase_residue"][value="1"] ~ .sheet-kitsu-phase-residue,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_shadow_map"][value="1"] ~ .sheet-kitsu-shadow-map,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_slipframe_trigger"][value="1"] ~ .sheet-kitsu-slipframe-trigger,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_mask_of_the_hunt"][value="1"] ~ .sheet-kitsu-mask-of-the-hunt,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_nine_lives_protocol"][value="1"] ~ .sheet-kitsu-nine-lives-protocol,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_rewired_pulse"][value="1"] ~ .sheet-kitsu-rewired-pulse,
.ui-dialog .tab-content .charsheet input[name="attr_show_kitsu_tailwind_gambit"][value="1"] ~ .sheet-kitsu-tailwind-gambit {
	display: flex;
}

/* Racial Talent Tracker - Lyranni - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_lyranni_heir_to_the_veiled_houses"][value="1"] ~ .sheet-lyranni-heir-to-the-veiled-houses,
.ui-dialog .tab-content .charsheet input[name="attr_show_lyranni_i_will_not_be_carried"][value="1"] ~ .sheet-lyranni-i-will-not-be-carried,
.ui-dialog .tab-content .charsheet input[name="attr_show_lyranni_let_it_pass_through_me"][value="1"] ~ .sheet-lyranni-let-it-pass-through-me,
.ui-dialog .tab-content .charsheet input[name="attr_show_lyranni_spirit_marked"][value="1"] ~ .sheet-lyranni-spirit-marked,
.ui-dialog .tab-content .charsheet input[name="attr_show_lyranni_the_veil_knows_my_name"][value="1"] ~ .sheet-lyranni-the-veil-knows-my-name,
.ui-dialog .tab-content .charsheet input[name="attr_show_lyranni_the_weight_before_the_step"][value="1"] ~ .sheet-lyranni-the-weight-before-the-step,
.ui-dialog .tab-content .charsheet input[name="attr_show_lyranni_veil_hardened_mind"][value="1"] ~ .sheet-lyranni-veil-hardened-mind {
	display: flex;
}

/* ----------------- Racial Talent Tracker — Veyra — Session ----------------- */
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_signal_ghost"][value="1"] ~ .sheet-veyra-signal-ghost,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_cache_sense"][value="1"] ~ .sheet-veyra-cache-sense,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_reflex_map"][value="1"] ~ .sheet-veyra-reflex-map,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_silent_cascade"][value="1"] ~ .sheet-veyra-silent-cascade,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_ping_and_pull"][value="1"] ~ .sheet-veyra-ping-and-pull,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_echo_splice_reflex"][value="1"] ~ .sheet-veyra-echo-splice-reflex,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_signal_evasion_loop"][value="1"] ~ .sheet-veyra-signal-evasion-loop,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_echowire_scramble"][value="1"] ~ .sheet-veyra-echowire-scramble,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_cachejack_protocol"][value="1"] ~ .sheet-veyra-cachejack-protocol,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_neurospike_blur"][value="1"] ~ .sheet-veyra-neurospike-blur,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_ghost_in_the_gears"][value="1"] ~ .sheet-veyra-ghost-in-the-gears,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_circuit_sovereign"][value="1"] ~ .sheet-veyra-circuit-sovereign,
.ui-dialog .tab-content .charsheet input[name="attr_show_veyra_silent_dominion"][value="1"] ~ .sheet-veyra-silent-dominion {
    display: flex;
}

/* Career Talent Tracker - Codeweaver - Scene */
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_arc_thread_override"][value="1"] ~ .sheet-codeweaver-arc-thread-override,
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_backdoor_ritual"][value="1"] ~ .sheet-codeweaver-backdoor-ritual,
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_clean_loop_feedback"][value="1"] ~ .sheet-codeweaver-clean-loop-feedback,
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_code_injection"][value="1"] ~ .sheet-codeweaver-code-injection,
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_command_injection"][value="1"] ~ .sheet-codeweaver-command-injection,
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_hardlight_override"][value="1"] ~ .sheet-codeweaver-hardlight-override,
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_pulse_hijack"][value="1"] ~ .sheet-codeweaver-pulse-hijack,
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_recursive_pulse"][value="1"] ~ .sheet-codeweaver-recursive-pulse,
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_signal_sync"][value="1"] ~ .sheet-codeweaver-signal-sync,
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_synthetic_harmony"][value="1"] ~ .sheet-codeweaver-synthetic-harmony,
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_veil_thread_tap"][value="1"] ~ .sheet-codeweaver-veil-thread-tap {
	display: flex;
}

/* Career Talent Tracker - Mindbender - Scene */
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_blind_angle"][value="1"] ~ .sheet-mindbender-blind-angle,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_catch_22"][value="1"] ~ .sheet-mindbender-catch-22,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_commanding_presence"][value="1"] ~ .sheet-mindbender-commanding-presence,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_cracking_resolve"][value="1"] ~ .sheet-mindbender-cracking-resolve,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_false_choice"][value="1"] ~ .sheet-mindbender-false-choice,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_mental_backlash"][value="1"] ~ .sheet-mindbender-mental-backlash,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_mental_interference"][value="1"] ~ .sheet-mindbender-mental-interference,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_moment_of_doubt"][value="1"] ~ .sheet-mindbender-moment-of-doubt,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_moments_hesitation"][value="1"] ~ .sheet-mindbender-moments-hesitation,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_overextension"][value="1"] ~ .sheet-mindbender-overextension,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_press_the_advantage"][value="1"] ~ .sheet-mindbender-press-the-advantage,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_read_the_room"][value="1"] ~ .sheet-mindbender-read-the-room,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_seed_of_doubt"][value="1"] ~ .sheet-mindbender-seed-of-doubt,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_shaken_resolve"][value="1"] ~ .sheet-mindbender-shaken-resolve,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_spatial_misjudgment"][value="1"] ~ .sheet-mindbender-spatial-misjudgment,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_split_focus"][value="1"] ~ .sheet-mindbender-split-focus,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_subtle_suggestion"][value="1"] ~ .sheet-mindbender-subtle-suggestion,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_turn_the_knife"][value="1"] ~ .sheet-mindbender-turn-the-knife {
	display: flex;
}

/* Career Talent Tracker - Sigilbound - Scene */
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_arcane_lock"][value="1"] ~ .sheet-sigilbound-arcane-lock,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_barrier_projection"][value="1"] ~ .sheet-sigilbound-barrier-projection,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_null_field"][value="1"] ~ .sheet-sigilbound-null-field,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_runesight"][value="1"] ~ .sheet-sigilbound-runesight,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_reflective_ward"][value="1"] ~ .sheet-sigilbound-reflective-ward,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_sanctum_sigil"][value="1"] ~ .sheet-sigilbound-sanctum-sigil,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_sigil_of_anchoring"][value="1"] ~ .sheet-sigilbound-sigil-of-anchoring,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_sigil_pulse"][value="1"] ~ .sheet-sigilbound-sigil-pulse,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_sigil_reservoir"][value="1"] ~ .sheet-sigilbound-sigil-reservoir,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_stabilization_glyph"][value="1"] ~ .sheet-sigilbound-stabilization-glyph,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_warded_advance"][value="1"] ~ .sheet-sigilbound-warded-advance,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_warding_matrix"][value="1"] ~ .sheet-sigilbound-warding-matrix {
	display: flex;
}

/* Career Talent Tracker - Spirit Warden - Scene */
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_basic_ritual_circle"][value="1"] ~ .sheet-spirit-warden-basic-ritual-circle,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_rite_efficiency"][value="1"] ~ .sheet-spirit-warden-rite-efficiency,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_wardens_binding_circle"][value="1"] ~ .sheet-spirit-warden-wardens-binding-circle,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_circle_marked_recall"][value="1"] ~ .sheet-spirit-warden-circle-marked-recall,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_circle_flow_discipline"][value="1"] ~ .sheet-spirit-warden-circle-flow-discipline,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_silencing_hand"][value="1"] ~ .sheet-spirit-warden-silencing-hand,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_spirit_economy"][value="1"] ~ .sheet-spirit-warden-spirit-economy,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_wardens_wards"][value="1"] ~ .sheet-spirit-warden-wardens-wards,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_purifications_edge"][value="1"] ~ .sheet-spirit-warden-purifications-edge,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_bound_spirit_partner"][value="1"] ~ .sheet-spirit-warden-bound-spirit-partner,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_custodians_stand"][value="1"] ~ .sheet-spirit-warden-custodians-stand,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_wardens_barrier_sigil"][value="1"] ~ .sheet-spirit-warden-wardens-barrier-sigil,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_rite_of_echo_severance"][value="1"] ~ .sheet-spirit-warden-rite-of-echo-severance {
	display: flex;
}

/* Career Talent Tracker - Stormweaver - Scene */
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_arc_feedback"][value="1"] ~ .sheet-stormweaver-arc-feedback,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_arc_flare"][value="1"] ~ .sheet-stormweaver-arc-flare,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_burn_current"][value="1"] ~ .sheet-stormweaver-burn-current,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_burnline_pressure"][value="1"] ~ .sheet-stormweaver-burnline-pressure,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_dig_in_the_storm"][value="1"] ~ .sheet-stormweaver-dig-in-the-storm,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_flashstep"][value="1"] ~ .sheet-stormweaver-flashstep,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_hold_the_current"][value="1"] ~ .sheet-stormweaver-hold-the-current,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_scorchmark"][value="1"] ~ .sheet-stormweaver-scorchmark,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_stormcallers_edge"][value="1"] ~ .sheet-stormweaver-stormcallers-edge,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_stormpulse_drive"][value="1"] ~ .sheet-stormweaver-stormpulse-drive,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_veil_backlash"][value="1"] ~ .sheet-stormweaver-veil-backlash,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_veilstorm_mantle"][value="1"] ~ .sheet-stormweaver-veilstorm-mantle {
	display: flex;
}

/* Career Talent Tracker - Veil Dancer - Scene */
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_borrowed_horizon"][value="1"] ~ .sheet-veil-dancer-borrowed-horizon,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_borrowed_step"][value="1"] ~ .sheet-veil-dancer-borrowed-step,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_break_the_rhythm"][value="1"] ~ .sheet-veil-dancer-break-the-rhythm,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_claim_the_space"][value="1"] ~ .sheet-veil-dancer-claim-the-space,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_gravity_hold"][value="1"] ~ .sheet-veil-dancer-gravity-hold,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_grounded_form"][value="1"] ~ .sheet-veil-dancer-grounded-form,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_impossible_footing"][value="1"] ~ .sheet-veil-dancer-impossible-footing,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_latch_the_moment"][value="1"] ~ .sheet-veil-dancer-latch-the-moment,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_shear_and_slip"][value="1"] ~ .sheet-veil-dancer-shear-and-slip,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_slip_inside_the_strike"][value="1"] ~ .sheet-veil-dancer-slip-inside-the-strike,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_stonefall_stance"][value="1"] ~ .sheet-veil-dancer-stonefall-stance,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_the_world_says_no"][value="1"] ~ .sheet-veil-dancer-the-world-says-no,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_turn_the_rush"][value="1"] ~ .sheet-veil-dancer-turn-the-rush,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_unbound_dance"][value="1"] ~ .sheet-veil-dancer-unbound-dance,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_veil_economy"][value="1"] ~ .sheet-veil-dancer-veil-economy,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_veilbreaker_palm"][value="1"] ~ .sheet-veil-dancer-veilbreaker-palm,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_veilstep"][value="1"] ~ .sheet-veil-dancer-veilstep {
	display: flex;
}

/* Career Talent Tracker - Combat Engineer - Scene */
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_breachfinders_eye"][value="1"] ~ .sheet-combat_engineer-breachfinders-eye,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_collapse_engineer"][value="1"] ~ .sheet-combat_engineer-collapse-engineer,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_deadzone_entry"][value="1"] ~ .sheet-combat_engineer-deadzone-entry,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_failsafe_architect"][value="1"] ~ .sheet-combat_engineer-failsafe-architect,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_improvised_expertise"][value="1"] ~ .sheet-combat_engineer-improvised-expertise,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_power_splice"][value="1"] ~ .sheet-combat_engineer-power-splice,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_quick_bypass"][value="1"] ~ .sheet-combat_engineer-quick-bypass,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_reactive_primer"][value="1"] ~ .sheet-combat_engineer-reactive-primer,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_reactive_scaffold"][value="1"] ~ .sheet-combat_engineer-reactive-scaffold,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_reactive_tune_up"][value="1"] ~ .sheet-combat_engineer-reactive-tune-up,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_structural_familiarity"][value="1"] ~ .sheet-combat_engineer-structural-familiarity,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_tactical_recompiler"][value="1"] ~ .sheet-combat_engineer-tactical-recompiler {
	display: flex;
}

/* Career Talent Tracker - Combat Medic - Scene */
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_field_stabilizer"][value="1"] ~ .sheet-combat_medic-field-stabilizer,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_injector_harness"][value="1"] ~ .sheet-combat_medic-injector-harness,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_medical_override"][value="1"] ~ .sheet-combat_medic-medical-override,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_pain_doesnt_matter"][value="1"] ~ .sheet-combat_medic-pain-doesnt-matter,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_quickdraw_injector"][value="1"] ~ .sheet-combat_medic-quickdraw-injector,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_stay_with_me"][value="1"] ~ .sheet-combat_medic-stay-with-me,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_triage_commander"][value="1"] ~ .sheet-combat_medic-triage-commander,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_tactical_redeployment"][value="1"] ~ .sheet-combat_medic-tactical-redeployment,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_trauma_team_reflexes"][value="1"] ~ .sheet-combat_medic-trauma-team-reflexes,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_vital_scan_overlay"][value="1"] ~ .sheet-combat_medic-vital-scan-overlay {
	display: flex;
}

/* Career Talent Tracker - Faceman - Scene */
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_adopt_the_angle"][value="1"] ~ .sheet-faceman-adopt-the-angle,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_all_eyes_no_cover"][value="1"] ~ .sheet-faceman-all-eyes-no-cover,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_break_their_rhythm"][value="1"] ~ .sheet-faceman-break-their-rhythm,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_burn_the_opening"][value="1"] ~ .sheet-faceman-burn-the-opening,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_control_the_narrative"][value="1"] ~ .sheet-faceman-control-the-narrative,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_cover_the_team"][value="1"] ~ .sheet-faceman-cover-the-team,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_draw_the_eye"][value="1"] ~ .sheet-faceman-draw-the-eye,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_everyone_watches_you_bleed"][value="1"] ~ .sheet-faceman-everyone-watches-you-bleed,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_false_opening"][value="1"] ~ .sheet-faceman-false-opening,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_familiar_signals"][value="1"] ~ .sheet-faceman-familiar-signals,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_follow_my_lead"][value="1"] ~ .sheet-faceman-follow-my-lead,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_force_the_tell"][value="1"] ~ .sheet-faceman-force-the-tell,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_keep_it_messy"][value="1"] ~ .sheet-faceman-keep-it-messy,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_lock_the_mistake"][value="1"] ~ .sheet-faceman-lock-the-mistake,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_plausible_presence"][value="1"] ~ .sheet-faceman-plausible-presence,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_set_the_tone"][value="1"] ~ .sheet-faceman-set-the-tone,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_slip_the_moment"][value="1"] ~ .sheet-faceman-slip-the-moment,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_speak_their_language"][value="1"] ~ .sheet-faceman-speak-their-language,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_split_attention"][value="1"] ~ .sheet-faceman-split-attention {
	display: flex;
}

/* Career Talent Tracker - Icon - Scene */
.ui-dialog .tab-content .charsheet input[name="attr_show_icon_all_eyes_on_me"][value="1"] ~ .sheet-icon-all-eyes-on-me,
.ui-dialog .tab-content .charsheet input[name="attr_show_icon_burn_it_brighter"][value="1"] ~ .sheet-icon-burn-it-brighter,
.ui-dialog .tab-content .charsheet input[name="attr_show_icon_burning_signature"][value="1"] ~ .sheet-icon-burning-signature,
.ui-dialog .tab-content .charsheet input[name="attr_show_icon_command_the_stage"][value="1"] ~ .sheet-icon-command-the-stage,
.ui-dialog .tab-content .charsheet input[name="attr_show_icon_crowd_momentum"][value="1"] ~ .sheet-icon-crowd-momentum,
.ui-dialog .tab-content .charsheet input[name="attr_show_icon_hold_the_line"][value="1"] ~ .sheet-icon-hold-the-line {
    display: flex;
}

/* Career Talent Tracker - Investigator - Scene */
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_anchor_the_moment"][value="1"] ~ .sheet-investigator-anchor-the-moment,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_anticipated_response"][value="1"] ~ .sheet-investigator-anticipated-response,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_casefile_momentum"][value="1"] ~ .sheet-investigator-casefile-momentum,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_clean_execution"][value="1"] ~ .sheet-investigator-clean-execution,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_deliberate_follow_up"][value="1"] ~ .sheet-investigator-deliberate-follow-up,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_exploit_tension"][value="1"] ~ .sheet-investigator-exploit-tension,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_focused_subject"][value="1"] ~ .sheet-investigator-focused-subject,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_initial_read"][value="1"] ~ .sheet-investigator-initial-read,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_preemptive_positioning"][value="1"] ~ .sheet-investigator-preemptive-positioning,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_pressure_point"][value="1"] ~ .sheet-investigator-pressure-point,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_read_the_room"][value="1"] ~ .sheet-investigator-read-the-room,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_ready_before_it_breaks"][value="1"] ~ .sheet-investigator-ready-before-it-breaks,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_situational_awareness"][value="1"] ~ .sheet-investigator-situational-awareness,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_veil_discontinuity_sense"][value="1"] ~ .sheet-investigator-veil-discontinuity-sense {
    display: flex;
}

/* Career Talent Tracker - Marksman - Scene (alphabetized) */
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_advanced_spotter_doctrine"][value="1"] ~ .sheet-marksman-advanced-spotter-doctrine,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_aim_lock"][value="1"] ~ .sheet-marksman-aim-lock,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_cold_bore"][value="1"] ~ .sheet-marksman-cold-bore,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_counter_sniper_drill"][value="1"] ~ .sheet-marksman-counter-sniper-drill,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_glint_trap"][value="1"] ~ .sheet-marksman-glint-trap,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_kill_chain"][value="1"] ~ .sheet-marksman-kill-chain,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_lockdown_shot"][value="1"] ~ .sheet-marksman-lockdown-shot,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_one_shot_doctrine"][value="1"] ~ .sheet-marksman-one-shot-doctrine,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_quiet_reload"][value="1"] ~ .sheet-marksman-quiet-reload,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_range_gate"][value="1"] ~ .sheet-marksman-range-gate,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_ricochet_geometry"][value="1"] ~ .sheet-marksman-ricochet-geometry,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_sidearm_bailout"][value="1"] ~ .sheet-marksman-sidearm-bailout,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_steady_breath"][value="1"] ~ .sheet-marksman-steady-breath,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_through_and_through"][value="1"] ~ .sheet-marksman-through-and-through,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_windcall"][value="1"] ~ .sheet-marksman-windcall {
	display: flex;
}

/* Career Talent Tracker - Operator - Scene (alphabetized) */
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_close_quarters_ready"][value="1"] ~ .sheet-operator-close-quarters-ready,
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_combat_stride"][value="1"] ~ .sheet-operator-combat-stride,
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_controlled_pair"][value="1"] ~ .sheet-operator-controlled-pair,
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_fire_and_fade"][value="1"] ~ .sheet-operator-fire-and-fade,
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_quick_reload"][value="1"] ~ .sheet-operator-quick-reload,
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_quickdraw"][value="1"] ~ .sheet-operator-quickdraw,
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_rapid_clearance"][value="1"] ~ .sheet-operator-rapid-clearance {
	display: flex;
}

/* Career Talent Tracker - Pilot - Scene (alphabetized) */
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_combat_rigging"][value="1"] ~ .sheet-pilot-combat-rigging,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_jet_wash_drift"][value="1"] ~ .sheet-pilot-jet-wash-drift,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_priority_channel"][value="1"] ~ .sheet-pilot-priority-channel,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_remote_override"][value="1"] ~ .sheet-pilot-remote-override,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_suppressive_vectoring"][value="1"] ~ .sheet-pilot-suppressive-vectoring,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_tactical_uplink"][value="1"] ~ .sheet-pilot-tactical-uplink,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_throttle_reflex"][value="1"] ~ .sheet-pilot-throttle-reflex {
	display: flex;
}

/* Career Talent Tracker - Shadowblade - Scene (alphabetized) */
.ui-dialog .tab-content .charsheet input[name="attr_show_shadowblade_blurred_step"][value="1"] ~ .sheet-shadowblade-blurred-step,
.ui-dialog .tab-content .charsheet input[name="attr_show_shadowblade_cut_and_vanish"][value="1"] ~ .sheet-shadowblade-cut-and-vanish,
.ui-dialog .tab-content .charsheet input[name="attr_show_shadowblade_draw_and_cut"][value="1"] ~ .sheet-shadowblade-draw-and-cut,
.ui-dialog .tab-content .charsheet input[name="attr_show_shadowblade_ghost_opener"][value="1"] ~ .sheet-shadowblade-ghost-opener,
.ui-dialog .tab-content .charsheet input[name="attr_show_shadowblade_phantom_reversal"][value="1"] ~ .sheet-shadowblade-phantom-reversal,
.ui-dialog .tab-content .charsheet input[name="attr_show_shadowblade_precision_hemorrhage"][value="1"] ~ .sheet-shadowblade-precision-hemorrhage,
.ui-dialog .tab-content .charsheet input[name="attr_show_shadowblade_pressure_point"][value="1"] ~ .sheet-shadowblade-pressure-point,
.ui-dialog .tab-content .charsheet input[name="attr_show_shadowblade_quiet_terror"][value="1"] ~ .sheet-shadowblade-quiet-terror,
.ui-dialog .tab-content .charsheet input[name="attr_show_shadowblade_spinal_cut"][value="1"] ~ .sheet-shadowblade-spinal-cut,
.ui-dialog .tab-content .charsheet input[name="attr_show_shadowblade_throw_move_strike"][value="1"] ~ .sheet-shadowblade-throw-move-strike,
.ui-dialog .tab-content .charsheet input[name="attr_show_shadowblade_vanish_step"][value="1"] ~ .sheet-shadowblade-vanish-step {
	display: flex;
}

/* Career Talent Tracker - Slicer - Scene (alphabetized) */
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_aggressive_handshake"][value="1"] ~ .sheet-slicer-aggressive-handshake,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_code_pressure"][value="1"] ~ .sheet-slicer-code-pressure,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_false_readout"][value="1"] ~ .sheet-slicer-false-readout,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_fastjack_ready"][value="1"] ~ .sheet-slicer-fastjack-ready {
    display: flex;
}

/* Career Talent Tracker - Street Ronin - Scene */
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_combat_rhythm"][value="1"] ~ .sheet-street-ronin-combat-rhythm,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_disciplined_focus"][value="1"] ~ .sheet-street-ronin-disciplined-focus,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_urban_footwork"][value="1"] ~ .sheet-street-ronin-urban-footwork,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_interception_cut"][value="1"] ~ .sheet-street-ronin-interception-cut,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_posture_breaker"][value="1"] ~ .sheet-street-ronin-posture-breaker,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_counterguard_precision"][value="1"] ~ .sheet-street-ronin-counterguard-precision,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_stillness_in_motion"][value="1"] ~ .sheet-street-ronin-stillness-in-motion,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_ghost_step"][value="1"] ~ .sheet-street-ronin-ghost-step {
    display: flex;
}

/* Career Talent Tracker - Arcane Gunslinger - Scene */
.ui-dialog .tab-content .charsheet input[name="attr_show_arcane_gunslinger_bound_reload"][value="1"] ~ .sheet-arcane_gunslinger-bound-reload,
.ui-dialog .tab-content .charsheet input[name="attr_show_arcane_gunslinger_break_contact"][value="1"] ~ .sheet-arcane_gunslinger-break-contact,
.ui-dialog .tab-content .charsheet input[name="attr_show_arcane_gunslinger_chain_shot"][value="1"] ~ .sheet-arcane_gunslinger-chain-shot,
.ui-dialog .tab-content .charsheet input[name="attr_show_arcane_gunslinger_rangefold_step"][value="1"] ~ .sheet-arcane_gunslinger-rangefold-step,
.ui-dialog .tab-content .charsheet input[name="attr_show_arcane_gunslinger_short_fold"][value="1"] ~ .sheet-arcane_gunslinger-short-fold,
.ui-dialog .tab-content .charsheet input[name="attr_show_arcane_gunslinger_flicker_ward"][value="1"] ~ .sheet-arcane_gunslinger-flicker-ward {
	display: flex;
}

/* Career Talent Tracker - Bioforged - Scene */
.ui-dialog .tab-content .charsheet input[name="attr_show_bioforged_adaptive_stance"][value="1"] ~ .sheet-bioforged-adaptive_stance,
.ui-dialog .tab-content .charsheet input[name="attr_show_bioforged_bone_weaponization"][value="1"] ~ .sheet-bioforged-bone_weaponization,
.ui-dialog .tab-content .charsheet input[name="attr_show_bioforged_density_reinforcement"][value="1"] ~ .sheet-bioforged-density_reinforcement,
.ui-dialog .tab-content .charsheet input[name="attr_show_bioforged_density_stance"][value="1"] ~ .sheet-bioforged-density_stance,
.ui-dialog .tab-content .charsheet input[name="attr_show_bioforged_explosive_entry"][value="1"] ~ .sheet-bioforged-explosive_entry,
.ui-dialog .tab-content .charsheet input[name="attr_show_bioforged_extreme_adaptation"][value="1"] ~ .sheet-bioforged-extreme_adaptation,
.ui-dialog .tab-content .charsheet input[name="attr_show_bioforged_fleshcraft_blades"][value="1"] ~ .sheet-bioforged-fleshcraft_blades,
.ui-dialog .tab-content .charsheet input[name="attr_show_bioforged_inertial_bracing"][value="1"] ~ .sheet-bioforged-inertial_bracing,
.ui-dialog .tab-content .charsheet input[name="attr_show_bioforged_kinetic_stance"][value="1"] ~ .sheet-bioforged-kinetic_stance,
.ui-dialog .tab-content .charsheet input[name="attr_show_bioforged_momentum_pressure"][value="1"] ~ .sheet-bioforged-momentum_pressure,
.ui-dialog .tab-content .charsheet input[name="attr_show_bioforged_reactive_hardening"][value="1"] ~ .sheet-bioforged-reactive_hardening 
.ui-dialog .tab-content .charsheet input[name="attr_show_bioforged_structural_interface"][value="1"] ~ .sheet-bioforged-structural_interface,
.ui-dialog .tab-content .charsheet input[name="attr_show_bioforged_thorn_mantle"][value="1"] ~ .sheet-bioforged-thorn_mantle {
	display: flex;
}

/* Career Talent Tracker - Hexbreaker - Scene */
.ui-dialog .tab-content .charsheet input[name="attr_show_hexbreaker_close_in_guard"][value="1"] ~ .sheet-hexbreaker-close_in_guard,
.ui-dialog .tab-content .charsheet input[name="attr_show_hexbreaker_disruptive_grip"][value="1"] ~ .sheet-hexbreaker-disruptive_grip,
.ui-dialog .tab-content .charsheet input[name="attr_show_hexbreaker_press_the_fault"][value="1"] ~ .sheet-hexbreaker-press_the_fault,
.ui-dialog .tab-content .charsheet input[name="attr_show_hexbreaker_crack_the_timing"][value="1"] ~ .sheet-hexbreaker-crack_the_timing,
.ui-dialog .tab-content .charsheet input[name="attr_show_hexbreaker_stay_the_blade"][value="1"] ~ .sheet-hexbreaker-stay_the_blade,
.ui-dialog .tab-content .charsheet input[name="attr_show_hexbreaker_turn_the_guard"][value="1"] ~ .sheet-hexbreaker-turn_the_guard,
.ui-dialog .tab-content .charsheet input[name="attr_show_hexbreaker_breakers_reversal"][value="1"] ~ .sheet-hexbreaker-breakers_reversal,
.ui-dialog .tab-content .charsheet input[name="attr_show_hexbreaker_faultline_strike"][value="1"] ~ .sheet-hexbreaker-faultline_strike,
.ui-dialog .tab-content .charsheet input[name="attr_show_hexbreaker_marked_by_contact"][value="1"] ~ .sheet-hexbreaker-marked_by_contact  {
	display: flex;
}

/*Career Talent Tracker - Soul Forger - Scene */
.ui-dialog .tab-content .charsheet .sheet-tracker input[name="attr_show_soul_forger_battlefield_reclamation"][value="1"] ~ .sheet-soul_forger-battlefield_reclamation,
.ui-dialog .tab-content .charsheet .sheet-tracker input[name="attr_show_soul_forger_counteremp_veil"][value="1"] ~ .sheet-soul_forger-counteremp_veil,
.ui-dialog .tab-content .charsheet .sheet-tracker input[name="attr_show_soul_forger_hand_of_the_forge"][value="1"] ~ .sheet-soul_forger-hand_of_the_forge,
.ui-dialog .tab-content .charsheet .sheet-tracker input[name="attr_show_soul_forger_helmgeist_protocol"][value="1"] ~ .sheet-soul_forger-helmgeist_protocol,
.ui-dialog .tab-content .charsheet .sheet-tracker input[name="attr_show_soul_forger_infused_shielding"][value="1"] ~ .sheet-soul_forger-infused_shielding,
.ui-dialog .tab-content .charsheet .sheet-tracker input[name="attr_show_soul_forger_overclock_lattice"][value="1"] ~ .sheet-soul_forger-overclock_lattice,
.ui-dialog .tab-content .charsheet .sheet-tracker input[name="attr_show_soul_forger_soulstitch"][value="1"] ~ .sheet-soul_forger-soulstitch,
.ui-dialog .tab-content .charsheet .sheet-tracker input[name="attr_show_soul_forger_spirit_lattice_field"][value="1"] ~ .sheet-soul_forger-spirit_lattice_field,
.ui-dialog .tab-content .charsheet .sheet-tracker input[name="attr_show_soul_forger_spirit_static"][value="1"] ~ .sheet-soul_forger-spirit_static,
.ui-dialog .tab-content .charsheet .sheet-tracker input[name="attr_show_soul_forger_spitework_rewrite"][value="1"] ~ .sheet-soul_forger-spitework_rewrite {
	display: flex;
}

/* Career Talent Tracker - Codeweaver - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_crash_field"][value="1"] ~ .sheet-codeweaver-crash-field,
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_live_patch_redirect"][value="1"] ~ .sheet-codeweaver-live-patch-redirect,
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_cascade_override"][value="1"] ~ .sheet-codeweaver-cascade-override,
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_veil_reactor_stabilizer"][value="1"] ~ .sheet-codeweaver-veil-reactor-stabilizer,
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_overcode_detonation"][value="1"] ~ .sheet-codeweaver-overcode-detonation,
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_signal_possession"][value="1"] ~ .sheet-codeweaver-signal-possession,
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_reality_patch"][value="1"] ~ .sheet-codeweaver-reality-patch,
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_protocol_ascendance"][value="1"] ~ .sheet-codeweaver-protocol-ascendance,
.ui-dialog .tab-content .charsheet input[name="attr_show_codeweaver_system_sovereignty_protocol"][value="1"] ~ .sheet-codeweaver-system-sovereignty-protocol {
	display: flex;
}

/* Career Talent Tracker - Mindbender - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_fractured_reality"][value="1"] ~ .sheet-mindbender-fractured-reality,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_inevitable_choice"][value="1"] ~ .sheet-mindbender-inevitable-choice,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_overwhelming_urge"][value="1"] ~ .sheet-mindbender-overwhelming-urge,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_planted_certainty"][value="1"] ~ .sheet-mindbender-planted-certainty,
.ui-dialog .tab-content .charsheet input[name="attr_show_mindbender_unassailable_mind"][value="1"] ~ .sheet-mindbender-unassailable-mind {
	display: flex;
}

/* Career Talent Tracker - Sigilbound - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_counterglyph"][value="1"] ~ .sheet-sigilbound-counterglyph,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_arcane_reversal"][value="1"] ~ .sheet-sigilbound-arcane-reversal,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_glyphstep"][value="1"] ~ .sheet-sigilbound-glyphstep,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_mirror_sigil"][value="1"] ~ .sheet-sigilbound-mirror-sigil,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_veil_seal"][value="1"] ~ .sheet-sigilbound-veil-seal,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_runesovereign"][value="1"] ~ .sheet-sigilbound-runesovereign,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_wardmasters_command"][value="1"] ~ .sheet-sigilbound-wardmasters-command,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_sigilburst_protocol"][value="1"] ~ .sheet-sigilbound-sigilburst-protocol,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_aegis_absolute"][value="1"] ~ .sheet-sigilbound-aegis-absolute,
.ui-dialog .tab-content .charsheet input[name="attr_show_sigilbound_line_unbroken"][value="1"] ~ .sheet-sigilbound-line-unbroken {
	display: flex;
}

/* Career Talent Tracker - Spirit Warden - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_avatars_mandate"][value="1"] ~ .sheet-spirit-warden-avatars-mandate,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_domain_resonance_circle"][value="1"] ~ .sheet-spirit-warden-domain-resonance-circle,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_eidolon_apotheosis"][value="1"] ~ .sheet-spirit-warden-eidolon-apotheosis,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_grand_exorcism_rite"][value="1"] ~ .sheet-spirit-warden-grand-exorcism-rite,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_lesser_companion_bond"][value="1"] ~ .sheet-spirit-warden-lesser-companion-bond,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_line_held_against_the_veil"][value="1"] ~ .sheet-spirit-warden-line-held-against-the-veil,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_sanctify_the_ground"][value="1"] ~ .sheet-spirit-warden-sanctify-the-ground,
.ui-dialog .tab-content .charsheet input[name="attr_show_spirit_warden_wardbreaker_gesture"][value="1"] ~ .sheet-spirit-warden-wardbreaker-gesture {
	display: flex;
}

/* Career Talent Tracker - Stormweaver - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_eye_of_the_storm"][value="1"] ~ .sheet-stormweaver-eye-of-the-storm,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_flashfire_assault"][value="1"] ~ .sheet-stormweaver-flashfire-assault,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_shockstep_conduit"][value="1"] ~ .sheet-stormweaver-shockstep-conduit,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_singularity_discharge"][value="1"] ~ .sheet-stormweaver-singularity-discharge,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_stormbreak"][value="1"] ~ .sheet-stormweaver-stormbreak,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_surge_engine"][value="1"] ~ .sheet-stormweaver-surge-engine,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_tinder_spark"][value="1"] ~ .sheet-stormweaver-tinder-spark,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_total_elemental_collapse"][value="1"] ~ .sheet-stormweaver-total-elemental-collapse,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_veilcore_meltdown"][value="1"] ~ .sheet-stormweaver-veilcore-meltdown,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_volcanic_path"][value="1"] ~ .sheet-stormweaver-volcanic-path,
.ui-dialog .tab-content .charsheet input[name="attr_show_stormweaver_voltaic_reflex"][value="1"] ~ .sheet-stormweaver-voltaic-reflex {
	display: flex;
}

/* Career Talent Tracker — Veil Dancer — Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_falling_star_impact"][value="1"] ~ .sheet-veil-dancer-falling-star-impact,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_heaven_shattering_sequence"][value="1"] ~ .sheet-veil-dancer-heaven-shattering-sequence,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_stillness_between_heartbeats"][value="1"] ~ .sheet-veil-dancer-stillness-between-heartbeats,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_the_veil_will_not_let_you_fall"][value="1"] ~ .sheet-veil-dancer-the-veil-will-not-let-you-fall,
.ui-dialog .tab-content .charsheet input[name="attr_show_veil_dancer_zero_point_mastery"][value="1"] ~ .sheet-veil-dancer-zero-point-mastery {
    display: flex;
}

/* Career Talent Tracker - Combat Engineer - Session (alphabetized) */
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_auto_repair_subroutines"][value="1"] ~ .sheet-combat_engineer-auto-repair-subroutines,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_catastrophe_buffer"][value="1"] ~ .sheet-combat_engineer-catastrophe-buffer,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_failsafe_codex"][value="1"] ~ .sheet-combat_engineer-failsafe-codex,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_field_constructor"][value="1"] ~ .sheet-combat_engineer-field-constructor,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_field_fix"][value="1"] ~ .sheet-combat_engineer-field-fix,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_hijack_protocol"][value="1"] ~ .sheet-combat_engineer-hijack-protocol,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_master_of_collapse"][value="1"] ~ .sheet-combat_engineer-master-of-collapse,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_precision_override"][value="1"] ~ .sheet-combat_engineer-precision-override,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_rapid_jury_rig"][value="1"] ~ .sheet-combat_engineer-rapid-jury-rig,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_rigged_countermeasure"][value="1"] ~ .sheet-combat_engineer-rigged-countermeasure,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_saboteurs_signature"][value="1"] ~ .sheet-combat_engineer-saboteurs-signature,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_structural_collapse"][value="1"] ~ .sheet-combat_engineer-structural-collapse,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_engineer_system_subjugation"][value="1"] ~ .sheet-combat_engineer-system-subjugation {
	display: flex;
}

/* Career Talent Tracker - Combat Medic - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_pressure_seal"][value="1"] ~ .sheet-combat_medic-pressure-seal,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_surgical_clarity"][value="1"] ~ .sheet-combat_medic-surgical-clarity,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_combat_revive"][value="1"] ~ .sheet-combat_medic-combat-revive,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_veil_immunologist"][value="1"] ~ .sheet-combat_medic-veil-immunologist,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_emergency_triage_net"][value="1"] ~ .sheet-combat_medic-emergency-triage-net,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_ghost_of_the_er"][value="1"] ~ .sheet-combat_medic-ghost-of-the-er,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_field_expeditor"][value="1"] ~ .sheet-combat_medic-field-expeditor,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_no_one_dies_today"][value="1"] ~ .sheet-combat_medic-no-one-dies-today,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_miracle_protocol"][value="1"] ~ .sheet-combat_medic-miracle-protocol,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_adrenal_shield_matrix"][value="1"] ~ .sheet-combat_medic-adrenal-shield-matrix,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_golden_hour_doctrine"][value="1"] ~ .sheet-combat_medic-golden-hour-doctrine,
.ui-dialog .tab-content .charsheet input[name="attr_show_combat_medic_last_measure_injection"][value="1"] ~ .sheet-combat_medic-last-measure-injection {
	display: flex;
}

/* Career Talent Tracker - Faceman - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_dead_man_walking"][value="1"] ~ .sheet-faceman-dead-man-walking,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_no_second_chances"][value="1"] ~ .sheet-faceman-no-second-chances,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_the_exit_was_always_there"][value="1"] ~ .sheet-faceman-the-exit-was-always-there,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_the_long_con"][value="1"] ~ .sheet-faceman-the-long-con,
.ui-dialog .tab-content .charsheet input[name="attr_show_faceman_the_perfect_setup"][value="1"] ~ .sheet-faceman-the-perfect-setup {
  display: flex;
}

/* Career Talent Tracker - Icon - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_icon_crowdcarver"][value="1"] ~ .sheet-icon-crowdcarver,
.ui-dialog .tab-content .charsheet input[name="attr_show_icon_echo_beyond_the_feed"][value="1"] ~ .sheet-icon-echo-beyond-the-feed,
.ui-dialog .tab-content .charsheet input[name="attr_show_icon_emotional_contagion"][value="1"] ~ .sheet-icon-emotional-contagion,
.ui-dialog .tab-content .charsheet input[name="attr_show_icon_encore_effect"][value="1"] ~ .sheet-icon-encore-effect,
.ui-dialog .tab-content .charsheet input[name="attr_show_icon_encore_of_will"][value="1"] ~ .sheet-icon-encore-of-will,
.ui-dialog .tab-content .charsheet input[name="attr_show_icon_iconic_rally"][value="1"] ~ .sheet-icon-iconic-rally,
.ui-dialog .tab-content .charsheet input[name="attr_show_icon_living_legend"][value="1"] ~ .sheet-icon-living-legend,
.ui-dialog .tab-content .charsheet input[name="attr_show_icon_pulse_of_the_crowd"][value="1"] ~ .sheet-icon-pulse-of-the-crowd,
.ui-dialog .tab-content .charsheet input[name="attr_show_icon_shared_spotlight"][value="1"] ~ .sheet-icon-shared-spotlight,
.ui-dialog .tab-content .charsheet input[name="attr_show_icon_signature_crescendo"][value="1"] ~ .sheet-icon-signature-crescendo,
.ui-dialog .tab-content .charsheet input[name="attr_show_icon_this_moment_will_be_remembered"][value="1"] ~ .sheet-icon-th-is-moment-will-be-remembered 
.ui-dialog .tab-content .charsheet input[name="attr_show_icon_voice_of_the_moment"][value="1"] ~ .sheet-icon-voice-of-the-moment {
    display: flex;
}


/* Career Talent Tracker - Investigator - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_absolute_reconstruction"][value="1"] ~ .sheet-investigator-absolute-reconstruction,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_broad_spectrum_assessment"][value="1"] ~ .sheet-investigator-broad-spectrum-assessment,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_cold_case_instinct"][value="1"] ~ .sheet-investigator-cold-case-instinct,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_crack_the_mask"][value="1"] ~ .sheet-investigator-crack-the-mask,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_decisive_leverage"][value="1"] ~ .sheet-investigator-decisive-leverage,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_operational_override"][value="1"] ~ .sheet-investigator-operational-override,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_poised_under_fire"][value="1"] ~ .sheet-investigator-poised-under-fire,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_reconstructive_pass"][value="1"] ~ .sheet-investigator-reconstructive-pass,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_resonance_trace"][value="1"] ~ .sheet-investigator-resonance-trace,
.ui-dialog .tab-content .charsheet input[name="attr_show_investigator_temporal_intuition"][value="1"] ~ .sheet-investigator-temporal-intuition {
    display: flex;
}

/* Career Talent Tracker - Marksman - Session (alphabetized) */
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_counter_sniper_protocol"][value="1"] ~ .sheet-marksman-counter-sniper-protocol,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_dead_line"][value="1"] ~ .sheet-marksman-dead-line,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_ghost_window"][value="1"] ~ .sheet-marksman-ghost-win_dow,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_impossible_shot"][value="1"] ~ .sheet-marksman-impossible-shot,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_kill_confirmed"][value="1"] ~ .sheet-marksman-kill-confirmed,
.ui-dialog .tab-content .charsheet input[name="attr_show_marksman_overwatch_architect"][value="1"] ~ .sheet-marksman-overwatch-architect {
	display: flex;
}

/* Career Talent Tracker - Operator - Session (alphabetized) */
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_grim_resolve"][value="1"] ~ .sheet-operator-grim-resolve,
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_hard_coded_reflexes"][value="1"] ~ .sheet-operator-hard-coded-reflexes,
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_hard_exit_protocol"][value="1"] ~ .sheet-operator-hard-exit-protocol,
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_kinetic_retaliation"][value="1"] ~ .sheet-operator-kinetic-retaliation,
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_last_man_doctrine"][value="1"] ~ .sheet-operator-last-man-doctrine,
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_precision_reacquired"][value="1"] ~ .sheet-operator-precision-reacquired,
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_saturation_fire"][value="1"] ~ .sheet-operator-saturation-fire,
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_shatterpoint_protocol"][value="1"] ~ .sheet-operator-shatterpoint-protocol,
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_suppression_discipline"][value="1"] ~ .sheet-operator-suppression-discipline,
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_sweep_and_reposition"][value="1"] ~ .sheet-operator-sweep-and-reposition,
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_tactical_apex"][value="1"] ~ .sheet-operator-tactical-apex,
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_tactical_lock_in"][value="1"] ~ .sheet-operator-tactical-lock-in,
.ui-dialog .tab-content .charsheet input[name="attr_show_operator_zeroed_vector_killbox"][value="1"] ~ .sheet-operator-zeroed-vector-killbox {
	display: flex;
}

/* Career Talent Tracker - Pilot - Session (alphabetized) */
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_aerial_pivot_shot"][value="1"] ~ .sheet-pilot-aerial-pivot-shot,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_airspace_denial_vector"][value="1"] ~ .sheet-pilot-airspace-denial-vector,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_black_sky_suppression"][value="1"] ~ .sheet-pilot-black-sky-suppression,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_burn_vector_gambit"][value="1"] ~ .sheet-pilot-burn-vector-gambit,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_combat_integration_mesh"][value="1"] ~ .sheet-pilot-combat-integration-mesh,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_deadzone_reflex"][value="1"] ~ .sheet-pilot-deadzone-reflex,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_drop_vector_override"][value="1"] ~ .sheet-pilot-drop-vector-override,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_drone_lock_protocol"][value="1"] ~ .sheet-pilot-drone-lock-protocol,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_overclock_sync_node"][value="1"] ~ .sheet-pilot-overclock-sync-node,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_overdrive_calibration"][value="1"] ~ .sheet-pilot-overdrive-calibration,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_rigsight_linkage"][value="1"] ~ .sheet-pilot-rigsight-linkage,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_swarm_logic_override"][value="1"] ~ .sheet-pilot-swarm-logic-override,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_tactical_exfiltration_protocol"][value="1"] ~ .sheet-pilot-tactical-exfiltration-protocol,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_tethered_assault_ai"][value="1"] ~ .sheet-pilot-tethered-assault-ai,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_thruster_kickout"][value="1"] ~ .sheet-pilot-thruster-kickout,
.ui-dialog .tab-content .charsheet input[name="attr_show_pilot_trace_disruptor_grid"][value="1"] ~ .sheet-pilot-trace-disruptor-grid {
	display: flex;
}

/* Career Talent Tracker - Shadowblade - Session (alphabetized) */
.ui-dialog .tab-content .charsheet input[name="attr_show_shadowblade_fade_from_the_record"][value="1"] ~ .sheet-shadowblade-fade-from-the-record,
.ui-dialog .tab-content .charsheet input[name="attr_show_shadowblade_final_knife"][value="1"] ~ .sheet-shadowblade-final-knife,
.ui-dialog .tab-content .charsheet input[name="attr_show_shadowblade_phantom_execution"][value="1"] ~ .sheet-shadowblade-phantom-execution,
.ui-dialog .tab-content .charsheet input[name="attr_show_shadowblade_shatterpoint_strike"][value="1"] ~ .sheet-shadowblade-shatterpoint-strike,
.ui-dialog .tab-content .charsheet input[name="attr_show_shadowblade_silent_collapse"][value="1"] ~ .sheet-shadowblade-silent-collapse,
.ui-dialog .tab-content .charsheet input[name="attr_show_shadowblade_unerring_step"][value="1"] ~ .sheet-shadowblade-unerring-step {
	display: flex;
}

/* Career Talent Tracker - Slicer - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_black_trace_nullifier"][value="1"] ~ .sheet-slicer-black-trace-nullifier,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_command_fork"][value="1"] ~ .sheet-slicer-command-fork,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_dead_mans_switch"][value="1"] ~ .sheet-slicer-dead-mans-switch,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_deck_hardening_suite"][value="1"] ~ .sheet-slicer-deck-hardening-suite,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_digital_ghost_state"][value="1"] ~ .sheet-slicer-digital-ghost-state,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_emergency_partition"][value="1"] ~ .sheet-slicer-emergency-partition,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_expanded_node_logic"][value="1"] ~ .sheet-slicer-expanded-node-logic,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_failsafe_override_core"][value="1"] ~ .sheet-slicer-failsafe-override-core,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_icebreaker_thread"][value="1"] ~ .sheet-slicer-icebreaker-thread,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_iceburn_protocol"][value="1"] ~ .sheet-slicer-iceburn-protocol,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_kill_switch_routine"][value="1"] ~ .sheet-slicer-kill-switch-routine,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_null_pulse_routine"][value="1"] ~ .sheet-slicer-null-pulse-routine,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_omnideck_recompiler"][value="1"] ~ .sheet-slicer-omnideck-recompiler,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_pulse_cloak_shell"][value="1"] ~ .sheet-slicer-pulse-cloak-shell,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_rapid_inject"][value="1"] ~ .sheet-slicer-rapid-inject,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_root_authority_rewrite"][value="1"] ~ .sheet-slicer-root-authority-rewrite,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_signal_ghost"][value="1"] ~ .sheet-slicer-signal-ghost,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_silent_loop"][value="1"] ~ .sheet-slicer-silent-loop,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_total_signal_collapse"][value="1"] ~ .sheet-slicer-total-signal-collapse,
.ui-dialog .tab-content .charsheet input[name="attr_show_slicer_trace_evasion_protocol"][value="1"] ~ .sheet-slicer-trace-evasion-protocol {
	display: flex;
}

/* Career Talent Tracker - Street Ronin - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_breath_before_the_cut"][value="1"] ~ .sheet-street-ronin-breath-before-the-cut,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_draw_cut"][value="1"] ~ .sheet-street-ronin-draw-cut,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_duelmasters_claim"][value="1"] ~ .sheet-street-ronin-duelmasters-claim,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_final_cut_doctrine"][value="1"] ~ .sheet-street-ronin-final-cut-doctrine,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_flow_reversal"][value="1"] ~ .sheet-street-ronin-flow-reversal,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_ghost_walk"][value="1"] ~ .sheet-street-ronin-ghost-walk,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_hold_the_line"][value="1"] ~ .sheet-street-ronin-hold-the-line,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_last_breath"][value="1"] ~ .sheet-street-ronin-last-breath,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_measured_finality"][value="1"] ~ .sheet-street-ronin-measured-finality,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_moment_severed"][value="1"] ~ .sheet-street-ronin-moment-severed,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_no_second_strike"][value="1"] ~ .sheet-street-ronin-no-second-strike,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_steel_calm"][value="1"] ~ .sheet-street-ronin-steel-calm,
.ui-dialog .tab-content .charsheet input[name="attr_show_street_ronin_steel_reflex"][value="1"] ~ .sheet-street-ronin-steel-reflex {
    display: flex;
}

/* Career Talent Tracker - Arcane Gunslinger - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_arcane_gunslinger_anchor_shot"][value="1"]        ~ .sheet-arcane_gunslinger-anchor-shot,
.ui-dialog .tab-content .charsheet input[name="attr_show_arcane_gunslinger_blackout_salvo"][value="1"]    ~ .sheet-arcane_gunslinger-blackout-salvo,
.ui-dialog .tab-content .charsheet input[name="attr_show_arcane_gunslinger_deadmark_beacon"][value="1"]   ~ .sheet-arcane_gunslinger-deadmark-beacon,
.ui-dialog .tab-content .charsheet input[name="attr_show_arcane_gunslinger_severing_round"][value="1"]    ~ .sheet-arcane_gunslinger-severing-round,
.ui-dialog .tab-content .charsheet input[name="attr_show_arcane_gunslinger_spell_conduit_round"][value="1"] ~ .sheet-arcane_gunslinger-spell-conduit-round {
	display: flex;
}

/* Career Talent Tracker - Bioforged - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_bioforged_adamant_frame"][value="1"] ~ .sheet-bioforged-adamant_frame,
.ui-dialog .tab-content .charsheet input[name="attr_show_bioforged_adaptive_apex"][value="1"] ~ .sheet-bioforged-adaptive_apex,
.ui-dialog .tab-content .charsheet input[name="attr_show_bioforged_kinetic_singularity"][value="1"] ~ .sheet-bioforged-kinetic_singularity,
.ui-dialog .tab-content .charsheet input[name="attr_show_bioforged_perfected_fleshcraft"][value="1"] ~ .sheet-bioforged-perfected_fleshcraft,
.ui-dialog .tab-content .charsheet input[name="attr_show_bioforged_unyielding_physiology"][value="1"] ~ .sheet-bioforged-unyielding_physiology {
	display: flex;
}

/* Career Talent Tracker - Hexbreaker - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_hexbreaker_break_the_pattern"][value="1"] ~ .sheet-hexbreaker-break_the_pattern,
.ui-dialog .tab-content .charsheet input[name="attr_show_hexbreaker_edge_of_attrition"][value="1"] ~ .sheet-hexbreaker-edge_of_attrition,
.ui-dialog .tab-content .charsheet input[name="attr_show_hexbreaker_final_rend"][value="1"] ~ .sheet-hexbreaker-final_rend,
.ui-dialog .tab-content .charsheet input[name="attr_show_hexbreaker_oath_of_the_breach"][value="1"] ~ .sheet-hexbreaker-oath_of_the_breach,
.ui-dialog .tab-content .charsheet input[name="attr_show_hexbreaker_stand_the_line"][value="1"] ~ .sheet-hexbreaker-stand_the_line {
	display: flex;
}

/* Career Talent Tracker - Soul Forger - Session */
.ui-dialog .tab-content .charsheet input[name="attr_show_soul_forger_bound_warchassis"][value="1"] ~ .sheet-soul_forger-bound_warchassis,
.ui-dialog .tab-content .charsheet input[name="attr_show_soul_forger_cathedral_of_scrap"][value="1"] ~ .sheet-soul_forger-cathedral_of_scrap,
.ui-dialog .tab-content .charsheet input[name="attr_show_soul_forger_circuit_apotheosis"][value="1"] ~ .sheet-soul_forger-circuit_apotheosis,
.ui-dialog .tab-content .charsheet input[name="attr_show_soul_forger_city_weave_circuit"][value="1"] ~ .sheet-soul_forger-city_weave_circuit,
.ui-dialog .tab-content .charsheet input[name="attr_show_soul_forger_nullwave_bloom"][value="1"] ~ .sheet-soul_forger-nullwave_bloom {
	display: flex;
}


/* Tab Button Bar Styling */
.ui-dialog .tab-content .charsheet .sheet-tracker .sheet-tab-buttons,
.ui-dialog .tab-content .charsheet .sheet-careers .sheet-tab-buttons {
  display: flex;
  width: 100%;
  justify-content: space-around;
  margin-bottom: 5px;
}

.ui-dialog .tab-content .charsheet .sheet-tracker button.sheet-tab-buttons {
  background-color: #444;
  color: white;
  font-weight: bold;
  border: 1px solid black;
  padding: 6px 0;
  font-size: 90%;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

/* Hide by default; reveal when show-flag is 1 */
.ui-dialog .tab-content .charsheet .sheet-strain-meter,
.ui-dialog .tab-content .charsheet .sheet-health-meter {
  display: none;
  width: 396px;
  gap: 0.75em; 
}

.ui-dialog .tab-content .charsheet input[name="attr_show_strain_meter"][value="1"] ~ .sheet-strain-meter,
.ui-dialog .tab-content .charsheet input[name="attr_show_health_meter"][value="1"] ~ .sheet-health-meter
 { display: flex; }

/* Pip group + individual pip */
.ui-dialog .tab-content .charsheet .sheet-health-pips,
.ui-dialog .tab-content .charsheet .sheet-strain-pips {
    display: flex;
    gap: 10px;
}
.ui-dialog .tab-content .charsheet .sheet-health-pip,
.ui-dialog .tab-content .charsheet .sheet-strain-pip {
    display: flex;
    flex-direction: column;
    align-items: center;
    line-height: 1;
}

/* Checkbox size matches your small tracker boxes */
.ui-dialog .tab-content .charsheet .sheet-strain-pip .sheet-tracker-checkbox,
.ui-dialog .tab-content .charsheet .sheet-health-pip .sheet-tracker-checkbox {
    width: 16px;
    height: 16px;
    margin: 0;
}

/* Under-label */
.ui-dialog .tab-content .charsheet .sheet-strain-pip-label,
.ui-dialog .tab-content .charsheet .sheet-health-pip-label {
    font-size: 14px;
    margin-top: 4px;
}

.ui-dialog .tab-content .charsheet .sheet-strain-meter .sheet-tracker-label,
.ui-dialog .tab-content .charsheet .sheet-health-meter .sheet-tracker-label {
	font-style: bold;
	font-size: 110%;
	width: 100px;
}

.ui-dialog .tab-content .charsheet .sheet-health-meter .sheet-tracker-label {
	color: red;
}

.ui-dialog .tab-content .charsheet .sheet-strain-meter .sheet-tracker-label {
	color: blue;
	margin-right: 10px;
}

/* ===== Tracker: two-column group rows (label | content) ===== */
.ui-dialog .tab-content .charsheet .sheet-tracker-group-row {
  display: grid;
  grid-template-columns: 120px 1fr; /* label | list */
  align-items: start;
  gap: 0.5em 0.75em;
  margin: 0.25em 0;
}

.ui-dialog .tab-content .charsheet .sheet-tracker-group-title {
  font-weight: bold;
  text-align: right;
  padding-top: 2px;
}

.ui-dialog .tab-content .charsheet .sheet-tracker-group-body {
  display: flex;
  flex-direction: column;
}

/* optional column headers for the two big columns */
.ui-dialog .tab-content .charsheet .sheet-tracker-colhead {
  text-align: center; /* keeps consistent with existing tracker h4 styling */
  margin-bottom: 0.25em;
}

/* Trained Skills Tracker */
.ui-dialog .tab-content .charsheet .sheet-trained-skills-strip {
	margin: 8px 0;
	border: 1px solid black;
	background: #beccd0;
}

.ui-dialog .tab-content .charsheet .sheet-trained-skills-strip .sheet-trained-skills-row {
	display: flex;
	flex-direction: row;
	align-items: stretch;
	border-top: 1px solid black;
}

.ui-dialog .tab-content .charsheet .sheet-trained-skills-strip .sheet-trained-skills-row:first-child {
	border-top: 0;
}

.ui-dialog .tab-content .charsheet .sheet-trained-skills-strip .sheet-trained-skills-label {
	width: 140px;
	padding: 4px 6px;
	border-right: 1px solid black;
	font-weight: bold;
}

.ui-dialog .tab-content .charsheet .sheet-trained-skills-strip .sheet-trained-skills-value {
	flex: 1;
	padding: 4px 6px;
	background: #d0cabe;
	min-height: 18px;
}

.ui-dialog .tab-content .charsheet .sheet-trained-skills-strip span[name="attr_trained_skills_summary"],
.ui-dialog .tab-content .charsheet .sheet-trained-skills-strip span[name="attr_trained_skills_duplicates_summary"] {
	display: block;
	white-space: pre-wrap;
	tab-size: 2;
	line-height: 1.2;
	word-break: break-word;
}

.ui-dialog .tab-content .charsheet .sheet-trained-skills-strip span[name="attr_trained_skills_summary"]:empty::before,
.ui-dialog .tab-content .charsheet .sheet-trained-skills-strip span[name="attr_trained_skills_duplicates_summary"]:empty::before {
	content: "—";
	opacity: 0.6;
}


/* ------------------ NPC Section Scoped Styles ------------------ */
.sheet-companions .sheet-npc-content-left {
  display: flex;
  flex-direction: row; /* switch from column to row */
  gap: 4px; /* spacing between each section */
  flex-wrap: nowrap; /* optional: wrap if screen gets tight */
}

.sheet-companions .sheet-npcblock-flex {
  display: flex;
  height: 100%;
  padding: 2px;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: flex-start;
  gap: 0px;
  margin-bottom: 10px;
  border: 1px solid black;
  border-radius: 6px;
}

/* Left Column (Name, SAN, General Info, etc.) */
.sheet-companions .sheet-npc-left {
  flex: 1 1 55%;
  min-width: 280px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* Right Column (Attributes, Skills, Weapons) */
.sheet-companions .sheet-npc-right {
  flex: 1 1 40%;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.sheet-companions .sheet-npc-skills-section {
  margin-top: 0;     /* Remove extra spacing above */
  padding-top: 0;    /* Optional: also remove padding */
}

.sheet-companions .sheet-npc-mini-flex {
  display: flex;
  flex-direction: row;
  gap: 8px;
  flex-wrap: nowrap;
  align-items: flex-start;
}

.sheet-companions .sheet-npc-mini-flex .sheet-narrow-input {
  width: 24px;
  height: 20px;
  padding: 1px 2px;
  font-size: 85%;
  text-align: center;
  border: 1px solid #aaa;
  background: rgba(255, 255, 255, 0.5);
  color: black;
}


.sheet-companions .sheet-npc-mini-flex .sheet-npc-row {
  flex: 1 1 auto;
  display: flex;
  flex-direction: row; /* <— was column, this is the key fix */
  align-items: center;
  gap: 0px;
  min-width: 0;
  white-space: nowrap;
}

.sheet-companions .sheet-npc-mini-flex .sheet-npc-label {
  flex: 0 0 60px;
  font-weight: bold;
  color: black;
  font-size: 85%;
}

.sheet-companions .sheet-npc-mini-flex .sheet-npc-val {
  flex: 1;
  display: flex;
  gap: 4px;
}


/* Generic Row Layout */
.sheet-companions .sheet-npc-row,
.sheet-companions .sheet-npc-header-row {
  display: flex;
  justify-content: start;
  align-items: center;
  height: 24px;
  gap: 0px;
  margin: 0px;
  padding: 0px;
}

.sheet-companions .sheet-npc-label {
  flex: 0 0 15%;
  width: 60px;
  font-weight: bold;
  font-size: 100%;
  color: black;
  white-space: wrap;
  text-align: right;
  margin-right: 4px;
}

.sheet-companions .sheet-npc-val {
  flex: 1;
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
}

.sheet-companions .sheet-npc-val-textarea {
  flex: 1;
  display: flex;
  flex-wrap: wrap;
  gap: 0px;
  height: 30px;
  margin-top: 10px;
}

.sheet-companions input[name="attr_minionmove"] {
  width: 24px;         /* or whatever fixed width you want */
  height: 20px;
  padding: 1px 0px;
  text-align: center;
  background: rgba(255,255,255,0.5);
  border: 1px solid #aaa;
  box-sizing: border-box;
  color: black;
  flex: 0 0 auto;       /* don't grow/shrink */
}

/* Inputs */
.sheet-companions .sheet-wide-input {
  flex: 1;
  height: 23px;
  width: 80px;
  text-align: center;
  font-size: 100%;
  background-color: rgba(255, 255, 255, 0.5);
  color: black;
  border: 1px solid #aaa;
  box-sizing: border-box;
}

.sheet-companions .sheet-narrow-input {
  width: 10%;
  height: 23px;
  text-align: center;
  font-size: 90%;
  background-color: rgba(255, 255, 255, 0.5);
  color: black;
  border: 1px solid #aaa;
  box-sizing: border-box;
}

/* Textareas */
.sheet-companions .sheet-npc-textarea {
  width: 100%;
  height: 30px;
  font-size: 90%;
  background-color: rgba(255, 255, 255, 0.5);
  color: black;
  border: 1px solid #666;
  resize: vertical;
  padding: 4px;
  box-sizing: border-box;
  margin-top: 10px;
}

/* Roll Buttons */
.sheet-companions .smallbutton-roll,
.sheet-companions .smallnonskillbutton-roll {
  height: 23px;
  font-size: 90%;
  margin-left: 4px;
}

.sheet-companions .sheet-npc-attribute-grid {
  display: grid;
  grid-template-columns: max-content max-content;
  column-gap: 0px;
  padding-left: 4px;
  margin-top: 2px;
}

.sheet-companions .sheet-npc-attribute-cell {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 85%;
  line-height: 1;
}

.sheet-companions .sheet-npc-attr-label {
  width: 20px;
  text-align: right;
  font-weight: bold;
  color: black;
  margin: 0;
}

.sheet-companions .sheet-npc-attr-input {
  width: 24px;
  height: 10px;
  padding: 1px 0px;
  text-align: center;
  background: rgba(255,255,255,0.5);
  border: 1px solid #aaa;
  box-sizing: border-box;
  color: black;
}

.sheet-companions .sheet-npc-attr-roll {
  height: 20px;
  width: auto;
  padding: 0 2px;
  margin: 0;
}

/* Skills Section */
.sheet-companions .sheet-companion-info-header,
.sheet-companions .sheet-companion-attr-header,
.sheet-companions .sheet-companion-skill-header{
  font-weight: bold;
  margin-top: 0px;
  padding-left: 2px;
  color: black;
}

.sheet-companions .sheet-companion-info-header {
	margin-bottom: 2px;
}

/* Final layout for Weapons section */
.sheet-companions .sheet-npc-content-right {
  background: transparent; /* remove dark background */
  border: none;
  padding: 0;
  margin: 0px;

}

.sheet-companions .sheet-companion-weapon-header {
  font-weight: bold;
  font-size: 120%;
  padding-left: 4px;
  color: black;
}

.ui-dialog .tab-content .charsheet .sheet-npc-val input,
.ui-dialog .tab-content .charsheet .sheet-npc-val button {
  margin: 0;
}

/* Header spans — explicit widths matching their inputs/buttons */
.ui-dialog .tab-content .charsheet .sheet-npc-header-row .sheet-wide-input-header-name,
.ui-dialog .tab-content .charsheet .sheet-npc-header-row .sheet-wide-input-header-skill,
.ui-dialog .tab-content .charsheet .sheet-npc-header-row .sheet-wide-input-header-skill-value,
.ui-dialog .tab-content .charsheet .sheet-npc-header-row .sheet-wide-input-header-dmg,
.ui-dialog .tab-content .charsheet .sheet-npc-header-row .sheet-wide-input-header-maxdmg,
.ui-dialog .tab-content .charsheet .sheet-npc-header-row .sheet-wide-input-header-malf,
.ui-dialog .tab-content .charsheet .sheet-npc-header-row .sheet-wide-input-header-strain,
.ui-dialog .tab-content .charsheet .sheet-npc-header-row .sheet-wide-input-name,
.ui-dialog .tab-content .charsheet .sheet-npc-header-row .sheet-wide-input-skill,
.ui-dialog .tab-content .charsheet .sheet-npc-header-row .sheet-wide-input-skill-value,
.ui-dialog .tab-content .charsheet .sheet-npc-header-row .sheet-wide-input-dmg,
.ui-dialog .tab-content .charsheet .sheet-npc-header-row .sheet-wide-input-maxdmg,
.ui-dialog .tab-content .charsheet .sheet-npc-header-row .sheet-wide-input-malf,
.ui-dialog .tab-content .charsheet .sheet-npc-header-row .sheet-wide-input-strain {
	height: 24px;
	color: black;
	font-size: 100%;
	text-align: center;
	margin: 0px;
}

.ui-dialog .tab-content .charsheet .sheet-wide-input-name,
.ui-dialog .tab-content .charsheet .sheet-wide-input-name input,
.ui-dialog .tab-content .charsheet .sheet-wide-input-header-name {
	width: 170px;
}

.ui-dialog .tab-content .charsheet .sheet-wide-input-skill,
.ui-dialog .tab-content .charsheet .sheet-wide-input-header-skill {
	width: 100px;
}

.ui-dialog .tab-content .charsheet .sheet-wide-input-header-value,
.ui-dialog .tab-content .charsheet .sheet-wide-input-header-skill-value {
	width: 40px;
}

.ui-dialog .tab-content .charsheet .sheet-wide-input-dmg,
.ui-dialog .tab-content .charsheet .sheet-wide-input-maxdmg,
.ui-dialog .tab-content .charsheet .sheet-wide-input-malf,
.ui-dialog .tab-content .charsheet .sheet-wide-input-strain,
.ui-dialog .tab-content .charsheet .sheet-wide-input-header-dmg,
.ui-dialog .tab-content .charsheet .sheet-wide-input-header-maxdmg,
.ui-dialog .tab-content .charsheet .sheet-wide-input-header-malf,
.ui-dialog .tab-content .charsheet .sheet-wide-input-header-strain {
  width: 60px;
}

.ui-dialog .tab-content .charsheet .sheet-wide-input-noimproll,
.ui-dialog .tab-content .charsheet .sheet-wide-input-improll,
.ui-dialog .tab-content .charsheet .sheet-wide-input-header-noimproll,
.ui-dialog .tab-content .charsheet .sheet-wide-input-header-improll {
  width: 45px;
  height: 24px;
  color: black;
  font-size: 75%;
  margin: 0px 10px 8px 10px;
}

.ui-dialog .tab-content .charsheet .sheet-select-npc-skill {
	width: 100px;
	height: 24px;
	margin-top: 10px;
}

.ui-dialog .tab-content .charsheet .sheet-npc-row .smallbutton-roll {
  height: 24px;
  width: 24px;
  color: black;
}

.ui-dialog .tab-content .charsheet .sheet-companions .sheet-col {
  width: 60px;
  text-align: center;
}

.ui-dialog .tab-content .charsheet .sheet-companions .sheet-col:first-child {
  width: 170px;
}

/* Optional: style inputs/buttons/spans inside */
.ui-dialog .tab-content .charsheet .sheet-col input,
.ui-dialog .tab-content .charsheet .sheet-col button,
.ui-dialog .tab-content .charsheet .sheet-col span {
  width: 100%;
  height: 24px;
}

.ui-dialog .tab-content .charsheet .sheet-companions .sheet-attr-input-small {
	border: 0px;
	margin-top: 1px;
}

/* Inputs in weapons section */
.sheet-companions .sheet-npc-content-right input.sheet-wide-input {
  width: 100%;
  max-width: 170px;
  height: 24px;
}

.sheet-companions .sheet-npc-content-right input.sheet-narrow-input {
  width: 60px;
  height: 24px;
}

.sheet-companions .sheet-npc-content-right .sheet-wide-input {
  max-width: 48%;
}

.sheet-social-mode-toggle[value="0"] ~ .sheet-toggle-social-mode-on-bonus,
.sheet-social-mode-toggle[value="0"] ~ .sheet-toggle-social-mode-on-penalty {
  display: none;
}

.sheet-social-mode-toggle[value="1"] ~ .sheet-toggle-social-mode-off,
.sheet-social-mode-toggle[value="1"] ~ .sheet-toggle-social-mode-on-bonus {
  display: none;
}

.sheet-social-mode-toggle[value="2"] ~ .sheet-toggle-social-mode-off,
.sheet-social-mode-toggle[value="2"] ~ .sheet-toggle-social-mode-on-penalty {
  display: none;
}

.sheet-toggle-social-mode-off,
.sheet-toggle-social-mode-on-bonus,
.sheet-toggle-social-mode-on-penalty {
  display: inline-block;
}

.sheet-initdexnpc-wrapper {
    display: flex;
    gap: 6px;
    align-items: center;
    justify-content: flex-start;
}

/* --------------------------- Vehicles -------------------------------------------------------------*/
.sheet-vehicle-grid {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  justify-content: space-between;
  width: 100%;
  max-width: 100%;
}

.sheet-vehicle-column-right {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.sheet-vehicle-column-left {
  width: 100%;
  max-width: 100%;
  flex: 1 1 auto;
}

.sheet-vehicle-info {
  display: flex;
  flex: 1 1 100%;
  flex-direction: column;
  gap: 0.25rem;
  max-width: 100%;
  width: 100%;
  box-sizing: border-box;
}

.sheet-vehicle-info .sheet-wide-input {
	height: 23px;
	width: 25px;
}

.sheet-vehicle-info .sheet-name-row .sheet-wide-input{
	height: 23px;
	width: 195px;
}

.sheet-vehicle-row,
.sheet-vehicle-grid-header {
  display: grid;
  grid-template-columns: 30% 70%;
  align-items: top;
  gap: 0.5rem;
}

.sheet-wrapper .sheet-vehicle-col-label {
  font-weight: bold;
  color: black;
}

.sheet-vehicle-col-value {
  display: flex;
  gap: 0.5rem;
  align-items: center;
}

.sheet-vehicle-textarea {
  min-height: 40px;
  resize: vertical;
  padding: 4px;
  width: 100%;
}

.sheet-vehicle-weaponblock {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
}

.sheet-vehicle-impact-row {
  display: flex;
  align-items: flex-start; /* valid */
  gap: 3px;
}

.sheet-vehicle-impact-row > div {
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex: 0 1 auto;
  padding: 0;
  box-sizing: border-box;
}

.sheet-vehicle-impact-row > div > .sheet-vehicle-col-label {
  height: 23px;
  background-color: #f0f0f0;
  text-align: center;
  padding: 4px;
  margin-bottom: 1px;
  border: 1px solid #8b8680;
  color: #a9a9a9;
}

.sheet-vehicles-wrapper .sheet-name-row {
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: left;
}

/* ------------------------ Summary Text - Start ---------------------------------------------------- */

.ui-dialog .tab-content .charsheet .sheet-summary-collapsible {
	position: relative;
}

.ui-dialog .tab-content .charsheet .sheet-summary-collapsible label {
	background: black;
	margin: 0px;
}

.ui-dialog .tab-content .charsheet .sheet-summary-collapsible h3 {
	color: #ccc;
	font-size: 85%;
	margin-left: 6px;
}

.ui-dialog .tab-content .charsheet .sheet-summary-collapsible .sheet-summary-toggle {
	position: absolute;
	opacity: 0;
	width: 0;
	height: 0;
	pointer-events: none;
}

.ui-dialog .tab-content .charsheet .sheet-summary-collapsible .sheet-summary-header {
	display: block;
	cursor: pointer;
}

.ui-dialog .tab-content .charsheet .sheet-summary-collapsible .sheet-summary-body {
	display: none; /* collapsed by default */
}

/* expand */
.ui-dialog .tab-content .charsheet .sheet-summary-collapsible .sheet-summary-toggle:checked ~ .sheet-summary-body {
	display: block;
}

/* optional: chevron */
.ui-dialog .tab-content .charsheet .sheet-summary-collapsible .sheet-summary-header::after {
	content: "▸";
	float: right;
	opacity: 0.8;
}

.ui-dialog .tab-content .charsheet .sheet-summary-collapsible .sheet-summary-toggle:checked ~ .sheet-summary-header::after {
	content: "▾";
}

/* ------------------------ Summary Text - End---------------------------------------------------- */
/* ------------------------ Summary Type - Start ---------------------------------------------------- */

.ui-dialog .tab-content .charsheet .sheet-summary-toggle {
	position: absolute;
	opacity: 0;
	width: 0;
	height: 0;
	pointer-events: none;
}

.ui-dialog .tab-content .charsheet .sheet-summary-header {
	display: block;
	cursor: pointer;
}
/* Make open sections visually distinct */
.ui-dialog .tab-content .charsheet .sheet-summary-toggle:checked ~ .sheet-summary-header {
	background: #444;
	border-left: 4px solid rgba(80, 140, 210, 0.75);
}

/* Optional: disclosure caret */
.ui-dialog .tab-content .charsheet .sheet-summary-header::after {
	content: "▸";
	float: right;
	opacity: 0.7;
}

.ui-dialog .tab-content .charsheet .sheet-summary-toggle:checked ~ .sheet-summary-header::after {
	content: "▾";
	opacity: 0.9;
}

.ui-dialog .tab-content .charsheet .sheet-summary-toggle:checked ~ .sheet-summary-body {
	display: block;
}

/* If the body is wrapped in .sheet-summary-row (e.g. Reaction), show it when the main toggle is open */
.ui-dialog .tab-content .charsheet .sheet-summary-toggle:checked ~ .sheet-summary-row .sheet-summary-body {
	display: block;
}

/* allow "\n" in attr spans */
.ui-dialog .tab-content .charsheet .sheet-summary-body span[name^="attr_summary_type_"] {
	white-space: pre-line;
}

/* 1) Hide the entire row (list + handle + drawer) unless the main section toggle is open */
.ui-dialog .tab-content .charsheet .sheet-summary-row {
	display: none;
}

.ui-dialog .tab-content .charsheet .sheet-summary-toggle:checked ~ .sheet-summary-row {
	display: flex;
	position: relative;
	align-items: flex-start;
	gap: 6px;
}

/* 2) Keep the handle from stretching / reserve a little right padding so list text doesn't sit under it */
.ui-dialog .tab-content .charsheet .sheet-summary-body {
	display: none;
	flex: 1 1 auto;
	min-width: 0;
	padding-right: 26px; /* space for the ? handle */
}

/* 3) Ensure the drawer can never "bleed" when the main section is closed */
.ui-dialog .tab-content .charsheet .sheet-summary-toggle:not(:checked) ~ .sheet-summary-row .sheet-summary-drawer {
	display: none;
}

/* Drawer toggle is also a hidden checkbox (same base class), but keep a unique class for clarity */
.ui-dialog .tab-content .charsheet .sheet-summary-drawer-toggle {
	position: absolute;
	opacity: 0;
	width: 0;
	height: 0;
	pointer-events: none;
}

/* Make the ? handle only as wide as its contents (not a full-width bar) */
.ui-dialog .tab-content .charsheet .sheet-summary-drawer-handle {
	display: none;               /* still hidden until main section is open (your existing rule) */
	flex: 0 0 auto;
	width: 18px;
	height: 18px;
	padding: 0;
	margin-top: 2px;
	line-height: 18px;
	text-align: center;
	background: rgba(0,0,0,0.20);
	z-index: 10;
}

/* Only show the handle when the main section is open */
.ui-dialog .tab-content .charsheet .sheet-summary-toggle:checked ~ .sheet-summary-row .sheet-summary-drawer-handle {
	display: inline-block;
}

/* Drawer: overlay to the right so it does NOT consume flex width */
.ui-dialog .tab-content .charsheet .sheet-summary-drawer {
	display: none;
	position: absolute;
	right: 24px;
	top: 0;
	z-index: 5;

	width: 75%;
	min-width: 220px;
	max-width: 600px;

	padding: 6px 8px;
	border-left: 3px solid rgba(80, 140, 210, 0.75);
	background: rgba(0,0,0,1);
	color: white;
	overflow: auto;
	max-height: 220px;
	box-shadow: 0 2px 10px rgba(0,0,0,0.45);
}

/* When open, show the drawer overlay */
.ui-dialog .tab-content .charsheet .sheet-summary-drawer-toggle:checked ~ .sheet-summary-drawer {
	display: block;
}

/* Drawer text formatting */
.ui-dialog .tab-content .charsheet .sheet-summary-drawer span[name^="attr_summary_type_"] {
	white-space: pre-line;
}


/* ------------------------ Summary Type - End ---------------------------------------------------- */

/* ------------------------ Ledger Start ---------------------------------------------------- */

.ui-dialog .tab-content .charsheet .sheet-ledger-skill-points,
.ui-dialog .tab-content .charsheet .sheet-ledger-xp,
.ui-dialog .tab-content .charsheet .sheet-ledger-repeating {
	display: flex;
	flex-direction: row;
	justify-content: start;
	align-items: flex-end;
	gap: 8px;
	padding: 4px 0;
}

.ui-dialog .tab-content .charsheet .sheet-ledger-row {
	display: flex;
	flex-direction: column;
	align-items: start;
	width: 80px;               /* Compact fixed width */
	flex-shrink: 0;
}

.ui-dialog .tab-content .charsheet .sheet-character-lock {
	display: flex;
	align-items: center;
	gap: 6px;
	width: fit-content;
}

.ui-dialog .tab-content .charsheet .sheet-ledger-label,
.ui-dialog .tab-content .charsheet .sheet-ledger-row label,
.ui-dialog .tab-content .charsheet .sheet-character-lock label {
	font-size: 10px;
	color: black;
	margin-bottom: 3px;
	line-height: 1.1;
	word-wrap: break-word;
	white-space: normal;
	text-align: center;
	width: 100%;
}

.ui-dialog .tab-content .charsheet .sheet-ledger-label {
	font-weight: 700;
	font-size: 11px;
}

.ui-dialog .tab-content .charsheet .sheet-character-lock label {
	font-size: 100%;
}

.ui-dialog .tab-content .charsheet .sheet-ledger-row input[type="text"] {
	width: 100%;
	max-width: 100%;
	text-align: center;
	font-size: 100%;
	padding: 2px;
}

.ui-dialog .tab-content .charsheet .sheet-ledger-header {
  background: black;
  color: white;
  font-weight: bold;
}

.ui-dialog .tab-content .charsheet .sheet-ledger-header .flex-row {
  display: flex;
  flex-wrap: nowrap;
  flex-direction: row;
  align-items: center;
  width: 100%;
  height: 24px;
  padding: 0;
  margin: 0;
  gap: 0;
}

.ui-dialog .tab-content .charsheet .sheet-ledger-header .flex-cell {
  background: black;
  color: white;
  text-align: center;
}

.ui-dialog .tab-content .charsheet fieldset.repeating_ledger {
  margin: 0;
  padding: 0;
  border: none;
}

/* General Row Styling (Header + Repeating) */
.ui-dialog .tab-content .charsheet .sheet-repeating-ledger-row {
  display: flex;
  flex-wrap: nowrap;
  flex-direction: row;
  align-items: center;
  width: 100%;
  padding: 0;
  margin: 0;
  gap: 0;
}

/* Flex Widths */
.ui-dialog .tab-content .charsheet .ledger-choice { flex: 1 1 18%; }
.ui-dialog .tab-content .charsheet .ledger-value, .ui-dialog .tab-content .charsheet .ledger-value-header { flex: 1 1 8% }
.ui-dialog .tab-content .charsheet .ledger-description { flex: 2 1 74%; }

.ui-dialog .tab-content .charsheet .sheet-xp-cost,
.ui-dialog .tab-content .charsheet .sheet-skill-cost {
	background-color: #ff5b61; /* Light red (muted) */
	color: white;
}

.ui-dialog .tab-content .charsheet .sheet-xp-gain,
.ui-dialog .tab-content .charsheet .sheet-skill-gain {
    background-color: #d9f4d4; /* Light green */
}

.ui-dialog .tab-content .charsheet .sheet-xp-remain,
.ui-dialog .tab-content .charsheet .sheet-skill-remain {
    background-color: #d4ecf9; /* Light blue */
}

.ui-dialog .tab-content .charsheet .sheet-skill-base,
.ui-dialog .tab-content .charsheet .sheet-xp-base {
	background-color: #FFF;
}


/* --------------------- Tabbed Selection Bar - End  --------------------------------------------------------- */


.charsheet div.sheet-simplearmorsection {
    display: none;
}

.sheet-togglesimplearmor[value="1"]:checked ~ div.sheet-simplearmorsection {
    display: block;
}

/* -------------------------------------------------------------------------- */


.charsheet div.sheet-armorsection {
    display: none;
}

.sheet-togglearmor[value="1"]:checked ~ div.sheet-armorsection {
    display: block;
}

/* -------------------------------------------------------------------------- */

.charsheet div.sheet-pulptalentssection {
    display: none;
}

.sheet-toggletalents[value="1"]:checked ~ div.sheet-pulptalentssection {
    display: block;
}

/* -------------------------------------------------------------------------- */


.charsheet div.sheet-bompulpsection {
    display: none;
}

.sheet-pulpbomtoggle[value="1"]:checked ~ div.sheet-bompulpsection {
    display: block;
}

.sheet-pulpbomtoggle[value="1"]:checked ~ div.sheet-sanitysection {
    display: none;
}

/* -------------------------------------------------------------------------- */

.charsheet div.sheet-pulphpsection {
    display: none;
}

.sheet-showpulp[value="1"]:checked ~ div.sheet-pulphpsection {
    display: block;
}

.sheet-showpulp[value="1"]:checked ~ div.sheet-hpsection {
    display: none;
}

/* -------------------------------------------------------------------------- */

.charsheet div.sheet-heroinfo {
    display: none;
}

.sheet-showpulp[value="1"]:checked ~ div.sheet-heroinfo {
    display: block;
}

.sheet-showpulp[value="1"]:checked ~ div.sheet-investigatorinfo {
    display: none;
}

/* -------------------------------------------------------------------------- */

.charsheet div.sheet-pulplogosection {
    display: none;
}

.sheet-showpulp[value="1"]:checked ~ div.sheet-pulplogosection {
    display: block;
}

.sheet-showpulp[value="1"]:checked ~ div.sheet-logosection {
    display: none;
}

/* --------------------------------Era Skills------------------------------------------ */

.charsheet div.sheet-skills1 {
    display: none;
}

.charsheet div.sheet-skills2 {
    display: none;
}

.charsheet div.sheet-skills3 {
    display: none;
}

.charsheet div.sheet-skills4 {
    display: none;
}

.charsheet div.sheet-skills5 {
    display: none;
}

.charsheet div.sheet-skills6 {
    display: none;
}

.charsheet div.sheet-skills7 {
    display: none;
}

.sheet-showskills[value="1"]:checked ~ div.sheet-skills1 {
    display: block;
}

.sheet-showskills[value="2"]:checked ~ div.sheet-skills2 {
    display: block;
}

.sheet-showskills[value="3"]:checked ~ div.sheet-skills3 {
    display: block;
}

.sheet-showskills[value="4"]:checked ~ div.sheet-skills4 {
    display: block;
}

.sheet-showskills[value="5"]:checked ~ div.sheet-skills5 {
    display: block;
}

.sheet-showskills[value="6"]:checked ~ div.sheet-skills6 {
    display: block;
}

.sheet-showskills[value="7"]:checked ~ div.sheet-skills7 {
    display: block;
}



/* ------------------------------Options Config-------------------------------------------- */
.sheet-HideConfig:checked ~ *.sheet-config {
	display:none;
}

.charsheet span.sheet-is-config::after { /*Close Config*/
	content: "^";
}

.charsheet .sheet-HideConfig:checked + span.sheet-is-config::after { /*Show Configuration*/
	content: "v";
}

.charsheet span.sheet-is-config {
    text-align: center;
    display: inline-block;
    width: 5%;
    height: 16px;
    font-size: 9px;
    /*font-family: "Pictos";*/
    /*background: #65763c;*/
    background: black; /*#93537c;*/
	color: white; /*white;*/
	font-weight: bold;
	margin-left: -5%;
}

.charsheet input.sheet-HideConfig {
     width: 5%;
    height: 16px;
    cursor: pointer;
    margin-left: auto;
    margin-top: auto;
	/*position: absolute;
	right: 20%;*/
	opacity: 0;
	z-index: 9999;
}

.charsheet .sheet-HideConfig:checked + span.sheet-is-config {
    background: black;
	color: white;
}

.charsheet label.sheet-configitem {
    margin-left: 10px;
    width: 50px;
    font-size: .9em;
    font-weight: normal;
}

/* ------------------------------Sheet Arrow-------------------------------------------- */


input.sheet-arrow::after {
    float: left;
    font-family: pictos;
    content: "E";
    opacity: 1.5;
}

input.sheet-arrow {
    float: left;
    font-family: pictos;
    content: "E";
    opacity: 0.5;
}

.charsheet .sheet-arrow:checked ~ div.sheet-section,
.charsheet .sheet-arrow:checked ~ div.sheet-skills1,
.charsheet .sheet-arrow:checked ~ div.sheet-skills2,
.charsheet .sheet-arrow:checked ~ div.sheet-skills3,
.charsheet .sheet-arrow:checked ~ div.sheet-skills4,
.charsheet .sheet-arrow:checked ~ div.sheet-skills5,
.charsheet .sheet-arrow:checked ~ div.sheet-skills6,
.charsheet .sheet-arrow:checked ~ div.sheet-skills7 {
    display: none;
}


/* -------------------------------Headers Coloring------------------------------------------- */

.sheet-showskills[value="1"]:checked ~ h4.sheet-section-head {
    background-image: linear-gradient(black, #840032);
    background-color: #840032;
    color: white;
    text-align: center;
    font-weight: normal;
    font-style: normal;
    border: 1px solid black;
}

.sheet-showskills[value="2"]:checked ~ h4.sheet-section-head {
    background-image: linear-gradient(black, #262626);
    background-color: black;
    color: white;
    text-align: center;
    font-weight: normal;
    font-style: normal;
    border: 1px solid black;
}

.sheet-showskills[value="3"]:checked ~ h4.sheet-section-head {
    background-image: linear-gradient(black, #112749);
    background-color: #112749;
    color: white;
    text-align: center;
    font-weight: normal;
    font-style: normal;
    border: 1px solid black;
}

.sheet-showskills[value="4"]:checked ~ h4.sheet-section-head {
    background-image: linear-gradient(black, #273f13);
    background-color: #273f13;
    color: white;
    text-align: center;
    font-weight: normal;
    font-style: normal;
    border: 1px solid black;
}

.sheet-showskills[value="5"]:checked ~ h4.sheet-section-head {
    background-image: linear-gradient(black, #6B5A38);
    background-color: #6B5A38;
    color: white;
    text-align: center;
    font-weight: normal;
    font-style: normal;
    border: 1px solid black;
}

.sheet-showskills[value="6"]:checked ~ h4.sheet-section-head {
    background-image: linear-gradient(black, #31657b);
    background-color: #31657b;
    color: white;
    text-align: center;
    font-weight: normal;
    font-style: normal;
    border: 1px solid black;
}

.sheet-showskills[value="7"]:checked ~ h4.sheet-section-head {
    background-image: linear-gradient(black, #65356f);
    background-color: #65356f;
    color: white;
    text-align: center;
    font-weight: normal;
    font-style: normal;
    border: 1px solid black;
}

.sheet-showpulp[value="1"]:checked ~ h4.sheet-section-head,
.sheet-showpulp[value="1"]:checked ~ div.sheet-pulphpsection h4.sheet-section-head,
.sheet-showpulp[value="1"]:checked ~ div.sheet-heroinfo h4.sheet-section-head {
    background-image: linear-gradient(#750000, #800000);
    background-color: #800000;
    color: white;
    text-align: center;
    font-weight: normal;
    font-style: normal;
    border: 1px solid black;
}

/* -------------------------------------------------------------------------- */

/* ------------------------------------------  Roll Templates --------------------------------------- */

/* BD/PD defence rolltemplate */
.sheet-rolltemplate-coc-defence table {
    width: 100%;
    border: 1px solid black;
    color: black;
    background: #ffffff;
}
.sheet-rolltemplate-coc-defence caption {
    text-align: center;
    background: black;
    color: white;
    font-weight: bold;
    padding: 2px;
  border: 1px solid black;
  line-height: 1.6em;
}
.sheet-rolltemplate-coc-defence td {
  padding: 2px;
  border-bottom: 1px solid black;
}
.sheet-rolltemplate-coc-defence td.sheet-template_label {
    font-weight: bold;
}
.sheet-rolltemplate-coc-defence td.sheet-template_value {
    text-align: center;
}
.sheet-rolltemplate-coc-defence .inlinerollresult  {
  display: inline-block;
  min-width: 1.5em;
  text-align: center;
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-defence .inlinerollresult.fullcrit {
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-defence .inlinerollresult.fullfail {
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-defence .inlinerollresult.importantroll {
  border: 2px solid black;
    background: #702c91;
}



/* simple defence rolltemplate */
.sheet-rolltemplate-coc-defence-1 table {
    width: 100%;
    border: 1px solid black;
    color: black;
    background: #ffffff;
}
.sheet-rolltemplate-coc-defence-1 caption {
    text-align: center;
    background: black;
    color: white;
    font-weight: bold;
    padding: 2px;
  border: 1px solid black;
  line-height: 1.6em;
}
.sheet-rolltemplate-coc-defence-1 td {
  padding: 2px;
  border-bottom: 1px solid black;
}
.sheet-rolltemplate-coc-defence-1 td.sheet-template_label {
    font-weight: bold;
}
.sheet-rolltemplate-coc-defence-1 td.sheet-template_value {
    text-align: center;
}
.sheet-rolltemplate-coc-defence-1 .inlinerollresult  {
  display: inline-block;
  min-width: 1.5em;
  text-align: center;
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-defence-1 .inlinerollresult.fullcrit {
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-defence-1 .inlinerollresult.fullfail {
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-defence-1 .inlinerollresult.importantroll {
  border: 2px solid black;
    background: #702c91;
}


/* Vehicular Attack rolltemplate */
.sheet-rolltemplate-coc-vehicleattack table {
    width: 100%;
    border: 1px solid black;
    color: black;
    background: #ffffff;
}
.sheet-rolltemplate-coc-vehicleattack caption {
    text-align: center;
    background: black;
    color: white;
    font-weight: bold;
    padding: 2px;
  border: 1px solid black;
  line-height: 1.6em;
}
.sheet-rolltemplate-coc-vehicleattack td {
  padding: 2px;
  border-bottom: 1px solid black;
}
.sheet-rolltemplate-coc-vehicleattack td.sheet-template_label {
    font-weight: bold;
}
.sheet-rolltemplate-coc-vehicleattack td.sheet-template_value {
    text-align: center;
}
.sheet-rolltemplate-coc-vehicleattack .inlinerollresult  {
  display: inline-block;
  min-width: 1.5em;
  text-align: center;
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-vehicleattack .inlinerollresult.fullcrit {
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-vehicleattack .inlinerollresult.fullfail {
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-vehicleattack .inlinerollresult.importantroll {
  border: 2px solid black;
    background: #702c91;
}


/* PD/BD rolltemplate */
.sheet-rolltemplate-coc table,
.sheet-rolltemplate-coc-penalty table,
.sheet-rolltemplate-coc-bonus table {
  width: 100%;
  border: 1px solid black;
  color: black;
  background: #ffffff;
}

.sheet-rolltemplate-coc caption,
.sheet-rolltemplate-coc-penalty caption,
.sheet-rolltemplate-coc-bonus caption {
  text-align: center;
  background: black;
  color: white;
  font-weight: bold;
  padding: 2px;
  border: 1px solid black;
  line-height: 1.6em;
}

.sheet-rolltemplate-coc td,
.sheet-rolltemplate-coc-penalty td,
.sheet-rolltemplate-coc-bonus td {
  padding: 2px;
  border-bottom: 1px solid black;
}

.sheet-rolltemplate-coc td.sheet-template_label,
.sheet-rolltemplate-coc-penalty td.sheet-template_label,
.sheet-rolltemplate-coc-bonus td.sheet-template_label {
  font-weight: bold;
}

.sheet-rolltemplate-coc td.sheet-template_value,
.sheet-rolltemplate-coc-penalty td.sheet-template_value,
.sheet-rolltemplate-coc-bonus td.sheet-template_value {
  text-align: center;
}
.sheet-rolltemplate-coc td.sheet-template_value,
.sheet-rolltemplate-coc-penalty td.sheet-template_value,
.sheet-rolltemplate-coc-bonus td.sheet-template_value,
.sheet-rolltemplate-coc td.sheet-template_value_critical,
.sheet-rolltemplate-coc-penalty td.sheet-template_value_critical,
.sheet-rolltemplate-coc-bonus td.sheet-template_value_critical,
.sheet-rolltemplate-coc td.sheet-template_value_success,
.sheet-rolltemplate-coc-penalty td.sheet-template_value_success,
.sheet-rolltemplate-coc-bonus td.sheet-template_value_success,
.sheet-rolltemplate-coc td.sheet-template_value_hard,
.sheet-rolltemplate-coc-penalty td.sheet-template_value_hard,
.sheet-rolltemplate-coc-bonus td.sheet-template_value_hard,
.sheet-rolltemplate-coc td.sheet-template_value_extreme,
.sheet-rolltemplate-coc-penalty td.sheet-template_value_extreme,
.sheet-rolltemplate-coc-bonus td.sheet-template_value_extreme,
.sheet-rolltemplate-coc td.sheet-template_value_fail,
.sheet-rolltemplate-coc-penalty td.sheet-template_value_fail,
.sheet-rolltemplate-coc-bonus td.sheet-template_value_fail,
.sheet-rolltemplate-coc td.sheet-template_value_fumble,
.sheet-rolltemplate-coc-penalty td.sheet-template_value_fumble,
.sheet-rolltemplate-coc-bonus td.sheet-template_value_fumble {
  text-align: center;
}

.sheet-rolltemplate-coc td.sheet-template_label,
.sheet-rolltemplate-coc-penalty td.sheet-template_label,
.sheet-rolltemplate-coc-bonus td.sheet-template_label,
.sheet-rolltemplate-coc td.sheet-template_value_critical,
.sheet-rolltemplate-coc-penalty td.sheet-template_value_critical,
.sheet-rolltemplate-coc-bonus td.sheet-template_value_critical,
.sheet-rolltemplate-coc td.sheet-template_value_extreme,
.sheet-rolltemplate-coc-penalty td.sheet-template_value_extreme,
.sheet-rolltemplate-coc-bonus td.sheet-template_value_extreme,
.sheet-rolltemplate-coc td.sheet-template_value_fumble,
.sheet-rolltemplate-coc-penalty td.sheet-template_value_fumble,
.sheet-rolltemplate-coc-bonus td.sheet-template_value_fumble {
  font-weight: bold;
}

.sheet-rolltemplate-coc td.sheet-template_value_critical,
.sheet-rolltemplate-coc-penalty td.sheet-template_value_critical,
.sheet-rolltemplate-coc-bonus td.sheet-template_value_critical {
  background: Lime;
}

.sheet-rolltemplate-coc td.sheet-template_value_success,
.sheet-rolltemplate-coc-penalty td.sheet-template_value_success,
.sheet-rolltemplate-coc-bonus td.sheet-template_value_success {
  background: DarkGreen;
}

.sheet-rolltemplate-coc td.sheet-template_value_hard,
.sheet-rolltemplate-coc-penalty td.sheet-template_value_hard,
.sheet-rolltemplate-coc-bonus td.sheet-template_value_hard {
  background: Green;
}

.sheet-rolltemplate-coc td.sheet-template_value_extreme,
.sheet-rolltemplate-coc-penalty td.sheet-template_value_extreme,
.sheet-rolltemplate-coc-bonus td.sheet-template_value_extreme {
  background: LightGreen;
}

.sheet-rolltemplate-coc td.sheet-template_value_fail,
.sheet-rolltemplate-coc-penalty td.sheet-template_value_fail,
.sheet-rolltemplate-coc-bonus td.sheet-template_value_fail {
  background: Crimson;
}

.sheet-rolltemplate-coc td.sheet-template_value_fumble,
.sheet-rolltemplate-coc-penalty td.sheet-template_value_fumble,
.sheet-rolltemplate-coc-bonus td.sheet-template_value_fumble {
  background: Red;
}


.sheet-rolltemplate-coc .inlinerollresult,
.sheet-rolltemplate-coc-penalty .inlinerollresult,
.sheet-rolltemplate-coc-bonus .inlinerollresult {
  display: inline-block;
  min-width: 1.5em;
  text-align: center;
  border: 2px solid black;
  color: white;
  background: #702c91;
}

.sheet-rolltemplate-coc .inlinerollresult.fullcrit,
.sheet-rolltemplate-coc-penalty .inlinerollresult.fullcrit,
.sheet-rolltemplate-coc-bonus .inlinerollresult.fullcrit {
  border: 2px solid black;
  background: #702c91;
}

.sheet-rolltemplate-coc .inlinerollresult.fullfail,
.sheet-rolltemplate-coc-penalty .inlinerollresult.fullfail,
.sheet-rolltemplate-coc-bonus .inlinerollresult.fullfail {
  border: 2px solid black;
  background: #702c91;
}

.sheet-rolltemplate-coc .inlinerollresult.importantroll,
.sheet-rolltemplate-coc-penalty .inlinerollresult.importantroll,
.sheet-rolltemplate-coc-bonus .inlinerollresult.importantroll {
  border: 2px solid black;
  background: #702c91;
}


/* -------------------------------------------------------------------------- */

/*  PD/BD Attack rolltemplate */
.sheet-rolltemplate-coc-attack table {
    width: 100%;
    border: 1px solid black;
    color: black;
    background: #ffffff;
}
.sheet-rolltemplate-coc-attack caption {
    text-align: center;
    background: black;
    color: white;
    font-weight: bold;
    padding: 2px;
  border: 1px solid black;
  line-height: 1.6em;
}
.sheet-rolltemplate-coc-attack td {
  padding: 2px;
  border-bottom: 1px solid black;
}
.sheet-rolltemplate-coc-attack td.sheet-template_label {
    font-weight: bold;
}
.sheet-rolltemplate-coc-attack td.sheet-template_value {
    text-align: center;
}
.sheet-rolltemplate-coc-attack .inlinerollresult  {
  display: inline-block;
  min-width: 1.5em;
  text-align: center;
  border: 2px solid black;
  background: #702c91;
  color:white;
}
.sheet-rolltemplate-coc-attack .inlinerollresult.fullcrit {
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-attack .inlinerollresult.fullfail {
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-attack .inlinerollresult.importantroll {
  border: 2px solid black;
    background: #702c91;
}

/* -------------------------------------------------------------------------- */

/* simple (no PD/BD) rolltemplate */
.sheet-rolltemplate-coc-1 table {
    width: 100%;
    border: 1px solid black;
    color: black;
    background: #FFFFFF;
}
.sheet-rolltemplate-coc-1 caption {
    text-align: center;
    background: black;
    color: white;
    font-weight: bold;
	line-height: 1.6em;
}
.sheet-rolltemplate-coc-1 tr.template_row_background {
    background: #702c91;
}
.sheet-rolltemplate-coc-1 caption,
.sheet-rolltemplate-coc-1 td {
  padding: 2px;
  border-bottom: 1px solid black;
}

.sheet-rolltemplate-coc-1 td.sheet-template_value,
.sheet-rolltemplate-coc-1 td.sheet-template_value_critical,
.sheet-rolltemplate-coc-1 td.sheet-template_value_success,
.sheet-rolltemplate-coc-1 td.sheet-template_value_hard,
.sheet-rolltemplate-coc-1 td.sheet-template_value_extreme,
.sheet-rolltemplate-coc-1 td.sheet-template_value_fail,
.sheet-rolltemplate-coc-1 td.sheet-template_value_fumble {
    text-align: center;
}
.sheet-rolltemplate-coc-1 td.sheet-template_label,
.sheet-rolltemplate-coc-1 td.sheet-template_value_critical,
.sheet-rolltemplate-coc-1 td.sheet-template_value_extreme,
.sheet-rolltemplate-coc-1 td.sheet-template_value_fumble {
	font-weight: bold;
}

.sheet-rolltemplate-coc-1 td.sheet-template_value_critical {
	background: Lime;
}
.sheet-rolltemplate-coc-1 td.sheet-template_value_success {
	background: DarkGreen;
}
.sheet-rolltemplate-coc-1 td.sheet-template_value_hard {
    background: Green;
}
.sheet-rolltemplate-coc-1 td.sheet-template_value_extreme {
	background: LightGreen;
}
.sheet-rolltemplate-coc-1 td.sheet-template_value_fail {
    background: Crimson;
	color: #FFCCCB;
}
.sheet-rolltemplate-coc-1 td.sheet-template_value_fumble {
	background: Red;
}
.sheet-rolltemplate-coc-1 .inlinerollresult  {
	display: inline-block;
	min-width: 1.5em;
	text-align: center;
	color:white;
}
.sheet-rolltemplate-coc-1 .inlinerollresult,
.sheet-rolltemplate-coc-1 .inlinerollresult.fullcrit,
.sheet-rolltemplate-coc-1 .inlinerollresult.fullfail,
.sheet-rolltemplate-coc-1 .inlinerollresult.importantroll {
	border: 2px solid black;
    background: #702c91;
}


/* -------------------------------------------------------------------------- */

/* unified styles for regular, impale, and no-impale attack templates */

.sheet-rolltemplate-coc-attack-1 table,
.sheet-rolltemplate-coc-attack-1-impale table,
.sheet-rolltemplate-coc-attack-1-noimpale table {
    width: 100%;
    border: 1px solid black;
    color: black;
    background: #FFFFFF;
}

.sheet-rolltemplate-coc-attack-1 caption,
.sheet-rolltemplate-coc-attack-1-impale caption,
.sheet-rolltemplate-coc-attack-1-noimpale caption {
    text-align: center;
    background: black;
    color: white;
    font-weight: bold;
    padding: 2px;
    border: 1px solid black;
    line-height: 1.6em;
}

.sheet-rolltemplate-coc-attack-1 tr.template_row_background,
.sheet-rolltemplate-coc-attack-1-impale tr.template_row_background,
.sheet-rolltemplate-coc-attack-1-noimpale tr.template_row_background {
    background: #702c91;
}

.sheet-rolltemplate-coc-attack-1 td,
.sheet-rolltemplate-coc-attack-1-impale td,
.sheet-rolltemplate-coc-attack-1-noimpale td {
    padding: 2px;
    border-bottom: 1px solid black;
}

.sheet-rolltemplate-coc-attack-1 td.sheet-template_label,
.sheet-rolltemplate-coc-attack-1-impale td.sheet-template_label,
.sheet-rolltemplate-coc-attack-1-noimpale td.sheet-template_label {
    font-weight: bold;
}

.sheet-rolltemplate-coc-attack-1 td.sheet-template_value,
.sheet-rolltemplate-coc-attack-1 td.sheet-template_value_critical,
.sheet-rolltemplate-coc-attack-1 td.sheet-template_value_success,
.sheet-rolltemplate-coc-attack-1 td.sheet-template_value_hard,
.sheet-rolltemplate-coc-attack-1 td.sheet-template_value_extreme,
.sheet-rolltemplate-coc-attack-1 td.sheet-template_value_fail,
.sheet-rolltemplate-coc-attack-1 td.sheet-template_value_fumble,

.sheet-rolltemplate-coc-attack-1-impale td.sheet-template_value,
.sheet-rolltemplate-coc-attack-1-impale td.sheet-template_value_critical,
.sheet-rolltemplate-coc-attack-1-impale td.sheet-template_value_success,
.sheet-rolltemplate-coc-attack-1-impale td.sheet-template_value_hard,
.sheet-rolltemplate-coc-attack-1-impale td.sheet-template_value_extreme,
.sheet-rolltemplate-coc-attack-1-impale td.sheet-template_value_fail,
.sheet-rolltemplate-coc-attack-1-impale td.sheet-template_value_fumble,

.sheet-rolltemplate-coc-attack-1-noimpale td.sheet-template_value,
.sheet-rolltemplate-coc-attack-1-noimpale td.sheet-template_value_critical,
.sheet-rolltemplate-coc-attack-1-noimpale td.sheet-template_value_success,
.sheet-rolltemplate-coc-attack-1-noimpale td.sheet-template_value_hard,
.sheet-rolltemplate-coc-attack-1-noimpale td.sheet-template_value_extreme,
.sheet-rolltemplate-coc-attack-1-noimpale td.sheet-template_value_fail,
.sheet-rolltemplate-coc-attack-1-noimpale td.sheet-template_value_fumble {
    text-align: center;
}

.sheet-rolltemplate-coc-attack-1 td.sheet-template_value_critical,
.sheet-rolltemplate-coc-attack-1 td.sheet-template_value_extreme,
.sheet-rolltemplate-coc-attack-1 td.sheet-template_value_fumble,

.sheet-rolltemplate-coc-attack-1-impale td.sheet-template_value_critical,
.sheet-rolltemplate-coc-attack-1-impale td.sheet-template_value_extreme,
.sheet-rolltemplate-coc-attack-1-impale td.sheet-template_value_fumble,

.sheet-rolltemplate-coc-attack-1-noimpale td.sheet-template_value_critical,
.sheet-rolltemplate-coc-attack-1-noimpale td.sheet-template_value_extreme,
.sheet-rolltemplate-coc-attack-1-noimpale td.sheet-template_value_fumble {
    font-weight: bold;
}

.sheet-rolltemplate-coc-attack-1 td.sheet-template_value_critical,
.sheet-rolltemplate-coc-attack-1-impale td.sheet-template_value_critical,
.sheet-rolltemplate-coc-attack-1-noimpale td.sheet-template_value_critical {
    background: Lime;
}

.sheet-rolltemplate-coc-attack-1 td.sheet-template_value_success,
.sheet-rolltemplate-coc-attack-1-impale td.sheet-template_value_success,
.sheet-rolltemplate-coc-attack-1-noimpale td.sheet-template_value_success {
    background: DarkGreen;
}

.sheet-rolltemplate-coc-attack-1 td.sheet-template_value_hard,
.sheet-rolltemplate-coc-attack-1-impale td.sheet-template_value_hard,
.sheet-rolltemplate-coc-attack-1-noimpale td.sheet-template_value_hard {
    background: Green;
}

.sheet-rolltemplate-coc-attack-1 td.sheet-template_value_extreme,
.sheet-rolltemplate-coc-attack-1-impale td.sheet-template_value_extreme,
.sheet-rolltemplate-coc-attack-1-noimpale td.sheet-template_value_extreme {
    background: LightGreen;
}

.sheet-rolltemplate-coc-attack-1 td.sheet-template_value_fail,
.sheet-rolltemplate-coc-attack-1-impale td.sheet-template_value_fail,
.sheet-rolltemplate-coc-attack-1-noimpale td.sheet-template_value_fail {
    background: Crimson;
}

.sheet-rolltemplate-coc-attack-1 td.sheet-template_value_fumble,
.sheet-rolltemplate-coc-attack-1-impale td.sheet-template_value_fumble,
.sheet-rolltemplate-coc-attack-1-noimpale td.sheet-template_value_fumble {
    background: Red;
}

.sheet-rolltemplate-coc-attack-1 .inlinerollresult,
.sheet-rolltemplate-coc-attack-1-impale .inlinerollresult,
.sheet-rolltemplate-coc-attack-1-noimpale .inlinerollresult {
    display: inline-block;
    min-width: 1.5em;
    text-align: center;
    color: white;
    border: 2px solid black;
    background: #702c91;
}

.sheet-rolltemplate-coc-attack-1 .inlinerollresult.fullcrit,
.sheet-rolltemplate-coc-attack-1-impale .inlinerollresult.fullcrit,
.sheet-rolltemplate-coc-attack-1-noimpale .inlinerollresult.fullcrit,
.sheet-rolltemplate-coc-attack-1 .inlinerollresult.fullfail,
.sheet-rolltemplate-coc-attack-1-impale .inlinerollresult.fullfail,
.sheet-rolltemplate-coc-attack-1-noimpale .inlinerollresult.fullfail,
.sheet-rolltemplate-coc-attack-1 .inlinerollresult.importantroll,
.sheet-rolltemplate-coc-attack-1-impale .inlinerollresult.importantroll,
.sheet-rolltemplate-coc-attack-1-noimpale .inlinerollresult.importantroll {
    border: 2px solid black;
    background: #702c91;
}


/* -------------------------------------------------------------------------- */


/* simple dice-roll rolltemplate */
.sheet-rolltemplate-coc-bp-dice-roll table,
.sheet-rolltemplate-coc-dice-roll table {
    width: 100%;
    border: 1px solid black;
    color: black;
    background: #ffffff;
}

.sheet-rolltemplate-coc-bp-dice-roll caption {
	text-align: center;
	background-image: linear-gradient(Green, Red);
	background-color: Green;
    color: white;
    font-weight: bold;
    padding: 2px;
	border: 1px solid black;
	line-height: 1.6em
}

.sheet-rolltemplate-coc-dice-roll caption {
    text-align: center;
    background: black;
    color: white;
    font-weight: bold;
    padding: 2px;
  border: 1px solid black;
  line-height: 1.6em;
}

.sheet-rolltemplate-coc-bp-dice-roll td,
.sheet-rolltemplate-coc-dice-roll td {
  padding: 2px;
  border-bottom: 1px solid black;
}

.sheet-rolltemplate-coc-bp-dice-roll td.sheet-template_label,
.sheet-rolltemplate-coc-dice-roll td.sheet-template_label {
    font-weight: bold;
}

.sheet-rolltemplate-coc-bp-dice-roll td.sheet-template_value
.sheet-rolltemplate-coc-dice-roll td.sheet-template_value {
    text-align: center;
}

.sheet-rolltemplate-coc-bp-dice-roll .inlinerollresult,
.sheet-rolltemplate-coc-dice-roll .inlinerollresult  {
  display: inline-block;
  min-width: 1.5em;
  text-align: center;
  border: 2px solid black;
    background: #702c91;
  color:white;
}

.sheet-rolltemplate-coc-bp-dice-roll .inlinerollresult.importantroll,
.sheet-rolltemplate-coc-dice-roll .inlinerollresult.importantroll {
  border: 2px solid black;
    background: #702c91;
}

.sheet-rolltemplate-coc-attack-1-impale td.sheet-template_bonus_button,
.sheet-rolltemplate-coc-attack-1-noimpale td.sheet-template_bonus_button,
.sheet-rolltemplate-coc-1 td.sheet-template_bonus_button {
	display: flex;
    text-align: center;
	width: 100%;
	border: 0;
	gap: 0;
	margin: 0;
}

.sheet-rolltemplate-coc-attack-1-impale .sheet-template_bonus_button a,
.sheet-rolltemplate-coc-attack-1-noimpale .sheet-template_bonus_button a,
.sheet-rolltemplate-coc-1 .sheet-template_bonus_button a {
	background: #702c91;
	color: LightBlue;
	font-weight: bold;
	font-size: 100%;
	padding: 1px;
	box-sizing: content-box;
	width: 100%;
	margin-top: -2px;
	margin-bottom: -3px;
	margin-left: -2px;
	margin-right: 2px;
	border: 1px solid lightgreen;
}

.sheet-rolltemplate-coc-attack-1-impale .sheet-template_bonus_button a[href^="~"],
.sheet-rolltemplate-coc-attack-1-noimpale .sheet-template_bonus_button a[href^="~"],
.sheet-rolltemplate-coc-1 .sheet-template_bonus_button a[href^="~"] {
	text-decoration: underline;
}
/* -------------------------------------------------------------------------- */

/* Dark Ages Bout of Madness- Real Time */
.sheet-rolltemplate-coc-bomadness-da-rt table {
    width: 100%;
    border: 1px solid black;
    color: black;
    background: #ffffff;
}
.sheet-rolltemplate-coc-bomadness-da-rt caption {
    text-align: center;
    background: black;
    color: white;
    font-weight: bold;
    padding: 2px;
  border: 1px solid black;
  line-height: 1.6em;
}
.sheet-rolltemplate-coc-bomadness-da-rt td {
  padding: 2px;
  border-bottom: 1px solid black;
}
.sheet-rolltemplate-coc-bomadness-da-rt td.sheet-template_label {
    font-weight: Bold;
}
.sheet-rolltemplate-coc-bomadness-da-rt td.sheet-template_value {
    text-align: center;
    background: #ffffff;
}
.sheet-rolltemplate-coc-bomadness-da-rt .inlinerollresult  {
  display: inline-block;
  min-width: 1.5em;
  text-align: center;
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-bomadness-da-rt .inlinerollresult.importantroll {
  border: 2px solid black;
    background: #702c91;
}


/* -------------------------------------------------------------------------- */


/* Bout of Madness- Real Time */
.sheet-rolltemplate-coc-bomadness-rt table {
    width: 100%;
    border: 1px solid black;
    color: black;
    background: #ffffff;
}
.sheet-rolltemplate-coc-bomadness-rt caption {
    text-align: center;
    background: black;
    color: white;
    font-weight: bold;
    padding: 2px;
  border: 1px solid black;
  line-height: 1.6em;
}
.sheet-rolltemplate-coc-bomadness-rt td {
  padding: 2px;
  border-bottom: 1px solid black;
}
.sheet-rolltemplate-coc-bomadness-rt td.sheet-template_label {
    font-weight: Bold;
}
.sheet-rolltemplate-coc-bomadness-rt td.sheet-template_value {
    text-align: center;
    background: #ffffff;
}
.sheet-rolltemplate-coc-bomadness-rt .inlinerollresult  {
  display: inline-block;
  min-width: 1.5em;
  text-align: center;
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-bomadness-rt .inlinerollresult.importantroll {
  border: 2px solid black;
    background: #702c91;
}

/* -------------------------------------------------------------------------- */



/* Pulp Bout of Madness- Real Time */
.sheet-rolltemplate-coc-pulp-bomadness-rt table {
    width: 100%;
    border: 1px solid black;
    color: black;
    background: #ffffff;
}
.sheet-rolltemplate-coc-pulp-bomadness-rt caption {
    text-align: center;
    background: black;
    color: white;
    font-weight: bold;
    padding: 2px;
  border: 1px solid black;
  line-height: 1.6em;
}
.sheet-rolltemplate-coc-pulp-bomadness-rt td {
  padding: 2px;
  border-bottom: 1px solid black;
}
.sheet-rolltemplate-coc-pulp-bomadness-rt td.sheet-template_label {
    font-weight: Bold;
}
.sheet-rolltemplate-coc-pulp-bomadness-rt td.sheet-template_value {
    text-align: center;
    background: #ffffff;
}
.sheet-rolltemplate-coc-pulp-bomadness-rt .inlinerollresult  {
  display: inline-block;
  min-width: 1.5em;
  text-align: center;
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-pulp-bomadness-rt .inlinerollresult.importantroll {
  border: 2px solid black;
    background: #702c91;
}

/* -------------------------------------------------------------------------- */
/* Dark Ages Bout of Madness- Summary */
.sheet-rolltemplate-coc-bomadness-da-summ table {
    width: 100%;
    border: 1px solid black;
    color: black;
    background: #ffffff;
}
.sheet-rolltemplate-coc-bomadness-da-summ caption {
    text-align: center;
    background: black;
    color: white;
    font-weight: bold;
    padding: 2px;
  border: 1px solid black;
  line-height: 1.6em;
}
.sheet-rolltemplate-coc-bomadness-da-summ td {
  padding: 2px;
  border-bottom: 1px solid black;
}
.sheet-rolltemplate-coc-bomadness-da-summ td.sheet-template_label {
    font-weight: Bold;
}
.sheet-rolltemplate-coc-bomadness-da-summ td.sheet-template_value {
    text-align: center;
    background: #ffffff;
}
.sheet-rolltemplate-coc-bomadness-da-summ .inlinerollresult  {
  display: inline-block;
  min-width: 1.5em;
  text-align: center;
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-bomadness-da-summ .inlinerollresult.importantroll {
  border: 2px solid black;
    background: #702c91;
}


/* -------------------------------------------------------------------------- */


/* Bout of Madness- Summary */
.sheet-rolltemplate-coc-bomadness-summ table {
    width: 100%;
    border: 1px solid black;
    color: black;
    background: #ffffff;
}
.sheet-rolltemplate-coc-bomadness-summ caption {
    text-align: center;
    background: black;
    color: white;
    font-weight: bold;
    padding: 2px;
  border: 1px solid black;
  line-height: 1.6em;
}
.sheet-rolltemplate-coc-bomadness-summ td {
  padding: 2px;
  border-bottom: 1px solid black;
}
.sheet-rolltemplate-coc-bomadness-summ td.sheet-template_label {
    font-weight: Bold;
}
.sheet-rolltemplate-coc-bomadness-summ td.sheet-template_value {
    text-align: center;
    background: #ffffff;
}
.sheet-rolltemplate-coc-bomadness-summ .inlinerollresult  {
  display: inline-block;
  min-width: 1.5em;
  text-align: center;
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-bomadness-summ .inlinerollresult.importantroll {
  border: 2px solid black;
    background: #702c91;
}

/* -------------------------------------------------------------------------- */



/* Pulp Bout of Madness- Summary */
.sheet-rolltemplate-coc-pulp-bomadness-summ table {
    width: 100%;
    border: 1px solid black;
    color: black;
    background: #ffffff;
}
.sheet-rolltemplate-coc-pulp-bomadness-summ caption {
    text-align: center;
    background: black;
    color: white;
    font-weight: bold;
    padding: 2px;
  border: 1px solid black;
  line-height: 1.6em;
}
.sheet-rolltemplate-coc-pulp-bomadness-summ td {
  padding: 2px;
  border-bottom: 1px solid black;
}
.sheet-rolltemplate-coc-pulp-bomadness-summ td.sheet-template_label {
    font-weight: Bold;
}
.sheet-rolltemplate-coc-pulp-bomadness-summ td.sheet-template_value {
    text-align: center;
    background: #ffffff;
}
.sheet-rolltemplate-coc-pulp-bomadness-summ .inlinerollresult  {
  display: inline-block;
  min-width: 1.5em;
  text-align: center;
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-pulp-bomadness-summ .inlinerollresult.importantroll {
  border: 2px solid black;
    background: #702c91;
}

/* -------------------------------------------------------------------------- */

/* simple defence rolltemplate */
.sheet-rolltemplate-coc-defence-2 table {
    width: 100%;
    border: 1px solid black;
    color: black;
    background: #E3DEDB;
}
.sheet-rolltemplate-coc-defence-2 caption {
    text-align: center;
    background-color: black;
    color: white;
    font-weight: bold;
    padding: 2px;
  border: 1px solid black;
  line-height: 1.6em;
}
.sheet-rolltemplate-coc-defence-2 td {
  padding: 2px;
  border-bottom: 1px solid black;
  background: #efefef;
}
.sheet-rolltemplate-coc-defence-2 td.sheet-template_label {
    font-weight: Bold;
    background: #efefef;
}
.sheet-rolltemplate-coc-defence-2 td.sheet-template_value {
    text-align: center;
    background: #efefef;
}
.sheet-rolltemplate-coc-defence-2 .inlinerollresult  {
  display: inline-block;
  min-width: 1.5em;
  text-align: center;
  border: 2px solid black;
    background: #c3c9bd;
}

/* -------------------------------------------------------------------------- */

/* Minion (no PD/BD) Attack rolltemplate */

.sheet-rolltemplate-coc-minionattack table {
    width: 100%;
    border: 1px solid black;
    color: black;
    background: #ffffff;
}
.sheet-rolltemplate-coc-minionattack caption {
    text-align: center;
    background: black;
    color: white;
    font-weight: bold;
    padding: 2px;
  border: 1px solid black;
  line-height: 1.6em;
}
.sheet-rolltemplate-coc-minionattack td {
  padding: 2px;
  border-bottom: 1px solid black;
}
.sheet-rolltemplate-coc-minionattack td.sheet-template_label {
    font-weight: bold;
}
.sheet-rolltemplate-coc-minionattack td.sheet-template_value {
    text-align: center;
}
.sheet-rolltemplate-coc-minionattack .inlinerollresult  {
  display: inline-block;
  min-width: 1.5em;
  text-align: center;
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-minionattack .inlinerollresult.fullcrit {
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-minionattack .inlinerollresult.fullfail {
  border: 2px solid black;
    background: #702c91;
}
.sheet-rolltemplate-coc-minionattack .inlinerollresult.importantroll {
  border: 2px solid black;
    background: #702c91;
}

/* -------------------------------------------------------------------------- */

/* minion defence rolltemplate */
.sheet-rolltemplate-coc-miniondef table {
    width: 100%;
    border: 1px solid black;
    color: black;
    background: #E3DEDB;
}
.sheet-rolltemplate-coc-miniondef caption {
    text-align: center;
    background-color: black;
    color: white;
    font-weight: bold;
    padding: 2px;
  border: 1px solid black;
  line-height: 1.6em;
}
.sheet-rolltemplate-coc-miniondef td {
  padding: 2px;
  border-bottom: 1px solid black;
  background: #efefef;
}
.sheet-rolltemplate-coc-miniondef td.sheet-template_label {
    font-weight: Bold;
    background: #efefef;
}
.sheet-rolltemplate-coc-miniondef td.sheet-template_value {
    text-align: center;
    background: #efefef;
}
.sheet-rolltemplate-coc-miniondef .inlinerollresult  {
  display: inline-block;
  min-width: 1.5em;
  text-align: center;
  border: 2px solid black;
    background: #c3c9bd;
}

/* -------------------------------------------- Buttons Start ---------------------------------- */

/* Repeating Section Buttons - Unified Style */
.sheet-layout .repcontrol_add,
.sheet-layout .repcontrol_edit,
.sheet-layout .repcontrol_del,
.sheet-layout .repcontrol_move {
  background: #333333; /* Dark gray for a clean, unified look */
  color: white;
  font-weight: bold;
  font-size: 0.9em;
  height: 1.5em;
  width: 1.5em;
  border: 1px solid black;
  border-radius: 4px;
  text-align: center;
  padding: 0;
  margin: 2px; /* slight spacing for neatness */
  box-shadow: none;
}

/* Specific Tweaks */
.sheet-layout .repcontrol_add,
.sheet-layout .repcontrol_edit {
  width: auto; /* Add & Edit need flexible width for text */
  padding: 0 6px;
  cursor: pointer;
}

.sheet-layout .repcontrol_del {
  background: #882222; /* Slightly muted red for delete */
  cursor: pointer;
}

.sheet-layout .repcontrol_move {
  cursor: grab;
}

/* Hover Effects (Optional, subtle) */
.sheet-layout .repcontrol_add:hover,
.sheet-layout .repcontrol_edit:hover {
  background: #555555;
}

.sheet-layout .repcontrol_del:hover {
  background: #aa3333;
}

.sheet-layout .repcontrol_move:hover {
  background: #555555;
}


/* ------------------------------- */

/* Button for PD/BD */
button[type=roll].sheet-old-roll {
  color: #390c63;
  background-color: #390c63;
  font-weight: bolder;
  text-align: center;
  width: 20px;
  height: 20px;
  margin: 0.0;
  padding: 0.0em;
  border: 1px solid black;
  border-radius: 5px;
}

/* -------------------------------------------------------------------------- */

/* Button for Simple */
button[type=roll].sheet-new-roll {
  color: #18650D;
  background-color: #248c15;
  font-weight: bolder;
  text-align: center;
  width: 20px;
  height: 20px;
  margin: auto;
  padding: 0.0em;
  border: 1px solid black;
  border-radius: 5px;
  background: black;
}

/* -------------------------------------------------------------------------- */

/* Button Small */
button[type=roll].sheet-dice-roll {
  color: #0000FF;
  background-color: #0000FF;
  font-weight: bolder;
  text-align: center;
  width: 18px;
  height: 18px;
  margin: 0.0;
  padding: 0.0em;
  border: 1px solid black;
  border-radius: 5px;
}

/* -------------------------------------------------------------------------- */

/* Button Smaller */
button[type=roll].sheet-smallbutton-roll {
  color: #18650D;
  background-color: #248c15;
  font-weight: bolder;
  font-size: 12px;
  text-align: center;
  width: 16px;
  height: 16px;
  margin: 0.0;
  padding: 0.0em;
  border: 1px solid black;
  border-radius: 5px;
}

/* -------------------------------------------------------------------------- */

/* Non-Skill Button Smaller */
button[type=roll].sheet-smallnonskillbutton-roll {
  color: #000000;
  background-color: #FFFF00;
  font-weight: bolder;
  font-size: 12px;
  text-align: center;
  width: 16px;
  height: 16px;
  margin: 0.0;
  padding: 0.0em;
  border: 1px solid black;
  border-radius: 5px;
}
/* -------------------------------------------------------------------------- */

/* Button Even Smaller */
button[type=roll].sheet-evensmallerbutton-roll {
  color: #008000;
  background-color: #1a1a1a;
  font-weight: bolder;
  font-size: 1px;
  width: 10px;
  height: 10px;
  margin: 0.0;
  padding: 0.0em;
  border: 1px solid black;
  border-radius: 5px;
}
/* -------------------------------------------- Buttons End ---------------------------------- */